(()=>{var Oc={5016:(de,E,O)=>{"use strict";O.r(E),O.d(E,{isWeb:()=>C,isNode:()=>k,isWeex:()=>g,isKraken:()=>b,isMiniApp:()=>x,isByteDanceMicroApp:()=>w,isBaiduSmartProgram:()=>v,isKuaiShouMiniProgram:()=>m,isWeChatMiniProgram:()=>y,isQuickApp:()=>l,default:()=>o});var C=typeof window!="undefined"&&"onload"in window,k=typeof process!="undefined"&&!!(process.versions&&process.versions.node),g=typeof WXEnvironment!="undefined"&&WXEnvironment.platform!=="Web",b=typeof __kraken__!="undefined",x=typeof my!="undefined"&&my!==null&&typeof my.alert!="undefined",w=typeof tt!="undefined"&&tt!==null&&typeof tt.showToast!="undefined",v=typeof swan!="undefined"&&swan!==null&&typeof swan.showToast!="undefined",m=typeof ks!="undefined"&&ks!==null&&typeof ks.showToast!="undefined",y=!w&&typeof wx!="undefined"&&wx!==null&&(typeof wx.request!="undefined"||typeof wx.miniProgram!="undefined"),l=typeof O.g!="undefined"&&O.g!==null&&typeof O.g.callNative!="undefined"&&!g;const o={isWeb:C,isNode:k,isWeex:g,isKraken:b,isMiniApp:x,isByteDanceMicroApp:w,isBaiduSmartProgram:v,isKuaiShouMiniProgram:m,isWeChatMiniProgram:y,isQuickApp:l}},746:(de,E)=>{"use strict";var O=32;E.INT_BITS=O,E.INT_MAX=2147483647,E.INT_MIN=-1<<O-1,E.sign=function(g){return(g>0)-(g<0)},E.abs=function(g){var b=g>>O-1;return(g^b)-b},E.min=function(g,b){return b^(g^b)&-(g<b)},E.max=function(g,b){return g^(g^b)&-(g<b)},E.isPow2=function(g){return!(g&g-1)&&!!g},E.log2=function(g){var b,x;return b=(g>65535)<<4,g>>>=b,x=(g>255)<<3,g>>>=x,b|=x,x=(g>15)<<2,g>>>=x,b|=x,x=(g>3)<<1,g>>>=x,b|=x,b|g>>1},E.log10=function(g){return g>=1e9?9:g>=1e8?8:g>=1e7?7:g>=1e6?6:g>=1e5?5:g>=1e4?4:g>=1e3?3:g>=100?2:g>=10?1:0},E.popCount=function(g){return g=g-(g>>>1&1431655765),g=(g&858993459)+(g>>>2&858993459),(g+(g>>>4)&252645135)*16843009>>>24};function C(g){var b=32;return g&=-g,g&&b--,g&65535&&(b-=16),g&16711935&&(b-=8),g&252645135&&(b-=4),g&858993459&&(b-=2),g&1431655765&&(b-=1),b}E.countTrailingZeros=C,E.nextPow2=function(g){return g+=g===0,--g,g|=g>>>1,g|=g>>>2,g|=g>>>4,g|=g>>>8,g|=g>>>16,g+1},E.prevPow2=function(g){return g|=g>>>1,g|=g>>>2,g|=g>>>4,g|=g>>>8,g|=g>>>16,g-(g>>>1)},E.parity=function(g){return g^=g>>>16,g^=g>>>8,g^=g>>>4,g&=15,27030>>>g&1};var k=new Array(256);(function(g){for(var b=0;b<256;++b){var x=b,w=b,v=7;for(x>>>=1;x;x>>>=1)w<<=1,w|=x&1,--v;g[b]=w<<v&255}})(k),E.reverse=function(g){return k[g&255]<<24|k[g>>>8&255]<<16|k[g>>>16&255]<<8|k[g>>>24&255]},E.interleave2=function(g,b){return g&=65535,g=(g|g<<8)&16711935,g=(g|g<<4)&252645135,g=(g|g<<2)&858993459,g=(g|g<<1)&1431655765,b&=65535,b=(b|b<<8)&16711935,b=(b|b<<4)&252645135,b=(b|b<<2)&858993459,b=(b|b<<1)&1431655765,g|b<<1},E.deinterleave2=function(g,b){return g=g>>>b&1431655765,g=(g|g>>>1)&858993459,g=(g|g>>>2)&252645135,g=(g|g>>>4)&16711935,g=(g|g>>>16)&65535,g<<16>>16},E.interleave3=function(g,b,x){return g&=1023,g=(g|g<<16)&4278190335,g=(g|g<<8)&251719695,g=(g|g<<4)&3272356035,g=(g|g<<2)&1227133513,b&=1023,b=(b|b<<16)&4278190335,b=(b|b<<8)&251719695,b=(b|b<<4)&3272356035,b=(b|b<<2)&1227133513,g|=b<<1,x&=1023,x=(x|x<<16)&4278190335,x=(x|x<<8)&251719695,x=(x|x<<4)&3272356035,x=(x|x<<2)&1227133513,g|x<<2},E.deinterleave3=function(g,b){return g=g>>>b&1227133513,g=(g|g>>>2)&3272356035,g=(g|g>>>4)&251719695,g=(g|g>>>8)&4278190335,g=(g|g>>>16)&1023,g<<22>>22},E.nextCombination=function(g){var b=g|g-1;return b+1|(~b&-~b)-1>>>C(g)+1}},4028:(de,E,O)=>{"use strict";O.d(E,{Z:()=>b});var C=O(3645),k=O.n(C),g=k()(function(x){return x[1]});g.push([de.id,`.head-container{width:100vw;display:flex;flex-direction:column;align-items:center}.head-container .list{display:flex;justify-content:space-around;width:100%;padding:3.2vw 1.6vw 1.6vw}.head-container .list .item{width:3em;font-size:5.86667vw;color:#fff;text-align:center}.head-container .hr{border-bottom:2px solid white;width:80vw}.head-container .select-left:after{position:absolute;content:"";background-color:#fff;width:14.66667vw;height:1.06667vw;left:18.13333vw}.head-container .select-right{position:relative}.head-container .select-right:after{position:absolute;content:"";background-color:#fff;width:14.66667vw;height:1.06667vw;right:18vw}
`,""]);const b=g},2477:(de,E,O)=>{"use strict";O.d(E,{Z:()=>b});var C=O(3645),k=O.n(C),g=k()(function(x){return x[1]});g.push([de.id,`.list-header{width:100vw;height:61.33333vw;background:#77A0FF;overflow:hidden;display:flex;flex-direction:column;align-items:center;color:#fff}.head-pic{width:18.53333vw;height:19.33333vw;background-image:url(https://gw.alicdn.com/imgextra/i3/O1CN01pyB1R71MrY3ZLzw5C_!!6000000001488-2-tps-139-145.png);background-size:18.53333vw 19.33333vw;margin-top:8vw}.game-name{font-size:6.4vw;margin-top:4vw;font-weight:800}.user-info{margin-top:2.66667vw}.username{font-size:2.93333vw;padding-right:2.66667vw;border-right:8px solid #fff;margin-right:2.66667vw}.rank{font-size:2.93333vw}.room-list{display:flex;flex-wrap:wrap;margin-top:5.33333vw;padding-bottom:21.33333vw}.room-item{width:30.4vw;height:16vw;background-color:#c4d6ff;color:#666;border-radius:1.33333vw;margin-left:22px;margin-bottom:40px;box-sizing:border-box;padding:2.66667vw 2vw}.room-title{color:#4d4d4d;font-size:3.73333vw;text-overflow:ellipsis;overflow:hidden;word-break:keep-all;font-weight:800}.people-count{margin-top:4vw;font-size:2.93333vw}.actions{display:flex;flex-direction:row;position:absolute;width:100vw;position:fixed;bottom:7.33333vw;padding:0 4.8vw;box-sizing:border-box;justify-content:space-around}.create-room,.quick-enter{width:42.66667vw;height:12.53333vw;color:#fff;font-weight:800;font-size:4vw;border-radius:6.66667vw;text-align:center;display:flex;justify-content:center;align-items:center}.create-room{background-color:#79ae7c}.quick-enter{background-color:#7989ff}
`,""]);const b=g},3143:(de,E,O)=>{"use strict";O.d(E,{Z:()=>b});var C=O(3645),k=O.n(C),g=k()(function(x){return x[1]});g.push([de.id,`.login.page *{display:block}.login.page{box-sizing:border-box;padding-top:58vw}.login.page input{width:73.33333vw;margin:6vw auto 0;font-size:3.73333vw;text-indent:2em;padding:1.2em 0;border-radius:2em;outline:none;background:#fff}.login.page .tip{text-align:center;font-size:2.66667vw;margin-top:.75em}#enterBtn{width:41.6vw;background-color:#84ad80;color:#fff;padding:1.2em;border-radius:2em;text-align:center;margin:11.06667vw auto}
`,""]);const b=g},6188:(de,E,O)=>{"use strict";O.d(E,{Z:()=>b});var C=O(3645),k=O.n(C),g=k()(function(x){return x[1]});g.push([de.id,`.rank.page{overflow:auto}.rank.page .top{background-color:#95c7ef;height:61.33333vw;background:rgb(149,199,239) url(https://gw.alicdn.com/imgextra/i2/O1CN01qIsGvg1cAz6UVbPrB_!!6000000003561-2-tps-147-171.png) no-repeat center/auto 23.33333vw}.rank.page .top .list{display:flex;justify-content:space-around;padding:3.2vw 1.6vw 1.6vw}.rank.page .top .list .item{width:3em;font-size:5.86667vw;color:#fff;text-align:center}.rank.page .hr{margin:0 10vw;border-bottom:2px solid white}.rank.page .select-right{position:relative}.rank.page .select-right:after{position:absolute;content:"";background-color:#fff;width:14.66667vw;height:1.06667vw;right:8.66667vw}.rank-card{position:absolute;width:26.66667vw;height:34vw;border-radius:1.06667vw;border:1px solid rgb(211,211,211);background-color:#fff;background-repeat:no-repeat;background-size:9.33333vw auto;background-position:center 1.33333vw}.rank-card:nth-child(1){top:45.06667vw;left:0;right:0;margin:0 auto;background-image:url(https://gw.alicdn.com/imgextra/i1/O1CN01COaT7f1wk3kXDuy0m_!!6000000006345-2-tps-72-98.png)}.rank-card:nth-child(2){top:51.73333vw;left:4.26667vw;background-image:url(https://gw.alicdn.com/imgextra/i1/O1CN01fqBZKZ1bp05lGNpN8_!!6000000003513-2-tps-72-98.png)}.rank-card:nth-child(3){top:51.73333vw;right:4.26667vw;background-image:url(https://gw.alicdn.com/imgextra/i3/O1CN01d77gis1Gi28YUd1LO_!!6000000000655-2-tps-72-98.png)}.rank-card .name{width:80%;margin:18.66667vw auto 0;text-overflow:ellipsis;overflow:hidden;text-align:center;white-space:nowrap}.rank-card .score{color:#e45644;margin-top:3.06667vw;text-align:center}.rank.page .last{padding-top:31.33333vw}.rank.page .hr.gray{border-bottom-color:#d3d3d3;margin:0 4.66667vw}.rank.page .last .list{overflow:auto}.rank-item{height:11.06667vw;display:flex;padding:0 3.33333vw;justify-content:space-between;align-items:center}.rank-item .index{width:6.66667vw;padding-right:2.66667vw;text-align:center;font-size:3.73333vw;color:#666}.rank-item .name{flex:1;overflow:hidden;color:#666;font-size:4.26667vw}.rank-item .score{width:9.33333vw;text-align:right;font-size:2.93333vw;padding-right:1.33333vw}
`,""]);const b=g},7450:(de,E,O)=>{"use strict";O.d(E,{Z:()=>b});var C=O(3645),k=O.n(C),g=k()(function(x){return x[1]});g.push([de.id,`html{overflow-y:scroll}body,div,p,span,a,img,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,table,thead,tbody,tr,td,th{padding:0;margin:0}body,button,input,select,textarea{font:12px/1 "\\5fae\\8f6f\\96c5\\9ed1",Tahoma,Helvetica,Arial,sans-serif;background:transparent}button,input,select,textarea{font-size:100%;border:none;outline:none}input::-ms-input-placeholder{color:#c2c2c2}input::-webkit-input-placeholder{color:#c2c2c2}input::-moz-placeholder{color:#c2c2c2}textarea::-ms-input-placeholder{color:#c2c2c2}textarea::-webkit-input-placeholder{color:#c2c2c2}textarea::-moz-placeholder{color:#c2c2c2}select{appearance:none;-moz-appearance:none;-webkit-appearance:none;cursor:pointer}select::-ms-expand{display:none}h1,h2,h3,h4,h5,h6{font-weight:normal}em,i{font-style:normal}ul,ol{list-style:none}a{text-decoration:none;outline:none;color:#7f7f7f}a:visited{text-decoration:none;outline:none}a:hover{text-decoration:none;outline:none}a:active{text-decoration:none;outline:none}a:focus{text-decoration:none;outline:none}img{vertical-align:top;border:none}label{cursor:pointer}table{border-collapse:collapse;border-spacing:0}.fl{float:left}.fr{float:right}.clear_fix:after{content:"";display:block;clear:both}.beyond_eip{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.beyond2_eip{text-overflow:ellipsis;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.beyond3_eip{text-overflow:ellipsis;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3}.beyond4_eip{text-overflow:ellipsis;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:4}.ofh{overflow:hidden}.el_hide{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.bg_cover{background-position:center;-webkit-background-size:cover;-moz-background-size:cover;background-size:cover;background-repeat:no-repeat}.img_center{display:inline-block;margin:0 auto}.sele_none{user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none}
`,""]);const b=g},3645:de=>{"use strict";de.exports=function(E){var O=[];return O.toString=function(){return this.map(function(k){var g=E(k);return k[2]?"@media ".concat(k[2]," {").concat(g,"}"):g}).join("")},O.i=function(C,k,g){typeof C=="string"&&(C=[[null,C,""]]);var b={};if(g)for(var x=0;x<this.length;x++){var w=this[x][0];w!=null&&(b[w]=!0)}for(var v=0;v<C.length;v++){var m=[].concat(C[v]);g&&b[m[0]]||(k&&(m[2]?m[2]="".concat(k," and ").concat(m[2]):m[2]=k),O.push(m))}},O}},9187:de=>{"use strict";de.exports=E,de.exports.default=E;function E(W,Q,H){H=H||2;var Y=Q&&Q.length,Z=Y?Q[0]*H:W.length,$=O(W,0,Z,H,!0),ee=[];if(!$||$.next===$.prev)return ee;var oe,ge,ve,we,Se,_e,Te;if(Y&&($=v(W,Q,$,H)),W.length>80*H){oe=ve=W[0],ge=we=W[1];for(var Ce=H;Ce<Z;Ce+=H)Se=W[Ce],_e=W[Ce+1],Se<oe&&(oe=Se),_e<ge&&(ge=_e),Se>ve&&(ve=Se),_e>we&&(we=_e);Te=Math.max(ve-oe,we-ge),Te=Te!==0?1/Te:0}return k($,ee,H,oe,ge,Te),ee}function O(W,Q,H,Y,Z){var $,ee;if(Z===ae(W,Q,H,Y)>0)for($=Q;$<H;$+=Y)ee=J($,W[$],W[$+1],ee);else for($=H-Y;$>=Q;$-=Y)ee=J($,W[$],W[$+1],ee);return ee&&M(ee,ee.next)&&(se(ee),ee=ee.next),ee}function C(W,Q){if(!W)return W;Q||(Q=W);var H=W,Y;do if(Y=!1,!H.steiner&&(M(H,H.next)||T(H.prev,H,H.next)===0)){if(se(H),H=Q=H.prev,H===H.next)break;Y=!0}else H=H.next;while(Y||H!==Q);return Q}function k(W,Q,H,Y,Z,$,ee){if(!!W){!ee&&$&&d(W,Y,Z,$);for(var oe=W,ge,ve;W.prev!==W.next;){if(ge=W.prev,ve=W.next,$?b(W,Y,Z,$):g(W)){Q.push(ge.i/H),Q.push(W.i/H),Q.push(ve.i/H),se(W),W=ve.next,oe=ve.next;continue}if(W=ve,W===oe){ee?ee===1?(W=x(C(W),Q,H),k(W,Q,H,Y,Z,$,2)):ee===2&&w(W,Q,H,Y,Z,$):k(C(W),Q,H,Y,Z,$,1);break}}}}function g(W){var Q=W.prev,H=W,Y=W.next;if(T(Q,H,Y)>=0)return!1;for(var Z=W.next.next;Z!==W.prev;){if(_(Q.x,Q.y,H.x,H.y,Y.x,Y.y,Z.x,Z.y)&&T(Z.prev,Z,Z.next)>=0)return!1;Z=Z.next}return!0}function b(W,Q,H,Y){var Z=W.prev,$=W,ee=W.next;if(T(Z,$,ee)>=0)return!1;for(var oe=Z.x<$.x?Z.x<ee.x?Z.x:ee.x:$.x<ee.x?$.x:ee.x,ge=Z.y<$.y?Z.y<ee.y?Z.y:ee.y:$.y<ee.y?$.y:ee.y,ve=Z.x>$.x?Z.x>ee.x?Z.x:ee.x:$.x>ee.x?$.x:ee.x,we=Z.y>$.y?Z.y>ee.y?Z.y:ee.y:$.y>ee.y?$.y:ee.y,Se=s(oe,ge,Q,H,Y),_e=s(ve,we,Q,H,Y),Te=W.prevZ,Ce=W.nextZ;Te&&Te.z>=Se&&Ce&&Ce.z<=_e;){if(Te!==W.prev&&Te!==W.next&&_(Z.x,Z.y,$.x,$.y,ee.x,ee.y,Te.x,Te.y)&&T(Te.prev,Te,Te.next)>=0||(Te=Te.prevZ,Ce!==W.prev&&Ce!==W.next&&_(Z.x,Z.y,$.x,$.y,ee.x,ee.y,Ce.x,Ce.y)&&T(Ce.prev,Ce,Ce.next)>=0))return!1;Ce=Ce.nextZ}for(;Te&&Te.z>=Se;){if(Te!==W.prev&&Te!==W.next&&_(Z.x,Z.y,$.x,$.y,ee.x,ee.y,Te.x,Te.y)&&T(Te.prev,Te,Te.next)>=0)return!1;Te=Te.prevZ}for(;Ce&&Ce.z<=_e;){if(Ce!==W.prev&&Ce!==W.next&&_(Z.x,Z.y,$.x,$.y,ee.x,ee.y,Ce.x,Ce.y)&&T(Ce.prev,Ce,Ce.next)>=0)return!1;Ce=Ce.nextZ}return!0}function x(W,Q,H){var Y=W;do{var Z=Y.prev,$=Y.next.next;!M(Z,$)&&L(Z,Y,Y.next,$)&&K(Z,$)&&K($,Z)&&(Q.push(Z.i/H),Q.push(Y.i/H),Q.push($.i/H),se(Y),se(Y.next),Y=W=$),Y=Y.next}while(Y!==W);return C(Y)}function w(W,Q,H,Y,Z,$){var ee=W;do{for(var oe=ee.next.next;oe!==ee.prev;){if(ee.i!==oe.i&&S(ee,oe)){var ge=V(ee,oe);ee=C(ee,ee.next),ge=C(ge,ge.next),k(ee,Q,H,Y,Z,$),k(ge,Q,H,Y,Z,$);return}oe=oe.next}ee=ee.next}while(ee!==W)}function v(W,Q,H,Y){var Z=[],$,ee,oe,ge,ve;for($=0,ee=Q.length;$<ee;$++)oe=Q[$]*Y,ge=$<ee-1?Q[$+1]*Y:W.length,ve=O(W,oe,ge,Y,!1),ve===ve.next&&(ve.steiner=!0),Z.push(p(ve));for(Z.sort(m),$=0;$<Z.length;$++)H=y(Z[$],H),H=C(H,H.next);return H}function m(W,Q){return W.x-Q.x}function y(W,Q){var H=l(W,Q);if(!H)return Q;var Y=V(H,W),Z=C(H,H.next);return C(Y,Y.next),Q===H?Z:Q}function l(W,Q){var H=Q,Y=W.x,Z=W.y,$=-1/0,ee;do{if(Z<=H.y&&Z>=H.next.y&&H.next.y!==H.y){var oe=H.x+(Z-H.y)*(H.next.x-H.x)/(H.next.y-H.y);if(oe<=Y&&oe>$){if($=oe,oe===Y){if(Z===H.y)return H;if(Z===H.next.y)return H.next}ee=H.x<H.next.x?H:H.next}}H=H.next}while(H!==Q);if(!ee)return null;if(Y===$)return ee;var ge=ee,ve=ee.x,we=ee.y,Se=1/0,_e;H=ee;do Y>=H.x&&H.x>=ve&&Y!==H.x&&_(Z<we?Y:$,Z,ve,we,Z<we?$:Y,Z,H.x,H.y)&&(_e=Math.abs(Z-H.y)/(Y-H.x),K(H,W)&&(_e<Se||_e===Se&&(H.x>ee.x||H.x===ee.x&&o(ee,H)))&&(ee=H,Se=_e)),H=H.next;while(H!==ge);return ee}function o(W,Q){return T(W.prev,W,Q.prev)<0&&T(Q.next,W,W.next)<0}function d(W,Q,H,Y){var Z=W;do Z.z===null&&(Z.z=s(Z.x,Z.y,Q,H,Y)),Z.prevZ=Z.prev,Z.nextZ=Z.next,Z=Z.next;while(Z!==W);Z.prevZ.nextZ=null,Z.prevZ=null,f(Z)}function f(W){var Q,H,Y,Z,$,ee,oe,ge,ve=1;do{for(H=W,W=null,$=null,ee=0;H;){for(ee++,Y=H,oe=0,Q=0;Q<ve&&(oe++,Y=Y.nextZ,!!Y);Q++);for(ge=ve;oe>0||ge>0&&Y;)oe!==0&&(ge===0||!Y||H.z<=Y.z)?(Z=H,H=H.nextZ,oe--):(Z=Y,Y=Y.nextZ,ge--),$?$.nextZ=Z:W=Z,Z.prevZ=$,$=Z;H=Y}$.nextZ=null,ve*=2}while(ee>1);return W}function s(W,Q,H,Y,Z){return W=32767*(W-H)*Z,Q=32767*(Q-Y)*Z,W=(W|W<<8)&16711935,W=(W|W<<4)&252645135,W=(W|W<<2)&858993459,W=(W|W<<1)&1431655765,Q=(Q|Q<<8)&16711935,Q=(Q|Q<<4)&252645135,Q=(Q|Q<<2)&858993459,Q=(Q|Q<<1)&1431655765,W|Q<<1}function p(W){var Q=W,H=W;do(Q.x<H.x||Q.x===H.x&&Q.y<H.y)&&(H=Q),Q=Q.next;while(Q!==W);return H}function _(W,Q,H,Y,Z,$,ee,oe){return(Z-ee)*(Q-oe)-(W-ee)*($-oe)>=0&&(W-ee)*(Y-oe)-(H-ee)*(Q-oe)>=0&&(H-ee)*($-oe)-(Z-ee)*(Y-oe)>=0}function S(W,Q){return W.next.i!==Q.i&&W.prev.i!==Q.i&&!B(W,Q)&&(K(W,Q)&&K(Q,W)&&N(W,Q)&&(T(W.prev,W,Q.prev)||T(W,Q.prev,Q))||M(W,Q)&&T(W.prev,W,W.next)>0&&T(Q.prev,Q,Q.next)>0)}function T(W,Q,H){return(Q.y-W.y)*(H.x-Q.x)-(Q.x-W.x)*(H.y-Q.y)}function M(W,Q){return W.x===Q.x&&W.y===Q.y}function L(W,Q,H,Y){var Z=D(T(W,Q,H)),$=D(T(W,Q,Y)),ee=D(T(H,Y,W)),oe=D(T(H,Y,Q));return!!(Z!==$&&ee!==oe||Z===0&&F(W,H,Q)||$===0&&F(W,Y,Q)||ee===0&&F(H,W,Y)||oe===0&&F(H,Q,Y))}function F(W,Q,H){return Q.x<=Math.max(W.x,H.x)&&Q.x>=Math.min(W.x,H.x)&&Q.y<=Math.max(W.y,H.y)&&Q.y>=Math.min(W.y,H.y)}function D(W){return W>0?1:W<0?-1:0}function B(W,Q){var H=W;do{if(H.i!==W.i&&H.next.i!==W.i&&H.i!==Q.i&&H.next.i!==Q.i&&L(H,H.next,W,Q))return!0;H=H.next}while(H!==W);return!1}function K(W,Q){return T(W.prev,W,W.next)<0?T(W,Q,W.next)>=0&&T(W,W.prev,Q)>=0:T(W,Q,W.prev)<0||T(W,W.next,Q)<0}function N(W,Q){var H=W,Y=!1,Z=(W.x+Q.x)/2,$=(W.y+Q.y)/2;do H.y>$!=H.next.y>$&&H.next.y!==H.y&&Z<(H.next.x-H.x)*($-H.y)/(H.next.y-H.y)+H.x&&(Y=!Y),H=H.next;while(H!==W);return Y}function V(W,Q){var H=new ie(W.i,W.x,W.y),Y=new ie(Q.i,Q.x,Q.y),Z=W.next,$=Q.prev;return W.next=Q,Q.prev=W,H.next=Z,Z.prev=H,Y.next=H,H.prev=Y,$.next=Y,Y.prev=$,Y}function J(W,Q,H,Y){var Z=new ie(W,Q,H);return Y?(Z.next=Y.next,Z.prev=Y,Y.next.prev=Z,Y.next=Z):(Z.prev=Z,Z.next=Z),Z}function se(W){W.next.prev=W.prev,W.prev.next=W.next,W.prevZ&&(W.prevZ.nextZ=W.nextZ),W.nextZ&&(W.nextZ.prevZ=W.prevZ)}function ie(W,Q,H){this.i=W,this.x=Q,this.y=H,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}E.deviation=function(W,Q,H,Y){var Z=Q&&Q.length,$=Z?Q[0]*H:W.length,ee=Math.abs(ae(W,0,$,H));if(Z)for(var oe=0,ge=Q.length;oe<ge;oe++){var ve=Q[oe]*H,we=oe<ge-1?Q[oe+1]*H:W.length;ee-=Math.abs(ae(W,ve,we,H))}var Se=0;for(oe=0;oe<Y.length;oe+=3){var _e=Y[oe]*H,Te=Y[oe+1]*H,Ce=Y[oe+2]*H;Se+=Math.abs((W[_e]-W[Ce])*(W[Te+1]-W[_e+1])-(W[_e]-W[Te])*(W[Ce+1]-W[_e+1]))}return ee===0&&Se===0?0:Math.abs((Se-ee)/ee)};function ae(W,Q,H,Y){for(var Z=0,$=Q,ee=H-Y;$<H;$+=Y)Z+=(W[ee]-W[$])*(W[$+1]+W[ee+1]),ee=$;return Z}E.flatten=function(W){for(var Q=W[0][0].length,H={vertices:[],holes:[],dimensions:Q},Y=0,Z=0;Z<W.length;Z++){for(var $=0;$<W[Z].length;$++)for(var ee=0;ee<Q;ee++)H.vertices.push(W[Z][$][ee]);Z>0&&(Y+=W[Z-1].length,H.holes.push(Y))}return H}},6729:de=>{"use strict";var E=Object.prototype.hasOwnProperty,O="~";function C(){}Object.create&&(C.prototype=Object.create(null),new C().__proto__||(O=!1));function k(w,v,m){this.fn=w,this.context=v,this.once=m||!1}function g(w,v,m,y,l){if(typeof m!="function")throw new TypeError("The listener must be a function");var o=new k(m,y||w,l),d=O?O+v:v;return w._events[d]?w._events[d].fn?w._events[d]=[w._events[d],o]:w._events[d].push(o):(w._events[d]=o,w._eventsCount++),w}function b(w,v){--w._eventsCount==0?w._events=new C:delete w._events[v]}function x(){this._events=new C,this._eventsCount=0}x.prototype.eventNames=function(){var v=[],m,y;if(this._eventsCount===0)return v;for(y in m=this._events)E.call(m,y)&&v.push(O?y.slice(1):y);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(m)):v},x.prototype.listeners=function(v){var m=O?O+v:v,y=this._events[m];if(!y)return[];if(y.fn)return[y.fn];for(var l=0,o=y.length,d=new Array(o);l<o;l++)d[l]=y[l].fn;return d},x.prototype.listenerCount=function(v){var m=O?O+v:v,y=this._events[m];return y?y.fn?1:y.length:0},x.prototype.emit=function(v,m,y,l,o,d){var f=O?O+v:v;if(!this._events[f])return!1;var s=this._events[f],p=arguments.length,_,S;if(s.fn){switch(s.once&&this.removeListener(v,s.fn,void 0,!0),p){case 1:return s.fn.call(s.context),!0;case 2:return s.fn.call(s.context,m),!0;case 3:return s.fn.call(s.context,m,y),!0;case 4:return s.fn.call(s.context,m,y,l),!0;case 5:return s.fn.call(s.context,m,y,l,o),!0;case 6:return s.fn.call(s.context,m,y,l,o,d),!0}for(S=1,_=new Array(p-1);S<p;S++)_[S-1]=arguments[S];s.fn.apply(s.context,_)}else{var T=s.length,M;for(S=0;S<T;S++)switch(s[S].once&&this.removeListener(v,s[S].fn,void 0,!0),p){case 1:s[S].fn.call(s[S].context);break;case 2:s[S].fn.call(s[S].context,m);break;case 3:s[S].fn.call(s[S].context,m,y);break;case 4:s[S].fn.call(s[S].context,m,y,l);break;default:if(!_)for(M=1,_=new Array(p-1);M<p;M++)_[M-1]=arguments[M];s[S].fn.apply(s[S].context,_)}}return!0},x.prototype.on=function(v,m,y){return g(this,v,m,y,!1)},x.prototype.once=function(v,m,y){return g(this,v,m,y,!0)},x.prototype.removeListener=function(v,m,y,l){var o=O?O+v:v;if(!this._events[o])return this;if(!m)return b(this,o),this;var d=this._events[o];if(d.fn)d.fn===m&&(!l||d.once)&&(!y||d.context===y)&&b(this,o);else{for(var f=0,s=[],p=d.length;f<p;f++)(d[f].fn!==m||l&&!d[f].once||y&&d[f].context!==y)&&s.push(d[f]);s.length?this._events[o]=s.length===1?s[0]:s:b(this,o)}return this},x.prototype.removeAllListeners=function(v){var m;return v?(m=O?O+v:v,this._events[m]&&b(this,m)):(this._events=new C,this._eventsCount=0),this},x.prototype.off=x.prototype.removeListener,x.prototype.addListener=x.prototype.on,x.prefixed=O,x.EventEmitter=x,de.exports=x},7561:function(de,E){var O,C,k;(function(g){var b=/iPhone/i,x=/iPod/i,w=/iPad/i,v=/\bAndroid(?:.+)Mobile\b/i,m=/Android/i,y=/\bAndroid(?:.+)SD4930UR\b/i,l=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,o=/Windows Phone/i,d=/\bWindows(?:.+)ARM\b/i,f=/BlackBerry/i,s=/BB10/i,p=/Opera Mini/i,_=/\b(CriOS|Chrome)(?:.+)Mobile/i,S=/Mobile(?:.+)Firefox\b/i;function T(L,F){return L.test(F)}function M(L){var F=L||(typeof navigator!="undefined"?navigator.userAgent:""),D=F.split("[FBAN");D[1]!==void 0&&(F=D[0]),(D=F.split("Twitter"))[1]!==void 0&&(F=D[0]);var B={apple:{phone:T(b,F)&&!T(o,F),ipod:T(x,F),tablet:!T(b,F)&&T(w,F)&&!T(o,F),device:(T(b,F)||T(x,F)||T(w,F))&&!T(o,F)},amazon:{phone:T(y,F),tablet:!T(y,F)&&T(l,F),device:T(y,F)||T(l,F)},android:{phone:!T(o,F)&&T(y,F)||!T(o,F)&&T(v,F),tablet:!T(o,F)&&!T(y,F)&&!T(v,F)&&(T(l,F)||T(m,F)),device:!T(o,F)&&(T(y,F)||T(l,F)||T(v,F)||T(m,F))||T(/\bokhttp\b/i,F)},windows:{phone:T(o,F),tablet:T(d,F),device:T(o,F)||T(d,F)},other:{blackberry:T(f,F),blackberry10:T(s,F),opera:T(p,F),firefox:T(S,F),chrome:T(_,F),device:T(f,F)||T(s,F)||T(p,F)||T(S,F)||T(_,F)}};return B.any=B.apple.device||B.android.device||B.windows.device||B.other.device,B.phone=B.apple.phone||B.android.phone||B.windows.phone,B.tablet=B.apple.tablet||B.android.tablet||B.windows.tablet,B}de.exports&&typeof window=="undefined"?de.exports=M:de.exports&&typeof window!="undefined"?(de.exports=M(),de.exports.isMobile=M):(C=[],O=g.isMobile=M(),k=typeof O=="function"?O.apply(E,C):O,k!==void 0&&(de.exports=k))})(this)},2940:(de,E)=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});var O=function(){function x(w,v){for(var m=0;m<v.length;m++){var y=v[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(w,y.key,y)}}return function(w,v,m){return v&&x(w.prototype,v),m&&x(w,m),w}}();function C(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}var k=function(){function x(w,v,m){v===void 0&&(v=!1),C(this,x),this._fn=w,this._once=v,this._thisArg=m,this._next=this._prev=this._owner=null}return O(x,[{key:"detach",value:function(){return this._owner===null?!1:(this._owner.detach(this),!0)}}]),x}();function g(x,w){return x._head?(x._tail._next=w,w._prev=x._tail,x._tail=w):(x._head=w,x._tail=w),w._owner=x,w}var b=function(){function x(){C(this,x),this._head=this._tail=void 0}return O(x,[{key:"handlers",value:function(){var v=arguments.length<=0||arguments[0]===void 0?!1:arguments[0],m=this._head;if(v)return!!m;for(var y=[];m;)y.push(m),m=m._next;return y}},{key:"has",value:function(v){if(!(v instanceof k))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return v._owner===this}},{key:"dispatch",value:function(){var v=this._head;if(!v)return!1;for(;v;)v._once&&this.detach(v),v._fn.apply(v._thisArg,arguments),v=v._next;return!0}},{key:"add",value:function(v){var m=arguments.length<=1||arguments[1]===void 0?null:arguments[1];if(typeof v!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return g(this,new k(v,!1,m))}},{key:"once",value:function(v){var m=arguments.length<=1||arguments[1]===void 0?null:arguments[1];if(typeof v!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return g(this,new k(v,!0,m))}},{key:"detach",value:function(v){if(!(v instanceof k))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return v._owner!==this?this:(v._prev&&(v._prev._next=v._next),v._next&&(v._next._prev=v._prev),v===this._head?(this._head=v._next,v._next===null&&(this._tail=null)):v===this._tail&&(this._tail=v._prev,this._tail._next=null),v._owner=null,this)}},{key:"detachAll",value:function(){var v=this._head;if(!v)return this;for(this._head=this._tail=null;v;)v._owner=null,v=v._next;return this}}]),x}();b.MiniSignalBinding=k,E.default=b,de.exports=E.default},7418:de=>{"use strict";/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var E=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;function k(b){if(b==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(b)}function g(){try{if(!Object.assign)return!1;var b=new String("abc");if(b[5]="de",Object.getOwnPropertyNames(b)[0]==="5")return!1;for(var x={},w=0;w<10;w++)x["_"+String.fromCharCode(w)]=w;var v=Object.getOwnPropertyNames(x).map(function(y){return x[y]});if(v.join("")!=="0123456789")return!1;var m={};return"abcdefghijklmnopqrst".split("").forEach(function(y){m[y]=y}),Object.keys(Object.assign({},m)).join("")==="abcdefghijklmnopqrst"}catch(y){return!1}}de.exports=g()?Object.assign:function(b,x){for(var w,v=k(b),m,y=1;y<arguments.length;y++){w=Object(arguments[y]);for(var l in w)O.call(w,l)&&(v[l]=w[l]);if(E){m=E(w);for(var o=0;o<m.length;o++)C.call(w,m[o])&&(v[m[o]]=w[m[o]])}}return v}},9571:de=>{"use strict";function E(O,C){if(!!O){C=C||{};for(var k={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},g=k.parser[C.strictMode?"strict":"loose"].exec(O),b={},x=14;x--;)b[k.key[x]]=g[x]||"";return b[k.q.name]={},b[k.key[12]].replace(k.q.parser,function(w,v,m){v&&(b[k.q.name][v]=m)}),b}}de.exports=E},6470:de=>{"use strict";function E(g){if(typeof g!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(g))}function O(g,b){for(var x="",w=0,v=-1,m=0,y,l=0;l<=g.length;++l){if(l<g.length)y=g.charCodeAt(l);else{if(y===47)break;y=47}if(y===47){if(!(v===l-1||m===1))if(v!==l-1&&m===2){if(x.length<2||w!==2||x.charCodeAt(x.length-1)!==46||x.charCodeAt(x.length-2)!==46){if(x.length>2){var o=x.lastIndexOf("/");if(o!==x.length-1){o===-1?(x="",w=0):(x=x.slice(0,o),w=x.length-1-x.lastIndexOf("/")),v=l,m=0;continue}}else if(x.length===2||x.length===1){x="",w=0,v=l,m=0;continue}}b&&(x.length>0?x+="/..":x="..",w=2)}else x.length>0?x+="/"+g.slice(v+1,l):x=g.slice(v+1,l),w=l-v-1;v=l,m=0}else y===46&&m!==-1?++m:m=-1}return x}function C(g,b){var x=b.dir||b.root,w=b.base||(b.name||"")+(b.ext||"");return x?x===b.root?x+w:x+g+w:w}var k={resolve:function(){for(var b="",x=!1,w,v=arguments.length-1;v>=-1&&!x;v--){var m;v>=0?m=arguments[v]:(w===void 0&&(w=process.cwd()),m=w),E(m),m.length!==0&&(b=m+"/"+b,x=m.charCodeAt(0)===47)}return b=O(b,!x),x?b.length>0?"/"+b:"/":b.length>0?b:"."},normalize:function(b){if(E(b),b.length===0)return".";var x=b.charCodeAt(0)===47,w=b.charCodeAt(b.length-1)===47;return b=O(b,!x),b.length===0&&!x&&(b="."),b.length>0&&w&&(b+="/"),x?"/"+b:b},isAbsolute:function(b){return E(b),b.length>0&&b.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var b,x=0;x<arguments.length;++x){var w=arguments[x];E(w),w.length>0&&(b===void 0?b=w:b+="/"+w)}return b===void 0?".":k.normalize(b)},relative:function(b,x){if(E(b),E(x),b===x||(b=k.resolve(b),x=k.resolve(x),b===x))return"";for(var w=1;w<b.length&&b.charCodeAt(w)===47;++w);for(var v=b.length,m=v-w,y=1;y<x.length&&x.charCodeAt(y)===47;++y);for(var l=x.length,o=l-y,d=m<o?m:o,f=-1,s=0;s<=d;++s){if(s===d){if(o>d){if(x.charCodeAt(y+s)===47)return x.slice(y+s+1);if(s===0)return x.slice(y+s)}else m>d&&(b.charCodeAt(w+s)===47?f=s:s===0&&(f=0));break}var p=b.charCodeAt(w+s),_=x.charCodeAt(y+s);if(p!==_)break;p===47&&(f=s)}var S="";for(s=w+f+1;s<=v;++s)(s===v||b.charCodeAt(s)===47)&&(S.length===0?S+="..":S+="/..");return S.length>0?S+x.slice(y+f):(y+=f,x.charCodeAt(y)===47&&++y,x.slice(y))},_makeLong:function(b){return b},dirname:function(b){if(E(b),b.length===0)return".";for(var x=b.charCodeAt(0),w=x===47,v=-1,m=!0,y=b.length-1;y>=1;--y)if(x=b.charCodeAt(y),x===47){if(!m){v=y;break}}else m=!1;return v===-1?w?"/":".":w&&v===1?"//":b.slice(0,v)},basename:function(b,x){if(x!==void 0&&typeof x!="string")throw new TypeError('"ext" argument must be a string');E(b);var w=0,v=-1,m=!0,y;if(x!==void 0&&x.length>0&&x.length<=b.length){if(x.length===b.length&&x===b)return"";var l=x.length-1,o=-1;for(y=b.length-1;y>=0;--y){var d=b.charCodeAt(y);if(d===47){if(!m){w=y+1;break}}else o===-1&&(m=!1,o=y+1),l>=0&&(d===x.charCodeAt(l)?--l==-1&&(v=y):(l=-1,v=o))}return w===v?v=o:v===-1&&(v=b.length),b.slice(w,v)}else{for(y=b.length-1;y>=0;--y)if(b.charCodeAt(y)===47){if(!m){w=y+1;break}}else v===-1&&(m=!1,v=y+1);return v===-1?"":b.slice(w,v)}},extname:function(b){E(b);for(var x=-1,w=0,v=-1,m=!0,y=0,l=b.length-1;l>=0;--l){var o=b.charCodeAt(l);if(o===47){if(!m){w=l+1;break}continue}v===-1&&(m=!1,v=l+1),o===46?x===-1?x=l:y!==1&&(y=1):x!==-1&&(y=-1)}return x===-1||v===-1||y===0||y===1&&x===v-1&&x===w+1?"":b.slice(x,v)},format:function(b){if(b===null||typeof b!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof b);return C("/",b)},parse:function(b){E(b);var x={root:"",dir:"",base:"",ext:"",name:""};if(b.length===0)return x;var w=b.charCodeAt(0),v=w===47,m;v?(x.root="/",m=1):m=0;for(var y=-1,l=0,o=-1,d=!0,f=b.length-1,s=0;f>=m;--f){if(w=b.charCodeAt(f),w===47){if(!d){l=f+1;break}continue}o===-1&&(d=!1,o=f+1),w===46?y===-1?y=f:s!==1&&(s=1):y!==-1&&(s=-1)}return y===-1||o===-1||s===0||s===1&&y===o-1&&y===l+1?o!==-1&&(l===0&&v?x.base=x.name=b.slice(1,o):x.base=x.name=b.slice(l,o)):(l===0&&v?(x.name=b.slice(1,y),x.base=b.slice(1,o)):(x.name=b.slice(l,y),x.base=b.slice(l,o)),x.ext=b.slice(y,o)),l>0?x.dir=b.slice(0,l-1):v&&(x.dir="/"),x},sep:"/",delimiter:":",win32:null,posix:null};k.posix=k,de.exports=k},4804:de=>{var E=new ArrayBuffer(0),O=function(C,k,g,b){this.gl=C,this.buffer=C.createBuffer(),this.type=k||C.ARRAY_BUFFER,this.drawType=b||C.STATIC_DRAW,this.data=E,g&&this.upload(g),this._updateID=0};O.prototype.upload=function(C,k,g){g||this.bind();var b=this.gl;C=C||this.data,k=k||0,this.data.byteLength>=C.byteLength?b.bufferSubData(this.type,k,C):b.bufferData(this.type,C,this.drawType),this.data=C},O.prototype.bind=function(){var C=this.gl;C.bindBuffer(this.type,this.buffer)},O.createVertexBuffer=function(C,k,g){return new O(C,C.ARRAY_BUFFER,k,g)},O.createIndexBuffer=function(C,k,g){return new O(C,C.ELEMENT_ARRAY_BUFFER,k,g)},O.create=function(C,k,g,b){return new O(C,k,g,b)},O.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},de.exports=O},5569:(de,E,O)=>{var C=O(2184),k=function(g,b,x){this.gl=g,this.framebuffer=g.createFramebuffer(),this.stencil=null,this.texture=null,this.width=b||100,this.height=x||100};k.prototype.enableTexture=function(g){var b=this.gl;this.texture=g||new C(b),this.texture.bind(),this.bind(),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,this.texture.texture,0)},k.prototype.enableStencil=function(){if(!this.stencil){var g=this.gl;this.stencil=g.createRenderbuffer(),g.bindRenderbuffer(g.RENDERBUFFER,this.stencil),g.framebufferRenderbuffer(g.FRAMEBUFFER,g.DEPTH_STENCIL_ATTACHMENT,g.RENDERBUFFER,this.stencil),g.renderbufferStorage(g.RENDERBUFFER,g.DEPTH_STENCIL,this.width,this.height)}},k.prototype.clear=function(g,b,x,w){this.bind();var v=this.gl;v.clearColor(g,b,x,w),v.clear(v.COLOR_BUFFER_BIT|v.DEPTH_BUFFER_BIT)},k.prototype.bind=function(){var g=this.gl;g.bindFramebuffer(g.FRAMEBUFFER,this.framebuffer)},k.prototype.unbind=function(){var g=this.gl;g.bindFramebuffer(g.FRAMEBUFFER,null)},k.prototype.resize=function(g,b){var x=this.gl;this.width=g,this.height=b,this.texture&&this.texture.uploadData(null,g,b),this.stencil&&(x.bindRenderbuffer(x.RENDERBUFFER,this.stencil),x.renderbufferStorage(x.RENDERBUFFER,x.DEPTH_STENCIL,g,b))},k.prototype.destroy=function(){var g=this.gl;this.texture&&this.texture.destroy(),g.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},k.createRGBA=function(g,b,x,w){var v=C.fromData(g,null,b,x);v.enableNearestScaling(),v.enableWrapClamp();var m=new k(g,b,x);return m.enableTexture(v),m.unbind(),m},k.createFloat32=function(g,b,x,w){var v=new C.fromData(g,w,b,x);v.enableNearestScaling(),v.enableWrapClamp();var m=new k(g,b,x);return m.enableTexture(v),m.unbind(),m},de.exports=k},6949:(de,E,O)=>{var C=O(9160),k=O(3545),g=O(4164),b=O(4800),x=O(8770),w=function(v,m,y,l,o){this.gl=v,l&&(m=b(m,l),y=b(y,l)),this.program=C(v,m,y,o),this.attributes=k(v,this.program),this.uniformData=g(v,this.program),this.uniforms=x(v,this.uniformData)};w.prototype.bind=function(){return this.gl.useProgram(this.program),this},w.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null;var v=this.gl;v.deleteProgram(this.program)},de.exports=w},2184:de=>{var E=function(C,k,g,b,x){this.gl=C,this.texture=C.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=k||-1,this.height=g||-1,this.format=b||C.RGBA,this.type=x||C.UNSIGNED_BYTE};E.prototype.upload=function(C){this.bind();var k=this.gl;k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var g=C.videoWidth||C.width,b=C.videoHeight||C.height;b!==this.height||g!==this.width?k.texImage2D(k.TEXTURE_2D,0,this.format,this.format,this.type,C):k.texSubImage2D(k.TEXTURE_2D,0,0,0,this.format,this.type,C),this.width=g,this.height=b};var O=!1;E.prototype.uploadData=function(C,k,g){this.bind();var b=this.gl;if(C instanceof Float32Array){if(!O){var x=b.getExtension("OES_texture_float");if(x)O=!0;else throw new Error("floating point textures not available")}this.type=b.FLOAT}else this.type=this.type||b.UNSIGNED_BYTE;b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),k!==this.width||g!==this.height?b.texImage2D(b.TEXTURE_2D,0,this.format,k,g,0,this.format,this.type,C||null):b.texSubImage2D(b.TEXTURE_2D,0,0,0,k,g,this.format,this.type,C||null),this.width=k,this.height=g},E.prototype.bind=function(C){var k=this.gl;C!==void 0&&k.activeTexture(k.TEXTURE0+C),k.bindTexture(k.TEXTURE_2D,this.texture)},E.prototype.unbind=function(){var C=this.gl;C.bindTexture(C.TEXTURE_2D,null)},E.prototype.minFilter=function(C){var k=this.gl;this.bind(),this.mipmap?k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,C?k.LINEAR_MIPMAP_LINEAR:k.NEAREST_MIPMAP_NEAREST):k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,C?k.LINEAR:k.NEAREST)},E.prototype.magFilter=function(C){var k=this.gl;this.bind(),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,C?k.LINEAR:k.NEAREST)},E.prototype.enableMipmap=function(){var C=this.gl;this.bind(),this.mipmap=!0,C.generateMipmap(C.TEXTURE_2D)},E.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},E.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},E.prototype.enableWrapClamp=function(){var C=this.gl;this.bind(),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,C.CLAMP_TO_EDGE),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,C.CLAMP_TO_EDGE)},E.prototype.enableWrapRepeat=function(){var C=this.gl;this.bind(),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,C.REPEAT),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,C.REPEAT)},E.prototype.enableWrapMirrorRepeat=function(){var C=this.gl;this.bind(),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,C.MIRRORED_REPEAT),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,C.MIRRORED_REPEAT)},E.prototype.destroy=function(){var C=this.gl;C.deleteTexture(this.texture)},E.fromSource=function(C,k,g){var b=new E(C);return b.premultiplyAlpha=g||!1,b.upload(k),b},E.fromData=function(C,k,g,b){var x=new E(C);return x.uploadData(k,g,b),x},de.exports=E},1756:(de,E,O)=>{var C=O(3784);function k(g,b){if(this.nativeVaoExtension=null,k.FORCE_NATIVE||(this.nativeVaoExtension=g.getExtension("OES_vertex_array_object")||g.getExtension("MOZ_OES_vertex_array_object")||g.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=b,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var x=g.getParameter(g.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(x),attribState:new Array(x)}}this.gl=g,this.attributes=[],this.indexBuffer=null,this.dirty=!1}k.prototype.constructor=k,de.exports=k,k.FORCE_NATIVE=!1,k.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},k.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},k.prototype.activate=function(){for(var g=this.gl,b=null,x=0;x<this.attributes.length;x++){var w=this.attributes[x];b!==w.buffer&&(w.buffer.bind(),b=w.buffer),g.vertexAttribPointer(w.attribute.location,w.attribute.size,w.type||g.FLOAT,w.normalized||!1,w.stride||0,w.start||0)}return C(g,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},k.prototype.addAttribute=function(g,b,x,w,v,m){return this.attributes.push({buffer:g,attribute:b,location:b.location,type:x||this.gl.FLOAT,normalized:w||!1,stride:v||0,start:m||0}),this.dirty=!0,this},k.prototype.addIndex=function(g){return this.indexBuffer=g,this.dirty=!0,this},k.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},k.prototype.draw=function(g,b,x){var w=this.gl;return this.indexBuffer?w.drawElements(g,b||this.indexBuffer.data.length,w.UNSIGNED_SHORT,(x||0)*2):w.drawArrays(g,x,b||this.getSize()),this},k.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},k.prototype.getSize=function(){var g=this.attributes[0];return g.buffer.data.length/(g.stride/4||g.attribute.size)}},5957:de=>{var E=function(O,C){var k=O.getContext("webgl",C)||O.getContext("experimental-webgl",C);if(!k)throw new Error("This browser does not support webGL. Try using the canvas renderer");return k};de.exports=E},3070:(de,E,O)=>{var C={createContext:O(5957),setVertexAttribArrays:O(3784),GLBuffer:O(4804),GLFramebuffer:O(5569),GLShader:O(6949),GLTexture:O(2184),VertexArrayObject:O(1756),shader:O(3743)};de.exports&&(de.exports=C),typeof window!="undefined"&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=C)},3784:de=>{var E=function(O,C,k){var g;if(k){var b=k.tempAttribState,x=k.attribState;for(g=0;g<b.length;g++)b[g]=!1;for(g=0;g<C.length;g++)b[C[g].attribute.location]=!0;for(g=0;g<x.length;g++)x[g]!==b[g]&&(x[g]=b[g],k.attribState[g]?O.enableVertexAttribArray(g):O.disableVertexAttribArray(g))}else for(g=0;g<C.length;g++){var w=C[g];O.enableVertexAttribArray(w.attribute.location)}};de.exports=E},9160:de=>{var E=function(C,k,g,b){var x=O(C,C.VERTEX_SHADER,k),w=O(C,C.FRAGMENT_SHADER,g),v=C.createProgram();if(C.attachShader(v,x),C.attachShader(v,w),b)for(var m in b)C.bindAttribLocation(v,b[m],m);return C.linkProgram(v),C.getProgramParameter(v,C.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",C.getProgramParameter(v,C.VALIDATE_STATUS)),console.error("gl.getError()",C.getError()),C.getProgramInfoLog(v)!==""&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",C.getProgramInfoLog(v)),C.deleteProgram(v),v=null),C.deleteShader(x),C.deleteShader(w),v},O=function(C,k,g){var b=C.createShader(k);return C.shaderSource(b,g),C.compileShader(b),C.getShaderParameter(b,C.COMPILE_STATUS)?b:(console.log(C.getShaderInfoLog(b)),null)};de.exports=E},4365:de=>{var E=function(C,k){switch(C){case"float":return 0;case"vec2":return new Float32Array(2*k);case"vec3":return new Float32Array(3*k);case"vec4":return new Float32Array(4*k);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*k);case"ivec3":return new Int32Array(3*k);case"ivec4":return new Int32Array(4*k);case"bool":return!1;case"bvec2":return O(2*k);case"bvec3":return O(3*k);case"bvec4":return O(4*k);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},O=function(C){for(var k=new Array(C),g=0;g<k.length;g++)k[g]=!1;return k};de.exports=E},3545:(de,E,O)=>{var C=O(5092),k=O(1850),g=function(x,w){for(var v={},m=x.getProgramParameter(w,x.ACTIVE_ATTRIBUTES),y=0;y<m;y++){var l=x.getActiveAttrib(w,y),o=C(x,l.type);v[l.name]={type:o,size:k(o),location:x.getAttribLocation(w,l.name),pointer:b}}return v},b=function(x,w,v,m){gl.vertexAttribPointer(this.location,this.size,x||gl.FLOAT,w||!1,v||0,m||0)};de.exports=g},4164:(de,E,O)=>{var C=O(5092),k=O(4365),g=function(b,x){for(var w={},v=b.getProgramParameter(x,b.ACTIVE_UNIFORMS),m=0;m<v;m++){var y=b.getActiveUniform(x,m),l=y.name.replace(/\[.*?\]/,""),o=C(b,y.type);w[l]={type:o,size:y.size,location:b.getUniformLocation(x,l),value:k(o,y.size)}}return w};de.exports=g},8770:de=>{var E=function(x,w){var v={data:{}};v.gl=x;for(var m=Object.keys(w),y=0;y<m.length;y++){var l=m[y],o=l.split("."),d=o[o.length-1],f=b(o,v),s=w[l];f.data[d]=s,f.gl=x,Object.defineProperty(f,d,{get:O(d),set:g(d,s)})}return v},O=function(x){return function(){return this.data[x].value}},C={float:function(w,v,m){w.uniform1f(v,m)},vec2:function(w,v,m){w.uniform2f(v,m[0],m[1])},vec3:function(w,v,m){w.uniform3f(v,m[0],m[1],m[2])},vec4:function(w,v,m){w.uniform4f(v,m[0],m[1],m[2],m[3])},int:function(w,v,m){w.uniform1i(v,m)},ivec2:function(w,v,m){w.uniform2i(v,m[0],m[1])},ivec3:function(w,v,m){w.uniform3i(v,m[0],m[1],m[2])},ivec4:function(w,v,m){w.uniform4i(v,m[0],m[1],m[2],m[3])},bool:function(w,v,m){w.uniform1i(v,m)},bvec2:function(w,v,m){w.uniform2i(v,m[0],m[1])},bvec3:function(w,v,m){w.uniform3i(v,m[0],m[1],m[2])},bvec4:function(w,v,m){w.uniform4i(v,m[0],m[1],m[2],m[3])},mat2:function(w,v,m){w.uniformMatrix2fv(v,!1,m)},mat3:function(w,v,m){w.uniformMatrix3fv(v,!1,m)},mat4:function(w,v,m){w.uniformMatrix4fv(v,!1,m)},sampler2D:function(w,v,m){w.uniform1i(v,m)}},k={float:function(w,v,m){w.uniform1fv(v,m)},vec2:function(w,v,m){w.uniform2fv(v,m)},vec3:function(w,v,m){w.uniform3fv(v,m)},vec4:function(w,v,m){w.uniform4fv(v,m)},int:function(w,v,m){w.uniform1iv(v,m)},ivec2:function(w,v,m){w.uniform2iv(v,m)},ivec3:function(w,v,m){w.uniform3iv(v,m)},ivec4:function(w,v,m){w.uniform4iv(v,m)},bool:function(w,v,m){w.uniform1iv(v,m)},bvec2:function(w,v,m){w.uniform2iv(v,m)},bvec3:function(w,v,m){w.uniform3iv(v,m)},bvec4:function(w,v,m){w.uniform4iv(v,m)},sampler2D:function(w,v,m){w.uniform1iv(v,m)}};function g(x,w){return function(v){this.data[x].value=v;var m=this.data[x].location;w.size===1?C[w.type](this.gl,m,v):k[w.type](this.gl,m,v)}}function b(x,w){for(var v=w,m=0;m<x.length-1;m++){var y=v[x[m]]||{data:{}};v[x[m]]=y,v=y}return v}de.exports=E},3743:(de,E,O)=>{de.exports={compileProgram:O(9160),defaultValue:O(4365),extractAttributes:O(3545),extractUniforms:O(4164),generateUniformAccessObject:O(8770),setPrecision:O(4800),mapSize:O(1850),mapType:O(5092)}},1850:de=>{var E=function(C){return O[C]},O={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};de.exports=E},5092:de=>{var E=function(k,g){if(!O){var b=Object.keys(C);O={};for(var x=0;x<b.length;++x){var w=b[x];O[k[w]]=C[w]}}return O[g]},O=null,C={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};de.exports=E},4800:de=>{var E=function(O,C){return O.substring(0,9)!=="precision"?"precision "+C+` float;
`+O:O};de.exports=E},3466:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(2321),k=m(C),g=O(7561),b=v(g),x=O(6388),w=v(x);function v(L){return L&&L.__esModule?L:{default:L}}function m(L){if(L&&L.__esModule)return L;var F={};if(L!=null)for(var D in L)Object.prototype.hasOwnProperty.call(L,D)&&(F[D]=L[D]);return F.default=L,F}function y(L,F){if(!(L instanceof F))throw new TypeError("Cannot call a class as a function")}k.utils.mixins.delayMixin(k.DisplayObject.prototype,w.default);var l=9,o=100,d=0,f=0,s=2,p=1,_=-1e3,S=-1e3,T=2,M=function(){function L(F){y(this,L),(b.default.tablet||b.default.phone)&&!navigator.isCocoonJS&&this.createTouchHook();var D=document.createElement("div");D.style.width=o+"px",D.style.height=o+"px",D.style.position="absolute",D.style.top=d+"px",D.style.left=f+"px",D.style.zIndex=s,this.div=D,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=F,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return L.prototype.createTouchHook=function(){var D=this,B=document.createElement("button");B.style.width=p+"px",B.style.height=p+"px",B.style.position="absolute",B.style.top=_+"px",B.style.left=S+"px",B.style.zIndex=T,B.style.backgroundColor="#FF0000",B.title="HOOK DIV",B.addEventListener("focus",function(){D.isMobileAccessabillity=!0,D.activate(),document.body.removeChild(B)}),document.body.appendChild(B)},L.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},L.prototype.deactivate=function(){!this.isActive||this.isMobileAccessabillity||(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},L.prototype.updateAccessibleObjects=function(D){if(!!D.visible){D.accessible&&D.interactive&&(D._accessibleActive||this.addChild(D),D.renderId=this.renderId);for(var B=D.children,K=0;K<B.length;K++)this.updateAccessibleObjects(B[K])}},L.prototype.update=function(){if(!!this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var D=this.renderer.view.getBoundingClientRect(),B=D.width/this.renderer.width,K=D.height/this.renderer.height,N=this.div;N.style.left=D.left+"px",N.style.top=D.top+"px",N.style.width=this.renderer.width+"px",N.style.height=this.renderer.height+"px";for(var V=0;V<this.children.length;V++){var J=this.children[V];if(J.renderId!==this.renderId)J._accessibleActive=!1,k.utils.removeItems(this.children,V,1),this.div.removeChild(J._accessibleDiv),this.pool.push(J._accessibleDiv),J._accessibleDiv=null,V--,this.children.length===0&&this.deactivate();else{N=J._accessibleDiv;var se=J.hitArea,ie=J.worldTransform;J.hitArea?(N.style.left=(ie.tx+se.x*ie.a)*B+"px",N.style.top=(ie.ty+se.y*ie.d)*K+"px",N.style.width=se.width*ie.a*B+"px",N.style.height=se.height*ie.d*K+"px"):(se=J.getBounds(),this.capHitArea(se),N.style.left=se.x*B+"px",N.style.top=se.y*K+"px",N.style.width=se.width*B+"px",N.style.height=se.height*K+"px",N.title!==J.accessibleTitle&&J.accessibleTitle!==null&&(N.title=J.accessibleTitle),N.getAttribute("aria-label")!==J.accessibleHint&&J.accessibleHint!==null&&N.setAttribute("aria-label",J.accessibleHint))}}this.renderId++}},L.prototype.capHitArea=function(D){D.x<0&&(D.width+=D.x,D.x=0),D.y<0&&(D.height+=D.y,D.y=0),D.x+D.width>this.renderer.width&&(D.width=this.renderer.width-D.x),D.y+D.height>this.renderer.height&&(D.height=this.renderer.height-D.y)},L.prototype.addChild=function(D){var B=this.pool.pop();B||(B=document.createElement("button"),B.style.width=o+"px",B.style.height=o+"px",B.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",B.style.position="absolute",B.style.zIndex=s,B.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?B.setAttribute("aria-live","off"):B.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?B.setAttribute("aria-relevant","additions"):B.setAttribute("aria-relevant","text"),B.addEventListener("click",this._onClick.bind(this)),B.addEventListener("focus",this._onFocus.bind(this)),B.addEventListener("focusout",this._onFocusOut.bind(this))),D.accessibleTitle&&D.accessibleTitle!==null?B.title=D.accessibleTitle:(!D.accessibleHint||D.accessibleHint===null)&&(B.title="displayObject "+D.tabIndex),D.accessibleHint&&D.accessibleHint!==null&&B.setAttribute("aria-label",D.accessibleHint),D._accessibleActive=!0,D._accessibleDiv=B,B.displayObject=D,this.children.push(D),this.div.appendChild(D._accessibleDiv),D._accessibleDiv.tabIndex=D.tabIndex},L.prototype._onClick=function(D){var B=this.renderer.plugins.interaction;B.dispatchEvent(D.target.displayObject,"click",B.eventData)},L.prototype._onFocus=function(D){D.target.getAttribute("aria-live","off")||D.target.setAttribute("aria-live","assertive");var B=this.renderer.plugins.interaction;B.dispatchEvent(D.target.displayObject,"mouseover",B.eventData)},L.prototype._onFocusOut=function(D){D.target.getAttribute("aria-live","off")||D.target.setAttribute("aria-live","polite");var B=this.renderer.plugins.interaction;B.dispatchEvent(D.target.displayObject,"mouseout",B.eventData)},L.prototype._onKeyDown=function(D){D.keyCode===l&&this.activate()},L.prototype._onMouseMove=function(D){D.movementX===0&&D.movementY===0||this.deactivate()},L.prototype.destroy=function(){this.div=null;for(var D=0;D<this.children.length;D++)this.children[D].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},L}();E.default=M,k.WebGLRenderer.registerPlugin("accessibility",M),k.CanvasRenderer.registerPlugin("accessibility",M)},6388:(de,E)=>{"use strict";E.__esModule=!0,E.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},6807:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(6388);Object.defineProperty(E,"accessibleTarget",{enumerable:!0,get:function(){return g(C).default}});var k=O(3466);Object.defineProperty(E,"AccessibilityManager",{enumerable:!0,get:function(){return g(k).default}});function g(b){return b&&b.__esModule?b:{default:b}}},5328:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function d(f,s){for(var p=0;p<s.length;p++){var _=s[p];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(f,_.key,_)}}return function(f,s,p){return s&&d(f.prototype,s),p&&d(f,p),f}}(),k=O(4981),g=O(1822),b=y(g),x=O(938),w=O(7505),v=y(w),m=O(4633);function y(d){return d&&d.__esModule?d:{default:d}}function l(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}var o=function(){function d(f,s,p,_,S){l(this,d),typeof f=="number"&&(f=Object.assign({width:f,height:s||v.default.RENDER_OPTIONS.height,forceCanvas:!!_,sharedTicker:!!S},p)),this._options=f=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},f),this.renderer=(0,k.autoDetectRenderer)(f),this.stage=new b.default,this._ticker=null,this.ticker=f.sharedTicker?x.shared:new x.Ticker,f.autoStart&&this.start()}return d.prototype.render=function(){this.renderer.render(this.stage)},d.prototype.stop=function(){this._ticker.stop()},d.prototype.start=function(){this._ticker.start()},d.prototype.destroy=function(s,p){if(this._ticker){var _=this._ticker;this.ticker=null,_.destroy()}this.stage.destroy(p),this.stage=null,this.renderer.destroy(s),this.renderer=null,this._options=null},C(d,[{key:"ticker",set:function(s){this._ticker&&this._ticker.remove(this.render,this),this._ticker=s,s&&s.add(this.render,this,m.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),d}();E.default=o},2916:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(3070),k=O(7505),g=b(k);function b(l){return l&&l.__esModule?l:{default:l}}function x(l,o){if(!(l instanceof o))throw new TypeError("Cannot call a class as a function")}function w(l,o){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:l}function v(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);l.prototype=Object.create(o&&o.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(l,o):l.__proto__=o)}function m(l,o){if(l instanceof Array){if(l[0].substring(0,9)!=="precision"){var d=l.slice(0);return d.unshift("precision "+o+" float;"),d}}else if(l.trim().substring(0,9)!=="precision")return"precision "+o+` float;
`+l;return l}var y=function(l){v(o,l);function o(d,f,s,p,_){return x(this,o),w(this,l.call(this,d,m(f,_||g.default.PRECISION_VERTEX),m(s,_||g.default.PRECISION_FRAGMENT),void 0,p))}return o}(C.GLShader);E.default=y},4981:(de,E,O)=>{"use strict";E.__esModule=!0,E.autoDetectRenderer=y;var C=O(7768),k=m(C),g=O(4695),b=v(g),x=O(7648),w=v(x);function v(l){return l&&l.__esModule?l:{default:l}}function m(l){if(l&&l.__esModule)return l;var o={};if(l!=null)for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(o[d]=l[d]);return o.default=l,o}function y(l,o,d,f){var s=l&&l.forceCanvas;return f!==void 0&&(s=f),!s&&k.isWebGLSupported()?new w.default(l,o,d):new b.default(l,o,d)}},4633:(de,E)=>{"use strict";E.__esModule=!0;var O=E.VERSION="4.8.9",C=E.PI_2=Math.PI*2,k=E.RAD_TO_DEG=180/Math.PI,g=E.DEG_TO_RAD=Math.PI/180,b=E.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},x=E.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},w=E.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},v=E.SCALE_MODES={LINEAR:0,NEAREST:1},m=E.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},y=E.GC_MODES={AUTO:0,MANUAL:1},l=E.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,o=E.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,d=E.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,f=E.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},s=E.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},p=E.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},_=E.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},S=E.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},1392:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(892);function k(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}var g=function(){function b(){k(this,b),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return b.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},b.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},b.prototype.getRectangle=function(w){return this.minX>this.maxX||this.minY>this.maxY?C.Rectangle.EMPTY:(w=w||new C.Rectangle(0,0,1,1),w.x=this.minX,w.y=this.minY,w.width=this.maxX-this.minX,w.height=this.maxY-this.minY,w)},b.prototype.addPoint=function(w){this.minX=Math.min(this.minX,w.x),this.maxX=Math.max(this.maxX,w.x),this.minY=Math.min(this.minY,w.y),this.maxY=Math.max(this.maxY,w.y)},b.prototype.addQuad=function(w){var v=this.minX,m=this.minY,y=this.maxX,l=this.maxY,o=w[0],d=w[1];v=o<v?o:v,m=d<m?d:m,y=o>y?o:y,l=d>l?d:l,o=w[2],d=w[3],v=o<v?o:v,m=d<m?d:m,y=o>y?o:y,l=d>l?d:l,o=w[4],d=w[5],v=o<v?o:v,m=d<m?d:m,y=o>y?o:y,l=d>l?d:l,o=w[6],d=w[7],v=o<v?o:v,m=d<m?d:m,y=o>y?o:y,l=d>l?d:l,this.minX=v,this.minY=m,this.maxX=y,this.maxY=l},b.prototype.addFrame=function(w,v,m,y,l){var o=w.worldTransform,d=o.a,f=o.b,s=o.c,p=o.d,_=o.tx,S=o.ty,T=this.minX,M=this.minY,L=this.maxX,F=this.maxY,D=d*v+s*m+_,B=f*v+p*m+S;T=D<T?D:T,M=B<M?B:M,L=D>L?D:L,F=B>F?B:F,D=d*y+s*m+_,B=f*y+p*m+S,T=D<T?D:T,M=B<M?B:M,L=D>L?D:L,F=B>F?B:F,D=d*v+s*l+_,B=f*v+p*l+S,T=D<T?D:T,M=B<M?B:M,L=D>L?D:L,F=B>F?B:F,D=d*y+s*l+_,B=f*y+p*l+S,T=D<T?D:T,M=B<M?B:M,L=D>L?D:L,F=B>F?B:F,this.minX=T,this.minY=M,this.maxX=L,this.maxY=F},b.prototype.addVertices=function(w,v,m,y){for(var l=w.worldTransform,o=l.a,d=l.b,f=l.c,s=l.d,p=l.tx,_=l.ty,S=this.minX,T=this.minY,M=this.maxX,L=this.maxY,F=m;F<y;F+=2){var D=v[F],B=v[F+1],K=o*D+f*B+p,N=s*B+d*D+_;S=K<S?K:S,T=N<T?N:T,M=K>M?K:M,L=N>L?N:L}this.minX=S,this.minY=T,this.maxX=M,this.maxY=L},b.prototype.addBounds=function(w){var v=this.minX,m=this.minY,y=this.maxX,l=this.maxY;this.minX=w.minX<v?w.minX:v,this.minY=w.minY<m?w.minY:m,this.maxX=w.maxX>y?w.maxX:y,this.maxY=w.maxY>l?w.maxY:l},b.prototype.addBoundsMask=function(w,v){var m=w.minX>v.minX?w.minX:v.minX,y=w.minY>v.minY?w.minY:v.minY,l=w.maxX<v.maxX?w.maxX:v.maxX,o=w.maxY<v.maxY?w.maxY:v.maxY;if(m<=l&&y<=o){var d=this.minX,f=this.minY,s=this.maxX,p=this.maxY;this.minX=m<d?m:d,this.minY=y<f?y:f,this.maxX=l>s?l:s,this.maxY=o>p?o:p}},b.prototype.addBoundsArea=function(w,v){var m=w.minX>v.x?w.minX:v.x,y=w.minY>v.y?w.minY:v.y,l=w.maxX<v.x+v.width?w.maxX:v.x+v.width,o=w.maxY<v.y+v.height?w.maxY:v.y+v.height;if(m<=l&&y<=o){var d=this.minX,f=this.minY,s=this.maxX,p=this.maxY;this.minX=m<d?m:d,this.minY=y<f?y:f,this.maxX=l>s?l:s,this.maxY=o>p?o:p}},b}();E.default=g},1822:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function l(o,d){for(var f=0;f<d.length;f++){var s=d[f];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,s.key,s)}}return function(o,d,f){return d&&l(o.prototype,d),f&&l(o,f),o}}(),k=O(7768),g=O(141),b=x(g);function x(l){return l&&l.__esModule?l:{default:l}}function w(l,o){if(!(l instanceof o))throw new TypeError("Cannot call a class as a function")}function v(l,o){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:l}function m(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);l.prototype=Object.create(o&&o.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(l,o):l.__proto__=o)}var y=function(l){m(o,l);function o(){w(this,o);var d=v(this,l.call(this));return d.children=[],d}return o.prototype.onChildrenChange=function(){},o.prototype.addChild=function(f){var s=arguments.length;if(s>1)for(var p=0;p<s;p++)this.addChild(arguments[p]);else f.parent&&f.parent.removeChild(f),f.parent=this,f.transform._parentID=-1,this.children.push(f),this._boundsID++,this.onChildrenChange(this.children.length-1),f.emit("added",this);return f},o.prototype.addChildAt=function(f,s){if(s<0||s>this.children.length)throw new Error(f+"addChildAt: The index "+s+" supplied is out of bounds "+this.children.length);return f.parent&&f.parent.removeChild(f),f.parent=this,f.transform._parentID=-1,this.children.splice(s,0,f),this._boundsID++,this.onChildrenChange(s),f.emit("added",this),f},o.prototype.swapChildren=function(f,s){if(f!==s){var p=this.getChildIndex(f),_=this.getChildIndex(s);this.children[p]=s,this.children[_]=f,this.onChildrenChange(p<_?p:_)}},o.prototype.getChildIndex=function(f){var s=this.children.indexOf(f);if(s===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return s},o.prototype.setChildIndex=function(f,s){if(s<0||s>=this.children.length)throw new Error("The index "+s+" supplied is out of bounds "+this.children.length);var p=this.getChildIndex(f);(0,k.removeItems)(this.children,p,1),this.children.splice(s,0,f),this.onChildrenChange(s)},o.prototype.getChildAt=function(f){if(f<0||f>=this.children.length)throw new Error("getChildAt: Index ("+f+") does not exist.");return this.children[f]},o.prototype.removeChild=function(f){var s=arguments.length;if(s>1)for(var p=0;p<s;p++)this.removeChild(arguments[p]);else{var _=this.children.indexOf(f);if(_===-1)return null;f.parent=null,f.transform._parentID=-1,(0,k.removeItems)(this.children,_,1),this._boundsID++,this.onChildrenChange(_),f.emit("removed",this)}return f},o.prototype.removeChildAt=function(f){var s=this.getChildAt(f);return s.parent=null,s.transform._parentID=-1,(0,k.removeItems)(this.children,f,1),this._boundsID++,this.onChildrenChange(f),s.emit("removed",this),s},o.prototype.removeChildren=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=arguments[1],p=f,_=typeof s=="number"?s:this.children.length,S=_-p,T=void 0;if(S>0&&S<=_){T=this.children.splice(p,S);for(var M=0;M<T.length;++M)T[M].parent=null,T[M].transform&&(T[M].transform._parentID=-1);this._boundsID++,this.onChildrenChange(f);for(var L=0;L<T.length;++L)T[L].emit("removed",this);return T}else if(S===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},o.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var f=0,s=this.children.length;f<s;++f){var p=this.children[f];p.visible&&p.updateTransform()}},o.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var f=0;f<this.children.length;f++){var s=this.children[f];!s.visible||!s.renderable||(s.calculateBounds(),s._mask?(s._mask.calculateBounds(),this._bounds.addBoundsMask(s._bounds,s._mask._bounds)):s.filterArea?this._bounds.addBoundsArea(s._bounds,s.filterArea):this._bounds.addBounds(s._bounds))}this._lastBoundsID=this._boundsID},o.prototype._calculateBounds=function(){},o.prototype.renderWebGL=function(f){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvancedWebGL(f);else{this._renderWebGL(f);for(var s=0,p=this.children.length;s<p;++s)this.children[s].renderWebGL(f)}},o.prototype.renderAdvancedWebGL=function(f){f.flush();var s=this._filters,p=this._mask;if(s){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var _=0;_<s.length;_++)s[_].enabled&&this._enabledFilters.push(s[_]);this._enabledFilters.length&&f.filterManager.pushFilter(this,this._enabledFilters)}p&&f.maskManager.pushMask(this,this._mask),this._renderWebGL(f);for(var S=0,T=this.children.length;S<T;S++)this.children[S].renderWebGL(f);f.flush(),p&&f.maskManager.popMask(this,this._mask),s&&this._enabledFilters&&this._enabledFilters.length&&f.filterManager.popFilter()},o.prototype._renderWebGL=function(f){},o.prototype._renderCanvas=function(f){},o.prototype.renderCanvas=function(f){if(!(!this.visible||this.worldAlpha<=0||!this.renderable)){this._mask&&f.maskManager.pushMask(this._mask),this._renderCanvas(f);for(var s=0,p=this.children.length;s<p;++s)this.children[s].renderCanvas(f);this._mask&&f.maskManager.popMask(f)}},o.prototype.destroy=function(f){l.prototype.destroy.call(this);var s=typeof f=="boolean"?f:f&&f.children,p=this.removeChildren(0,this.children.length);if(s)for(var _=0;_<p.length;++_)p[_].destroy(f)},C(o,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(f){var s=this.getLocalBounds().width;s!==0?this.scale.x=f/s:this.scale.x=1,this._width=f}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(f){var s=this.getLocalBounds().height;s!==0?this.scale.y=f/s:this.scale.y=1,this._height=f}}]),o}(b.default);E.default=y,y.prototype.containerUpdateTransform=y.prototype.updateTransform},141:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function M(L,F){for(var D=0;D<F.length;D++){var B=F[D];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(L,B.key,B)}}return function(L,F,D){return F&&M(L.prototype,F),D&&M(L,D),L}}(),k=O(5323),g=s(k),b=O(4633),x=O(7505),w=s(x),v=O(9921),m=s(v),y=O(8397),l=s(y),o=O(1392),d=s(o),f=O(892);function s(M){return M&&M.__esModule?M:{default:M}}function p(M,L){if(!(M instanceof L))throw new TypeError("Cannot call a class as a function")}function _(M,L){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:M}function S(M,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);M.prototype=Object.create(L&&L.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(M,L):M.__proto__=L)}var T=function(M){S(L,M);function L(){p(this,L);var F=_(this,M.call(this)),D=w.default.TRANSFORM_MODE===b.TRANSFORM_MODE.STATIC?m.default:l.default;return F.tempDisplayObjectParent=null,F.transform=new D,F.alpha=1,F.visible=!0,F.renderable=!0,F.parent=null,F.worldAlpha=1,F.filterArea=null,F._filters=null,F._enabledFilters=null,F._bounds=new d.default,F._boundsID=0,F._lastBoundsID=-1,F._boundsRect=null,F._localBoundsRect=null,F._mask=null,F._destroyed=!1,F}return L.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},L.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},L.prototype.getBounds=function(D,B){return D||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),B||(this._boundsRect||(this._boundsRect=new f.Rectangle),B=this._boundsRect),this._bounds.getRectangle(B)},L.prototype.getLocalBounds=function(D){var B=this.transform,K=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,D||(this._localBoundsRect||(this._localBoundsRect=new f.Rectangle),D=this._localBoundsRect);var N=this.getBounds(!1,D);return this.parent=K,this.transform=B,N},L.prototype.toGlobal=function(D,B){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return K||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(D,B)},L.prototype.toLocal=function(D,B,K,N){return B&&(D=B.toGlobal(D,K,N)),N||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(D,K)},L.prototype.renderWebGL=function(D){},L.prototype.renderCanvas=function(D){},L.prototype.setParent=function(D){if(!D||!D.addChild)throw new Error("setParent: Argument must be a Container");return D.addChild(this),D},L.prototype.setTransform=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,V=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,J=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,se=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,ie=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,ae=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0;return this.position.x=D,this.position.y=B,this.scale.x=K||1,this.scale.y=N||1,this.rotation=V,this.skew.x=J,this.skew.y=se,this.pivot.x=ie,this.pivot.y=ae,this},L.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},C(L,[{key:"_tempDisplayObjectParent",get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new L),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(D){this.transform.position.x=D}},{key:"y",get:function(){return this.position.y},set:function(D){this.transform.position.y=D}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(D){this.transform.position.copy(D)}},{key:"scale",get:function(){return this.transform.scale},set:function(D){this.transform.scale.copy(D)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(D){this.transform.pivot.copy(D)}},{key:"skew",get:function(){return this.transform.skew},set:function(D){this.transform.skew.copy(D)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(D){this.transform.rotation=D}},{key:"worldVisible",get:function(){var D=this;do{if(!D.visible)return!1;D=D.parent}while(D);return!0}},{key:"mask",get:function(){return this._mask},set:function(D){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=D,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(D){this._filters=D&&D.slice()}}]),L}(g.default);E.default=T,T.prototype.displayObjectUpdateTransform=T.prototype.updateTransform},8397:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function l(o,d){for(var f=0;f<d.length;f++){var s=d[f];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,s.key,s)}}return function(o,d,f){return d&&l(o.prototype,d),f&&l(o,f),o}}(),k=O(892),g=O(229),b=x(g);function x(l){return l&&l.__esModule?l:{default:l}}function w(l,o){if(!(l instanceof o))throw new TypeError("Cannot call a class as a function")}function v(l,o){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:l}function m(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);l.prototype=Object.create(o&&o.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(l,o):l.__proto__=o)}var y=function(l){m(o,l);function o(){w(this,o);var d=v(this,l.call(this));return d.position=new k.Point(0,0),d.scale=new k.Point(1,1),d.skew=new k.ObservablePoint(d.updateSkew,d,0,0),d.pivot=new k.Point(0,0),d._rotation=0,d._cx=1,d._sx=0,d._cy=0,d._sy=1,d}return o.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},o.prototype.updateLocalTransform=function(){var f=this.localTransform;f.a=this._cx*this.scale.x,f.b=this._sx*this.scale.x,f.c=this._cy*this.scale.y,f.d=this._sy*this.scale.y,f.tx=this.position.x-(this.pivot.x*f.a+this.pivot.y*f.c),f.ty=this.position.y-(this.pivot.x*f.b+this.pivot.y*f.d)},o.prototype.updateTransform=function(f){var s=this.localTransform;s.a=this._cx*this.scale.x,s.b=this._sx*this.scale.x,s.c=this._cy*this.scale.y,s.d=this._sy*this.scale.y,s.tx=this.position.x-(this.pivot.x*s.a+this.pivot.y*s.c),s.ty=this.position.y-(this.pivot.x*s.b+this.pivot.y*s.d);var p=f.worldTransform,_=this.worldTransform;_.a=s.a*p.a+s.b*p.c,_.b=s.a*p.b+s.b*p.d,_.c=s.c*p.a+s.d*p.c,_.d=s.c*p.b+s.d*p.d,_.tx=s.tx*p.a+s.ty*p.c+p.tx,_.ty=s.tx*p.b+s.ty*p.d+p.ty,this._worldID++},o.prototype.setFromMatrix=function(f){f.decompose(this)},C(o,[{key:"rotation",get:function(){return this._rotation},set:function(f){this._rotation=f,this.updateSkew()}}]),o}(b.default);E.default=y},229:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(892);function k(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}var g=function(){function b(){k(this,b),this.worldTransform=new C.Matrix,this.localTransform=new C.Matrix,this._worldID=0,this._parentID=0}return b.prototype.updateLocalTransform=function(){},b.prototype.updateTransform=function(w){var v=w.worldTransform,m=this.worldTransform,y=this.localTransform;m.a=y.a*v.a+y.b*v.c,m.b=y.a*v.b+y.b*v.d,m.c=y.c*v.a+y.d*v.c,m.d=y.c*v.b+y.d*v.d,m.tx=y.tx*v.a+y.ty*v.c+v.tx,m.ty=y.tx*v.b+y.ty*v.d+v.ty,this._worldID++},b}();E.default=g,g.prototype.updateWorldTransform=g.prototype.updateTransform,g.IDENTITY=new g},9921:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function l(o,d){for(var f=0;f<d.length;f++){var s=d[f];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,s.key,s)}}return function(o,d,f){return d&&l(o.prototype,d),f&&l(o,f),o}}(),k=O(892),g=O(229),b=x(g);function x(l){return l&&l.__esModule?l:{default:l}}function w(l,o){if(!(l instanceof o))throw new TypeError("Cannot call a class as a function")}function v(l,o){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:l}function m(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);l.prototype=Object.create(o&&o.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(l,o):l.__proto__=o)}var y=function(l){m(o,l);function o(){w(this,o);var d=v(this,l.call(this));return d.position=new k.ObservablePoint(d.onChange,d,0,0),d.scale=new k.ObservablePoint(d.onChange,d,1,1),d.pivot=new k.ObservablePoint(d.onChange,d,0,0),d.skew=new k.ObservablePoint(d.updateSkew,d,0,0),d._rotation=0,d._cx=1,d._sx=0,d._cy=0,d._sy=1,d._localID=0,d._currentLocalID=0,d}return o.prototype.onChange=function(){this._localID++},o.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},o.prototype.updateLocalTransform=function(){var f=this.localTransform;this._localID!==this._currentLocalID&&(f.a=this._cx*this.scale._x,f.b=this._sx*this.scale._x,f.c=this._cy*this.scale._y,f.d=this._sy*this.scale._y,f.tx=this.position._x-(this.pivot._x*f.a+this.pivot._y*f.c),f.ty=this.position._y-(this.pivot._x*f.b+this.pivot._y*f.d),this._currentLocalID=this._localID,this._parentID=-1)},o.prototype.updateTransform=function(f){var s=this.localTransform;if(this._localID!==this._currentLocalID&&(s.a=this._cx*this.scale._x,s.b=this._sx*this.scale._x,s.c=this._cy*this.scale._y,s.d=this._sy*this.scale._y,s.tx=this.position._x-(this.pivot._x*s.a+this.pivot._y*s.c),s.ty=this.position._y-(this.pivot._x*s.b+this.pivot._y*s.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==f._worldID){var p=f.worldTransform,_=this.worldTransform;_.a=s.a*p.a+s.b*p.c,_.b=s.a*p.b+s.b*p.d,_.c=s.c*p.a+s.d*p.c,_.d=s.c*p.b+s.d*p.d,_.tx=s.tx*p.a+s.ty*p.c+p.tx,_.ty=s.tx*p.b+s.ty*p.d+p.ty,this._parentID=f._worldID,this._worldID++}},o.prototype.setFromMatrix=function(f){f.decompose(this),this._localID++},C(o,[{key:"rotation",get:function(){return this._rotation},set:function(f){this._rotation!==f&&(this._rotation=f,this.updateSkew())}}]),o}(b.default);E.default=y},7240:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(1822),k=L(C),g=O(869),b=L(g),x=O(2631),w=L(x),v=O(8277),m=L(v),y=O(8391),l=L(y),o=O(892),d=O(7768),f=O(4633),s=O(1392),p=L(s),_=O(3328),S=L(_),T=O(4695),M=L(T);function L(ae){return ae&&ae.__esModule?ae:{default:ae}}function F(ae,W){if(!(ae instanceof W))throw new TypeError("Cannot call a class as a function")}function D(ae,W){if(!ae)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:ae}function B(ae,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);ae.prototype=Object.create(W&&W.prototype,{constructor:{value:ae,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(ae,W):ae.__proto__=W)}var K=void 0,N=new o.Matrix,V=new o.Point,J=new Float32Array(4),se=new Float32Array(4),ie=function(ae){B(W,ae);function W(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;F(this,W);var H=D(this,ae.call(this));return H.fillAlpha=1,H.lineWidth=0,H.nativeLines=Q,H.lineColor=0,H.lineAlignment=.5,H.graphicsData=[],H.tint=16777215,H._prevTint=16777215,H.blendMode=f.BLEND_MODES.NORMAL,H.currentPath=null,H._webGL={},H.isMask=!1,H.boundsPadding=0,H._localBounds=new p.default,H.dirty=0,H.fastRectDirty=-1,H.clearDirty=0,H.boundsDirty=-1,H.cachedSpriteDirty=!1,H._spriteRect=null,H._fastRect=!1,H._prevRectTint=null,H._prevRectFillColor=null,H}return W.prototype.clone=function(){var H=new W;H.renderable=this.renderable,H.fillAlpha=this.fillAlpha,H.lineWidth=this.lineWidth,H.lineColor=this.lineColor,H.lineAlignment=this.lineAlignment,H.tint=this.tint,H.blendMode=this.blendMode,H.isMask=this.isMask,H.boundsPadding=this.boundsPadding,H.dirty=0,H.cachedSpriteDirty=this.cachedSpriteDirty;for(var Y=0;Y<this.graphicsData.length;++Y)H.graphicsData.push(this.graphicsData[Y].clone());return H.currentPath=H.graphicsData[H.graphicsData.length-1],H.updateLocalBounds(),H},W.prototype._quadraticCurveLength=function(H,Y,Z,$,ee,oe){var ge=H-2*Z+ee,ve=Y-2*$+oe,we=2*Z-2*H,Se=2*$-2*Y,_e=4*(ge*ge+ve*ve),Te=4*(ge*we+ve*Se),Ce=we*we+Se*Se,We=2*Math.sqrt(_e+Te+Ce),Fe=Math.sqrt(_e),Ge=2*_e*Fe,ze=2*Math.sqrt(Ce),Ae=Te/Fe;return(Ge*We+Fe*Te*(We-ze)+(4*Ce*_e-Te*Te)*Math.log((2*Fe+Ae+We)/(Ae+ze)))/(4*Ge)},W.prototype._bezierCurveLength=function(H,Y,Z,$,ee,oe,ge,ve){for(var we=10,Se=0,_e=0,Te=0,Ce=0,We=0,Fe=0,Ge=0,ze=0,Ae=0,ke=0,He=0,$e=H,gt=Y,ft=1;ft<=we;++ft)_e=ft/we,Te=_e*_e,Ce=Te*_e,We=1-_e,Fe=We*We,Ge=Fe*We,ze=Ge*H+3*Fe*_e*Z+3*We*Te*ee+Ce*ge,Ae=Ge*Y+3*Fe*_e*$+3*We*Te*oe+Ce*ve,ke=$e-ze,He=gt-Ae,$e=ze,gt=Ae,Se+=Math.sqrt(ke*ke+He*He);return Se},W.prototype._segmentsCount=function(H){var Y=Math.ceil(H/W.CURVES.maxLength);return Y<W.CURVES.minSegments?Y=W.CURVES.minSegments:Y>W.CURVES.maxSegments&&(Y=W.CURVES.maxSegments),Y},W.prototype.lineStyle=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.5;if(this.lineWidth=H,this.lineColor=Y,this.lineAlpha=Z,this.lineAlignment=$,this.currentPath)if(this.currentPath.shape.points.length){var ee=new o.Polygon(this.currentPath.shape.points.slice(-2));ee.closed=!1,this.drawShape(ee)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment;return this},W.prototype.moveTo=function(H,Y){var Z=new o.Polygon([H,Y]);return Z.closed=!1,this.drawShape(Z),this},W.prototype.lineTo=function(H,Y){var Z=this.currentPath.shape.points,$=Z[Z.length-2],ee=Z[Z.length-1];return($!==H||ee!==Y)&&(Z.push(H,Y),this.dirty++),this},W.prototype.quadraticCurveTo=function(H,Y,Z,$){this.currentPath?this.currentPath.shape.points.length===0&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var ee=this.currentPath.shape.points,oe=0,ge=0;ee.length===0&&this.moveTo(0,0);for(var ve=ee[ee.length-2],we=ee[ee.length-1],Se=W.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(ve,we,H,Y,Z,$)):20,_e=1;_e<=Se;++_e){var Te=_e/Se;oe=ve+(H-ve)*Te,ge=we+(Y-we)*Te,ee.push(oe+(H+(Z-H)*Te-oe)*Te,ge+(Y+($-Y)*Te-ge)*Te)}return this.dirty++,this},W.prototype.bezierCurveTo=function(H,Y,Z,$,ee,oe){this.currentPath?this.currentPath.shape.points.length===0&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var ge=this.currentPath.shape.points,ve=ge[ge.length-2],we=ge[ge.length-1];ge.length-=2;var Se=W.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(ve,we,H,Y,Z,$,ee,oe)):20;return(0,S.default)(ve,we,H,Y,Z,$,ee,oe,Se,ge),this.dirty++,this},W.prototype.arcTo=function(H,Y,Z,$,ee){this.currentPath?this.currentPath.shape.points.length===0&&this.currentPath.shape.points.push(H,Y):this.moveTo(H,Y);var oe=this.currentPath.shape.points,ge=oe[oe.length-2],ve=oe[oe.length-1],we=ve-Y,Se=ge-H,_e=$-Y,Te=Z-H,Ce=Math.abs(we*Te-Se*_e);if(Ce<1e-8||ee===0)(oe[oe.length-2]!==H||oe[oe.length-1]!==Y)&&oe.push(H,Y);else{var We=we*we+Se*Se,Fe=_e*_e+Te*Te,Ge=we*_e+Se*Te,ze=ee*Math.sqrt(We)/Ce,Ae=ee*Math.sqrt(Fe)/Ce,ke=ze*Ge/We,He=Ae*Ge/Fe,$e=ze*Te+Ae*Se,gt=ze*_e+Ae*we,ft=Se*(Ae+ke),Mt=we*(Ae+ke),jt=Te*(ze+He),vt=_e*(ze+He),Dr=Math.atan2(Mt-gt,ft-$e),Wn=Math.atan2(vt-gt,jt-$e);this.arc($e+H,gt+Y,ee,Dr,Wn,Se*_e>Te*we)}return this.dirty++,this},W.prototype.arc=function(H,Y,Z,$,ee){var oe=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if($===ee)return this;!oe&&ee<=$?ee+=f.PI_2:oe&&$<=ee&&($+=f.PI_2);var ge=ee-$,ve=W.CURVES.adaptive?this._segmentsCount(Math.abs(ge)*Z):Math.ceil(Math.abs(ge)/f.PI_2)*40;if(ge===0)return this;var we=H+Math.cos($)*Z,Se=Y+Math.sin($)*Z,_e=this.currentPath?this.currentPath.shape.points:null;if(_e){var Te=Math.abs(_e[_e.length-2]-we),Ce=Math.abs(_e[_e.length-1]-Se);Te<.001&&Ce<.001||_e.push(we,Se)}else this.moveTo(we,Se),_e=this.currentPath.shape.points;for(var We=ge/(ve*2),Fe=We*2,Ge=Math.cos(We),ze=Math.sin(We),Ae=ve-1,ke=Ae%1/Ae,He=0;He<=Ae;++He){var $e=He+ke*He,gt=We+$+Fe*$e,ft=Math.cos(gt),Mt=-Math.sin(gt);_e.push((Ge*ft+ze*Mt)*Z+H,(Ge*-Mt+ze*ft)*Z+Y)}return this.dirty++,this},W.prototype.beginFill=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this.filling=!0,this.fillColor=H,this.fillAlpha=Y,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},W.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},W.prototype.drawRect=function(H,Y,Z,$){return this.drawShape(new o.Rectangle(H,Y,Z,$)),this},W.prototype.drawRoundedRect=function(H,Y,Z,$,ee){return this.drawShape(new o.RoundedRectangle(H,Y,Z,$,ee)),this},W.prototype.drawCircle=function(H,Y,Z){return this.drawShape(new o.Circle(H,Y,Z)),this},W.prototype.drawEllipse=function(H,Y,Z,$){return this.drawShape(new o.Ellipse(H,Y,Z,$)),this},W.prototype.drawPolygon=function(H){var Y=H,Z=!0;if(Y instanceof o.Polygon&&(Z=Y.closed,Y=Y.points),!Array.isArray(Y)){Y=new Array(arguments.length);for(var $=0;$<Y.length;++$)Y[$]=arguments[$]}var ee=new o.Polygon(Y);return ee.closed=Z,this.drawShape(ee),this},W.prototype.drawStar=function(H,Y,Z,$,ee){var oe=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;ee=ee||$/2;for(var ge=-1*Math.PI/2+oe,ve=Z*2,we=f.PI_2/ve,Se=[],_e=0;_e<ve;_e++){var Te=_e%2?ee:$,Ce=_e*we+ge;Se.push(H+Te*Math.cos(Ce),Y+Te*Math.sin(Ce))}return this.drawPolygon(Se)},W.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.canvasTintDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},W.prototype.isFastRect=function(){return this.graphicsData.length===1&&this.graphicsData[0].shape.type===f.SHAPES.RECT&&!this.graphicsData[0].lineWidth},W.prototype._renderWebGL=function(H){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(H):(H.setObjectRenderer(H.plugins.graphics),H.plugins.graphics.render(this))},W.prototype._renderSpriteRect=function(H){var Y=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new l.default(new w.default(w.default.WHITE)));var Z=this._spriteRect,$=this.graphicsData[0].fillColor;if(this.tint===16777215)Z.tint=$;else if(this.tint!==this._prevRectTint||$!==this._prevRectFillColor){var ee=J,oe=se;(0,d.hex2rgb)($,ee),(0,d.hex2rgb)(this.tint,oe),ee[0]*=oe[0],ee[1]*=oe[1],ee[2]*=oe[2],Z.tint=(0,d.rgb2hex)(ee),this._prevRectTint=this.tint,this._prevRectFillColor=$}Z.alpha=this.graphicsData[0].fillAlpha,Z.worldAlpha=this.worldAlpha*Z.alpha,Z.blendMode=this.blendMode,Z._texture._frame.width=Y.width,Z._texture._frame.height=Y.height,Z.transform.worldTransform=this.transform.worldTransform,Z.anchor.set(-Y.x/Y.width,-Y.y/Y.height),Z._onAnchorUpdate(),Z._renderWebGL(H)},W.prototype._renderCanvas=function(H){this.isMask!==!0&&H.plugins.graphics.render(this)},W.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var H=this._localBounds;this._bounds.addFrame(this.transform,H.minX,H.minY,H.maxX,H.maxY)},W.prototype.containsPoint=function(H){this.worldTransform.applyInverse(H,V);for(var Y=this.graphicsData,Z=0;Z<Y.length;++Z){var $=Y[Z];if(!!$.fill&&$.shape&&$.shape.contains(V.x,V.y)){var ee=!1;if($.holes)for(var oe=0;oe<$.holes.length;oe++){var ge=$.holes[oe];if(ge.contains(V.x,V.y)){ee=!0;break}}if(!ee)return!0}}return!1},W.prototype.updateLocalBounds=function(){var H=1/0,Y=-1/0,Z=1/0,$=-1/0;if(this.graphicsData.length)for(var ee=0,oe=0,ge=0,ve=0,we=0,Se=0;Se<this.graphicsData.length;Se++){var _e=this.graphicsData[Se],Te=_e.type,Ce=_e.lineWidth,We=_e.lineAlignment,Fe=Ce*We;if(ee=_e.shape,Te===f.SHAPES.RECT||Te===f.SHAPES.RREC)oe=ee.x-Fe,ge=ee.y-Fe,ve=ee.width+Fe*2,we=ee.height+Fe*2,H=oe<H?oe:H,Y=oe+ve>Y?oe+ve:Y,Z=ge<Z?ge:Z,$=ge+we>$?ge+we:$;else if(Te===f.SHAPES.CIRC)oe=ee.x,ge=ee.y,ve=ee.radius+Fe,we=ee.radius+Fe,H=oe-ve<H?oe-ve:H,Y=oe+ve>Y?oe+ve:Y,Z=ge-we<Z?ge-we:Z,$=ge+we>$?ge+we:$;else if(Te===f.SHAPES.ELIP)oe=ee.x,ge=ee.y,ve=ee.width+Fe,we=ee.height+Fe,H=oe-ve<H?oe-ve:H,Y=oe+ve>Y?oe+ve:Y,Z=ge-we<Z?ge-we:Z,$=ge+we>$?ge+we:$;else for(var Ge=ee.points,ze=0,Ae=0,ke=0,He=0,$e=0,gt=0,ft=0,Mt=0,jt=0;jt+2<Ge.length;jt+=2)oe=Ge[jt],ge=Ge[jt+1],ze=Ge[jt+2],Ae=Ge[jt+3],ke=Math.abs(ze-oe),He=Math.abs(Ae-ge),we=Fe*2,ve=Math.sqrt(ke*ke+He*He),!(ve<1e-9)&&($e=(we/ve*He+ke)/2,gt=(we/ve*ke+He)/2,ft=(ze+oe)/2,Mt=(Ae+ge)/2,H=ft-$e<H?ft-$e:H,Y=ft+$e>Y?ft+$e:Y,Z=Mt-gt<Z?Mt-gt:Z,$=Mt+gt>$?Mt+gt:$)}else H=0,Y=0,Z=0,$=0;var vt=this.boundsPadding;this._localBounds.minX=H-vt,this._localBounds.maxX=Y+vt,this._localBounds.minY=Z-vt,this._localBounds.maxY=$+vt},W.prototype.drawShape=function(H){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var Y=new m.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,H,this.lineAlignment);return this.graphicsData.push(Y),Y.type===f.SHAPES.POLY&&(Y.shape.closed=Y.shape.closed,this.currentPath=Y),this.dirty++,Y},W.prototype.generateCanvasTexture=function(H){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Z=this.getLocalBounds(),$=b.default.create(Z.width,Z.height,H,Y);K||(K=new M.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(N),N.invert(),N.tx-=Z.x,N.ty-=Z.y,K.render(this,$,!0,N);var ee=w.default.fromCanvas($.baseTexture._canvasRenderTarget.canvas,H,"graphics");return ee.baseTexture.resolution=Y,ee.baseTexture.update(),ee},W.prototype.closePath=function(){var H=this.currentPath;return H&&H.shape&&H.shape.close(),this},W.prototype.addHole=function(){var H=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(H.shape),this.currentPath=null,this},W.prototype.destroy=function(H){ae.prototype.destroy.call(this,H);for(var Y=0;Y<this.graphicsData.length;++Y)this.graphicsData[Y].destroy();for(var Z in this._webGL)for(var $=0;$<this._webGL[Z].data.length;++$)this._webGL[Z].data[$].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webGL=null,this._localBounds=null},W}(k.default);E.default=ie,ie._SPRITE_TEXTURE=null,ie.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}},8277:(de,E)=>{"use strict";E.__esModule=!0;function O(k,g){if(!(k instanceof g))throw new TypeError("Cannot call a class as a function")}var C=function(){function k(g,b,x,w,v,m,y,l,o){O(this,k),this.lineWidth=g,this.lineAlignment=o,this.nativeLines=y,this.lineColor=b,this.lineAlpha=x,this._lineTint=b,this.fillColor=w,this.fillAlpha=v,this._fillTint=w,this.fill=m,this.holes=[],this.shape=l,this.type=l.type}return k.prototype.clone=function(){return new k(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape,this.lineAlignment)},k.prototype.addHole=function(b){this.holes.push(b)},k.prototype.destroy=function(){this.shape=null,this.holes=null},k}();E.default=C},7122:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(4695),k=b(C),g=O(4633);function b(v){return v&&v.__esModule?v:{default:v}}function x(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}var w=function(){function v(m){x(this,v),this.renderer=m}return v.prototype.render=function(y){var l=this.renderer,o=l.context,d=y.worldAlpha,f=y.transform.worldTransform,s=l.resolution;o.setTransform(f.a*s,f.b*s,f.c*s,f.d*s,f.tx*s,f.ty*s),(y.canvasTintDirty!==y.dirty||y._prevTint!==y.tint)&&this.updateGraphicsTint(y),l.setBlendMode(y.blendMode);for(var p=0;p<y.graphicsData.length;p++){var _=y.graphicsData[p],S=_.shape,T=_._fillTint,M=_._lineTint;if(o.lineWidth=_.lineWidth,_.type===g.SHAPES.POLY){o.beginPath();var L=S.points,F=_.holes,D=void 0,B=void 0,K=void 0,N=void 0;o.moveTo(L[0],L[1]);for(var V=2;V<L.length;V+=2)o.lineTo(L[V],L[V+1]);if(S.closed&&o.closePath(),F.length>0){D=0,K=L[0],N=L[1];for(var J=2;J+2<L.length;J+=2)D+=(L[J]-K)*(L[J+3]-N)-(L[J+2]-K)*(L[J+1]-N);for(var se=0;se<F.length;se++)if(L=F[se].points,!!L){B=0,K=L[0],N=L[1];for(var ie=2;ie+2<L.length;ie+=2)B+=(L[ie]-K)*(L[ie+3]-N)-(L[ie+2]-K)*(L[ie+1]-N);if(B*D<0){o.moveTo(L[0],L[1]);for(var ae=2;ae<L.length;ae+=2)o.lineTo(L[ae],L[ae+1])}else{o.moveTo(L[L.length-2],L[L.length-1]);for(var W=L.length-4;W>=0;W-=2)o.lineTo(L[W],L[W+1])}F[se].close&&o.closePath()}}_.fill&&(o.globalAlpha=_.fillAlpha*d,o.fillStyle="#"+("00000"+(T|0).toString(16)).substr(-6),o.fill()),_.lineWidth&&(o.globalAlpha=_.lineAlpha*d,o.strokeStyle="#"+("00000"+(M|0).toString(16)).substr(-6),o.stroke())}else if(_.type===g.SHAPES.RECT)(_.fillColor||_.fillColor===0)&&(o.globalAlpha=_.fillAlpha*d,o.fillStyle="#"+("00000"+(T|0).toString(16)).substr(-6),o.fillRect(S.x,S.y,S.width,S.height)),_.lineWidth&&(o.globalAlpha=_.lineAlpha*d,o.strokeStyle="#"+("00000"+(M|0).toString(16)).substr(-6),o.strokeRect(S.x,S.y,S.width,S.height));else if(_.type===g.SHAPES.CIRC)o.beginPath(),o.arc(S.x,S.y,S.radius,0,2*Math.PI),o.closePath(),_.fill&&(o.globalAlpha=_.fillAlpha*d,o.fillStyle="#"+("00000"+(T|0).toString(16)).substr(-6),o.fill()),_.lineWidth&&(o.globalAlpha=_.lineAlpha*d,o.strokeStyle="#"+("00000"+(M|0).toString(16)).substr(-6),o.stroke());else if(_.type===g.SHAPES.ELIP){var Q=S.width*2,H=S.height*2,Y=S.x-Q/2,Z=S.y-H/2;o.beginPath();var $=.5522848,ee=Q/2*$,oe=H/2*$,ge=Y+Q,ve=Z+H,we=Y+Q/2,Se=Z+H/2;o.moveTo(Y,Se),o.bezierCurveTo(Y,Se-oe,we-ee,Z,we,Z),o.bezierCurveTo(we+ee,Z,ge,Se-oe,ge,Se),o.bezierCurveTo(ge,Se+oe,we+ee,ve,we,ve),o.bezierCurveTo(we-ee,ve,Y,Se+oe,Y,Se),o.closePath(),_.fill&&(o.globalAlpha=_.fillAlpha*d,o.fillStyle="#"+("00000"+(T|0).toString(16)).substr(-6),o.fill()),_.lineWidth&&(o.globalAlpha=_.lineAlpha*d,o.strokeStyle="#"+("00000"+(M|0).toString(16)).substr(-6),o.stroke())}else if(_.type===g.SHAPES.RREC){var _e=S.x,Te=S.y,Ce=S.width,We=S.height,Fe=S.radius,Ge=Math.min(Ce,We)/2|0;Fe=Fe>Ge?Ge:Fe,o.beginPath(),o.moveTo(_e,Te+Fe),o.lineTo(_e,Te+We-Fe),o.quadraticCurveTo(_e,Te+We,_e+Fe,Te+We),o.lineTo(_e+Ce-Fe,Te+We),o.quadraticCurveTo(_e+Ce,Te+We,_e+Ce,Te+We-Fe),o.lineTo(_e+Ce,Te+Fe),o.quadraticCurveTo(_e+Ce,Te,_e+Ce-Fe,Te),o.lineTo(_e+Fe,Te),o.quadraticCurveTo(_e,Te,_e,Te+Fe),o.closePath(),(_.fillColor||_.fillColor===0)&&(o.globalAlpha=_.fillAlpha*d,o.fillStyle="#"+("00000"+(T|0).toString(16)).substr(-6),o.fill()),_.lineWidth&&(o.globalAlpha=_.lineAlpha*d,o.strokeStyle="#"+("00000"+(M|0).toString(16)).substr(-6),o.stroke())}}},v.prototype.updateGraphicsTint=function(y){y._prevTint=y.tint,y.canvasTintDirty=y.dirty;for(var l=(y.tint>>16&255)/255,o=(y.tint>>8&255)/255,d=(y.tint&255)/255,f=0;f<y.graphicsData.length;++f){var s=y.graphicsData[f],p=s.fillColor|0,_=s.lineColor|0;s._fillTint=((p>>16&255)/255*l*255<<16)+((p>>8&255)/255*o*255<<8)+(p&255)/255*d*255,s._lineTint=((_>>16&255)/255*l*255<<16)+((_>>8&255)/255*o*255<<8)+(_&255)/255*d*255}},v.prototype.renderPolygon=function(y,l,o){o.moveTo(y[0],y[1]);for(var d=1;d<y.length/2;++d)o.lineTo(y[d*2],y[d*2+1]);l&&o.closePath()},v.prototype.destroy=function(){this.renderer=null},v}();E.default=w,k.default.registerPlugin("graphics",w)},3328:(de,E)=>{"use strict";E.__esModule=!0,E.default=O;function O(C,k,g,b,x,w,v,m,y){var l=arguments.length>9&&arguments[9]!==void 0?arguments[9]:[],o=0,d=0,f=0,s=0,p=0;l.push(C,k);for(var _=1,S=0;_<=y;++_)S=_/y,o=1-S,d=o*o,f=d*o,s=S*S,p=s*S,l.push(f*C+3*d*S*g+3*o*s*x+p*v,f*k+3*d*S*b+3*o*s*w+p*m);return l}},1281:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(7768),k=O(4633),g=O(3364),b=M(g),x=O(7648),w=M(x),v=O(7096),m=M(v),y=O(9041),l=M(y),o=O(4784),d=M(o),f=O(5009),s=M(f),p=O(3949),_=M(p),S=O(7159),T=M(S);function M(K){return K&&K.__esModule?K:{default:K}}function L(K,N){if(!(K instanceof N))throw new TypeError("Cannot call a class as a function")}function F(K,N){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:K}function D(K,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);K.prototype=Object.create(N&&N.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(K,N):K.__proto__=N)}var B=function(K){D(N,K);function N(V){L(this,N);var J=F(this,K.call(this,V));return J.graphicsDataPool=[],J.primitiveShader=null,J.gl=V.gl,J.CONTEXT_UID=0,J}return N.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new l.default(this.gl)},N.prototype.destroy=function(){b.default.prototype.destroy.call(this);for(var J=0;J<this.graphicsDataPool.length;++J)this.graphicsDataPool[J].destroy();this.graphicsDataPool=null},N.prototype.render=function(J){var se=this.renderer,ie=se.gl,ae=void 0,W=J._webGL[this.CONTEXT_UID];(!W||J.dirty!==W.dirty)&&(this.updateGraphics(J),W=J._webGL[this.CONTEXT_UID]);var Q=this.primitiveShader;se.bindShader(Q),se.state.setBlendMode(J.blendMode);for(var H=0,Y=W.data.length;H<Y;H++){ae=W.data[H];var Z=ae.shader;se.bindShader(Z),Z.uniforms.translationMatrix=J.transform.worldTransform.toArray(!0),Z.uniforms.tint=(0,C.hex2rgb)(J.tint),Z.uniforms.alpha=J.worldAlpha,se.bindVao(ae.vao),ae.nativeLines?ie.drawArrays(ie.LINES,0,ae.points.length/6):ae.vao.draw(ie.TRIANGLE_STRIP,ae.indices.length)}},N.prototype.updateGraphics=function(J){var se=this.renderer.gl,ie=J._webGL[this.CONTEXT_UID];if(ie||(ie=J._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:se,clearDirty:-1,dirty:-1}),ie.dirty=J.dirty,J.clearDirty!==ie.clearDirty){ie.clearDirty=J.clearDirty;for(var ae=0;ae<ie.data.length;ae++)this.graphicsDataPool.push(ie.data[ae]);ie.data.length=0,ie.lastIndex=0}for(var W=void 0,Q=void 0,H=ie.lastIndex;H<J.graphicsData.length;H++){var Y=J.graphicsData[H];W=this.getWebGLData(ie,0),Y.nativeLines&&Y.lineWidth&&(Q=this.getWebGLData(ie,0,!0),ie.lastIndex++),Y.type===k.SHAPES.POLY&&(0,d.default)(Y,W,Q),Y.type===k.SHAPES.RECT?(0,s.default)(Y,W,Q):Y.type===k.SHAPES.CIRC||Y.type===k.SHAPES.ELIP?(0,T.default)(Y,W,Q):Y.type===k.SHAPES.RREC&&(0,_.default)(Y,W,Q),ie.lastIndex++}this.renderer.bindVao(null);for(var Z=0;Z<ie.data.length;Z++)W=ie.data[Z],W.dirty&&W.upload()},N.prototype.getWebGLData=function(J,se,ie){var ae=J.data[J.data.length-1];return(!ae||ae.nativeLines!==ie||ae.points.length>32e4)&&(ae=this.graphicsDataPool.pop()||new m.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),ae.nativeLines=ie,ae.reset(se),J.data.push(ae)),ae.dirty=!0,ae},N}(b.default);E.default=B,w.default.registerPlugin("graphics",B)},7096:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(3070),k=g(C);function g(w){return w&&w.__esModule?w:{default:w}}function b(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}var x=function(){function w(v,m,y){b(this,w),this.gl=v,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=k.default.GLBuffer.createVertexBuffer(v),this.indexBuffer=k.default.GLBuffer.createIndexBuffer(v),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=m,this.vao=new k.default.VertexArrayObject(v,y).addIndex(this.indexBuffer).addAttribute(this.buffer,m.attributes.aVertexPosition,v.FLOAT,!1,4*6,0).addAttribute(this.buffer,m.attributes.aColor,v.FLOAT,!1,4*6,2*4)}return w.prototype.reset=function(){this.points.length=0,this.indices.length=0},w.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},w.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},w}();E.default=x},9041:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(2916),k=g(C);function g(m){return m&&m.__esModule?m:{default:m}}function b(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function x(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function w(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var v=function(m){w(y,m);function y(l){return b(this,y),x(this,m.call(this,l,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join(`
`),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join(`
`)))}return y}(k.default);E.default=v},7159:(de,E,O)=>{"use strict";E.__esModule=!0,E.default=w;var C=O(3917),k=x(C),g=O(4633),b=O(7768);function x(v){return v&&v.__esModule?v:{default:v}}function w(v,m,y){var l=v.shape,o=l.x,d=l.y,f=void 0,s=void 0;if(v.type===g.SHAPES.CIRC?(f=l.radius,s=l.radius):(f=l.width,s=l.height),!(f===0||s===0)){var p=Math.floor(30*Math.sqrt(l.radius))||Math.floor(15*Math.sqrt(l.width+l.height)),_=Math.PI*2/p;if(v.fill){var S=(0,b.hex2rgb)(v.fillColor),T=v.fillAlpha,M=S[0]*T,L=S[1]*T,F=S[2]*T,D=m.points,B=m.indices,K=D.length/6;B.push(K);for(var N=0;N<p+1;N++)D.push(o,d,M,L,F,T),D.push(o+Math.sin(_*N)*f,d+Math.cos(_*N)*s,M,L,F,T),B.push(K++,K++);B.push(K-1)}if(v.lineWidth){var V=v.points;v.points=[];for(var J=0;J<p;J++)v.points.push(o+Math.sin(_*-J)*f,d+Math.cos(_*-J)*s);v.points.push(v.points[0],v.points[1]),(0,k.default)(v,m,y),v.points=V}}}},3917:(de,E,O)=>{"use strict";E.__esModule=!0,E.default=function(x,w,v){x.nativeLines?b(x,v):g(x,w)};var C=O(892),k=O(7768);function g(x,w){var v=x.points;if(v.length!==0){var m=new C.Point(v[0],v[1]),y=new C.Point(v[v.length-2],v[v.length-1]);if(m.x===y.x&&m.y===y.y){v=v.slice(),v.pop(),v.pop(),y=new C.Point(v[v.length-2],v[v.length-1]);var l=y.x+(m.x-y.x)*.5,o=y.y+(m.y-y.y)*.5;v.unshift(l,o),v.push(l,o)}var d=w.points,f=w.indices,s=v.length/2,p=v.length,_=d.length/6,S=x.lineWidth/2,T=(0,k.hex2rgb)(x.lineColor),M=x.lineAlpha,L=T[0]*M,F=T[1]*M,D=T[2]*M,B=v[0],K=v[1],N=v[2],V=v[3],J=0,se=0,ie=-(K-V),ae=B-N,W=0,Q=0,H=0,Y=0,Z=Math.sqrt(ie*ie+ae*ae);ie/=Z,ae/=Z,ie*=S,ae*=S;var $=x.lineAlignment,ee=(1-$)*2,oe=$*2;d.push(B-ie*ee,K-ae*ee,L,F,D,M),d.push(B+ie*oe,K+ae*oe,L,F,D,M);for(var ge=1;ge<s-1;++ge){B=v[(ge-1)*2],K=v[(ge-1)*2+1],N=v[ge*2],V=v[ge*2+1],J=v[(ge+1)*2],se=v[(ge+1)*2+1],ie=-(K-V),ae=B-N,Z=Math.sqrt(ie*ie+ae*ae),ie/=Z,ae/=Z,ie*=S,ae*=S,W=-(V-se),Q=N-J,Z=Math.sqrt(W*W+Q*Q),W/=Z,Q/=Z,W*=S,Q*=S;var ve=-ae+K-(-ae+V),we=-ie+N-(-ie+B),Se=(-ie+B)*(-ae+V)-(-ie+N)*(-ae+K),_e=-Q+se-(-Q+V),Te=-W+N-(-W+J),Ce=(-W+J)*(-Q+V)-(-W+N)*(-Q+se),We=ve*Te-_e*we;if(Math.abs(We)<.1){We+=10.1,d.push(N-ie*ee,V-ae*ee,L,F,D,M),d.push(N+ie*oe,V+ae*oe,L,F,D,M);continue}var Fe=(we*Ce-Te*Se)/We,Ge=(_e*Se-ve*Ce)/We,ze=(Fe-N)*(Fe-N)+(Ge-V)*(Ge-V);ze>196*S*S?(H=ie-W,Y=ae-Q,Z=Math.sqrt(H*H+Y*Y),H/=Z,Y/=Z,H*=S,Y*=S,d.push(N-H*ee,V-Y*ee),d.push(L,F,D,M),d.push(N+H*oe,V+Y*oe),d.push(L,F,D,M),d.push(N-H*oe*ee,V-Y*ee),d.push(L,F,D,M),p++):(d.push(N+(Fe-N)*ee,V+(Ge-V)*ee),d.push(L,F,D,M),d.push(N-(Fe-N)*oe,V-(Ge-V)*oe),d.push(L,F,D,M))}B=v[(s-2)*2],K=v[(s-2)*2+1],N=v[(s-1)*2],V=v[(s-1)*2+1],ie=-(K-V),ae=B-N,Z=Math.sqrt(ie*ie+ae*ae),ie/=Z,ae/=Z,ie*=S,ae*=S,d.push(N-ie*ee,V-ae*ee),d.push(L,F,D,M),d.push(N+ie*oe,V+ae*oe),d.push(L,F,D,M),f.push(_);for(var Ae=0;Ae<p;++Ae)f.push(_++);f.push(_-1)}}function b(x,w){var v=0,m=x.points;if(m.length!==0){var y=w.points,l=m.length/2,o=(0,k.hex2rgb)(x.lineColor),d=x.lineAlpha,f=o[0]*d,s=o[1]*d,p=o[2]*d;for(v=1;v<l;v++){var _=m[(v-1)*2],S=m[(v-1)*2+1],T=m[v*2],M=m[v*2+1];y.push(_,S),y.push(f,s,p,d),y.push(T,M),y.push(f,s,p,d)}}}},4784:(de,E,O)=>{"use strict";E.__esModule=!0,E.default=v;var C=O(3917),k=w(C),g=O(7768),b=O(9187),x=w(b);function w(m){return m&&m.__esModule?m:{default:m}}function v(m,y,l){m.points=m.shape.points.slice();var o=m.points;if(m.fill&&o.length>=6){for(var d=[],f=m.holes,s=0;s<f.length;s++){var p=f[s];d.push(o.length/2),o=o.concat(p.points)}var _=y.points,S=y.indices,T=o.length/2,M=(0,g.hex2rgb)(m.fillColor),L=m.fillAlpha,F=M[0]*L,D=M[1]*L,B=M[2]*L,K=(0,x.default)(o,d,2);if(!K)return;for(var N=_.length/6,V=0;V<K.length;V+=3)S.push(K[V]+N),S.push(K[V]+N),S.push(K[V+1]+N),S.push(K[V+2]+N),S.push(K[V+2]+N);for(var J=0;J<T;J++)_.push(o[J*2],o[J*2+1],F,D,B,L)}m.lineWidth>0&&(0,k.default)(m,y,l)}},5009:(de,E,O)=>{"use strict";E.__esModule=!0,E.default=x;var C=O(3917),k=b(C),g=O(7768);function b(w){return w&&w.__esModule?w:{default:w}}function x(w,v,m){var y=w.shape,l=y.x,o=y.y,d=y.width,f=y.height;if(w.fill){var s=(0,g.hex2rgb)(w.fillColor),p=w.fillAlpha,_=s[0]*p,S=s[1]*p,T=s[2]*p,M=v.points,L=v.indices,F=M.length/6;M.push(l,o),M.push(_,S,T,p),M.push(l+d,o),M.push(_,S,T,p),M.push(l,o+f),M.push(_,S,T,p),M.push(l+d,o+f),M.push(_,S,T,p),L.push(F,F,F+1,F+2,F+3,F+3)}if(w.lineWidth){var D=w.points;w.points=[l,o,l+d,o,l+d,o+f,l,o+f,l,o],(0,k.default)(w,v,m),w.points=D}}},3949:(de,E,O)=>{"use strict";E.__esModule=!0,E.default=v;var C=O(9187),k=w(C),g=O(3917),b=w(g),x=O(7768);function w(l){return l&&l.__esModule?l:{default:l}}function v(l,o,d){var f=l.shape,s=f.x,p=f.y,_=f.width,S=f.height,T=f.radius,M=[];if(M.push(s+T,p),y(s+_-T,p,s+_,p,s+_,p+T,M),y(s+_,p+S-T,s+_,p+S,s+_-T,p+S,M),y(s+T,p+S,s,p+S,s,p+S-T,M),y(s,p+T,s,p,s+T+1e-10,p,M),l.fill){for(var L=(0,x.hex2rgb)(l.fillColor),F=l.fillAlpha,D=L[0]*F,B=L[1]*F,K=L[2]*F,N=o.points,V=o.indices,J=N.length/6,se=(0,k.default)(M,null,2),ie=0,ae=se.length;ie<ae;ie+=3)V.push(se[ie]+J),V.push(se[ie]+J),V.push(se[ie+1]+J),V.push(se[ie+2]+J),V.push(se[ie+2]+J);for(var W=0,Q=M.length;W<Q;W++)N.push(M[W],M[++W],D,B,K,F)}if(l.lineWidth){var H=l.points;l.points=M,(0,b.default)(l,o,d),l.points=H}}function m(l,o,d){var f=o-l;return l+f*d}function y(l,o,d,f,s,p){for(var _=arguments.length>6&&arguments[6]!==void 0?arguments[6]:[],S=20,T=_,M=0,L=0,F=0,D=0,B=0,K=0,N=0,V=0;N<=S;++N)V=N/S,M=m(l,d,V),L=m(o,f,V),F=m(d,s,V),D=m(f,p,V),B=m(M,F,V),K=m(L,D,V),T.push(B,K);return T}},2321:(de,E,O)=>{"use strict";E.__esModule=!0,E.autoDetectRenderer=E.Application=E.Filter=E.SpriteMaskFilter=E.Quad=E.RenderTarget=E.ObjectRenderer=E.WebGLManager=E.Shader=E.CanvasRenderTarget=E.TextureUvs=E.VideoBaseTexture=E.BaseRenderTexture=E.RenderTexture=E.BaseTexture=E.TextureMatrix=E.Texture=E.Spritesheet=E.CanvasGraphicsRenderer=E.GraphicsRenderer=E.GraphicsData=E.Graphics=E.TextMetrics=E.TextStyle=E.Text=E.SpriteRenderer=E.CanvasTinter=E.CanvasSpriteRenderer=E.Sprite=E.TransformBase=E.TransformStatic=E.Transform=E.Container=E.DisplayObject=E.Bounds=E.glCore=E.WebGLRenderer=E.CanvasRenderer=E.ticker=E.utils=E.settings=void 0;var C=O(4633);Object.keys(C).forEach(function(ke){ke==="default"||ke==="__esModule"||Object.defineProperty(E,ke,{enumerable:!0,get:function(){return C[ke]}})});var k=O(892);Object.keys(k).forEach(function(ke){ke==="default"||ke==="__esModule"||Object.defineProperty(E,ke,{enumerable:!0,get:function(){return k[ke]}})});var g=O(3070);Object.defineProperty(E,"glCore",{enumerable:!0,get:function(){return Ae(g).default}});var b=O(1392);Object.defineProperty(E,"Bounds",{enumerable:!0,get:function(){return Ae(b).default}});var x=O(141);Object.defineProperty(E,"DisplayObject",{enumerable:!0,get:function(){return Ae(x).default}});var w=O(1822);Object.defineProperty(E,"Container",{enumerable:!0,get:function(){return Ae(w).default}});var v=O(8397);Object.defineProperty(E,"Transform",{enumerable:!0,get:function(){return Ae(v).default}});var m=O(9921);Object.defineProperty(E,"TransformStatic",{enumerable:!0,get:function(){return Ae(m).default}});var y=O(229);Object.defineProperty(E,"TransformBase",{enumerable:!0,get:function(){return Ae(y).default}});var l=O(8391);Object.defineProperty(E,"Sprite",{enumerable:!0,get:function(){return Ae(l).default}});var o=O(3440);Object.defineProperty(E,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return Ae(o).default}});var d=O(4099);Object.defineProperty(E,"CanvasTinter",{enumerable:!0,get:function(){return Ae(d).default}});var f=O(9086);Object.defineProperty(E,"SpriteRenderer",{enumerable:!0,get:function(){return Ae(f).default}});var s=O(569);Object.defineProperty(E,"Text",{enumerable:!0,get:function(){return Ae(s).default}});var p=O(2033);Object.defineProperty(E,"TextStyle",{enumerable:!0,get:function(){return Ae(p).default}});var _=O(596);Object.defineProperty(E,"TextMetrics",{enumerable:!0,get:function(){return Ae(_).default}});var S=O(7240);Object.defineProperty(E,"Graphics",{enumerable:!0,get:function(){return Ae(S).default}});var T=O(8277);Object.defineProperty(E,"GraphicsData",{enumerable:!0,get:function(){return Ae(T).default}});var M=O(1281);Object.defineProperty(E,"GraphicsRenderer",{enumerable:!0,get:function(){return Ae(M).default}});var L=O(7122);Object.defineProperty(E,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return Ae(L).default}});var F=O(3042);Object.defineProperty(E,"Spritesheet",{enumerable:!0,get:function(){return Ae(F).default}});var D=O(2631);Object.defineProperty(E,"Texture",{enumerable:!0,get:function(){return Ae(D).default}});var B=O(9673);Object.defineProperty(E,"TextureMatrix",{enumerable:!0,get:function(){return Ae(B).default}});var K=O(9067);Object.defineProperty(E,"BaseTexture",{enumerable:!0,get:function(){return Ae(K).default}});var N=O(869);Object.defineProperty(E,"RenderTexture",{enumerable:!0,get:function(){return Ae(N).default}});var V=O(4566);Object.defineProperty(E,"BaseRenderTexture",{enumerable:!0,get:function(){return Ae(V).default}});var J=O(8581);Object.defineProperty(E,"VideoBaseTexture",{enumerable:!0,get:function(){return Ae(J).default}});var se=O(4368);Object.defineProperty(E,"TextureUvs",{enumerable:!0,get:function(){return Ae(se).default}});var ie=O(9664);Object.defineProperty(E,"CanvasRenderTarget",{enumerable:!0,get:function(){return Ae(ie).default}});var ae=O(2916);Object.defineProperty(E,"Shader",{enumerable:!0,get:function(){return Ae(ae).default}});var W=O(2524);Object.defineProperty(E,"WebGLManager",{enumerable:!0,get:function(){return Ae(W).default}});var Q=O(3364);Object.defineProperty(E,"ObjectRenderer",{enumerable:!0,get:function(){return Ae(Q).default}});var H=O(7867);Object.defineProperty(E,"RenderTarget",{enumerable:!0,get:function(){return Ae(H).default}});var Y=O(2454);Object.defineProperty(E,"Quad",{enumerable:!0,get:function(){return Ae(Y).default}});var Z=O(3998);Object.defineProperty(E,"SpriteMaskFilter",{enumerable:!0,get:function(){return Ae(Z).default}});var $=O(6310);Object.defineProperty(E,"Filter",{enumerable:!0,get:function(){return Ae($).default}});var ee=O(5328);Object.defineProperty(E,"Application",{enumerable:!0,get:function(){return Ae(ee).default}});var oe=O(4981);Object.defineProperty(E,"autoDetectRenderer",{enumerable:!0,get:function(){return oe.autoDetectRenderer}});var ge=O(7768),ve=ze(ge),we=O(938),Se=ze(we),_e=O(7505),Te=Ae(_e),Ce=O(4695),We=Ae(Ce),Fe=O(7648),Ge=Ae(Fe);function ze(ke){if(ke&&ke.__esModule)return ke;var He={};if(ke!=null)for(var $e in ke)Object.prototype.hasOwnProperty.call(ke,$e)&&(He[$e]=ke[$e]);return He.default=ke,He}function Ae(ke){return ke&&ke.__esModule?ke:{default:ke}}E.settings=Te.default,E.utils=ve,E.ticker=Se,E.CanvasRenderer=We.default,E.WebGLRenderer=Ge.default},7616:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(6724),k=g(C);function g(f){return f&&f.__esModule?f:{default:f}}var b=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],x=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],w=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],v=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],m=[],y=[];function l(f){return f<0?-1:f>0?1:0}function o(){for(var f=0;f<16;f++){var s=[];y.push(s);for(var p=0;p<16;p++)for(var _=l(b[f]*b[p]+w[f]*x[p]),S=l(x[f]*b[p]+v[f]*x[p]),T=l(b[f]*w[p]+w[f]*v[p]),M=l(x[f]*w[p]+v[f]*v[p]),L=0;L<16;L++)if(b[L]===_&&x[L]===S&&w[L]===T&&v[L]===M){s.push(L);break}}for(var F=0;F<16;F++){var D=new k.default;D.set(b[F],x[F],w[F],v[F],0,0),m.push(D)}}o();var d={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(s){return b[s]},uY:function(s){return x[s]},vX:function(s){return w[s]},vY:function(s){return v[s]},inv:function(s){return s&8?s&15:-s&7},add:function(s,p){return y[s][p]},sub:function(s,p){return y[s][d.inv(p)]},rotate180:function(s){return s^4},isVertical:function(s){return(s&3)==2},byDirection:function(s,p){return Math.abs(s)*2<=Math.abs(p)?p>=0?d.S:d.N:Math.abs(p)*2<=Math.abs(s)?s>0?d.E:d.W:p>0?s>0?d.SE:d.SW:s>0?d.NE:d.NW},matrixAppendRotationInv:function(s,p){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,T=m[d.inv(p)];T.tx=_,T.ty=S,s.append(T)}};E.default=d},6724:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function m(y,l){for(var o=0;o<l.length;o++){var d=l[o];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(y,d.key,d)}}return function(y,l,o){return l&&m(y.prototype,l),o&&m(y,o),y}}(),k=O(5628),g=x(k),b=O(4633);function x(m){return m&&m.__esModule?m:{default:m}}function w(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}var v=function(){function m(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;w(this,m),this.a=y,this.b=l,this.c=o,this.d=d,this.tx=f,this.ty=s,this.array=null}return m.prototype.fromArray=function(l){this.a=l[0],this.b=l[1],this.c=l[3],this.d=l[4],this.tx=l[2],this.ty=l[5]},m.prototype.set=function(l,o,d,f,s,p){return this.a=l,this.b=o,this.c=d,this.d=f,this.tx=s,this.ty=p,this},m.prototype.toArray=function(l,o){this.array||(this.array=new Float32Array(9));var d=o||this.array;return l?(d[0]=this.a,d[1]=this.b,d[2]=0,d[3]=this.c,d[4]=this.d,d[5]=0,d[6]=this.tx,d[7]=this.ty,d[8]=1):(d[0]=this.a,d[1]=this.c,d[2]=this.tx,d[3]=this.b,d[4]=this.d,d[5]=this.ty,d[6]=0,d[7]=0,d[8]=1),d},m.prototype.apply=function(l,o){o=o||new g.default;var d=l.x,f=l.y;return o.x=this.a*d+this.c*f+this.tx,o.y=this.b*d+this.d*f+this.ty,o},m.prototype.applyInverse=function(l,o){o=o||new g.default;var d=1/(this.a*this.d+this.c*-this.b),f=l.x,s=l.y;return o.x=this.d*d*f+-this.c*d*s+(this.ty*this.c-this.tx*this.d)*d,o.y=this.a*d*s+-this.b*d*f+(-this.ty*this.a+this.tx*this.b)*d,o},m.prototype.translate=function(l,o){return this.tx+=l,this.ty+=o,this},m.prototype.scale=function(l,o){return this.a*=l,this.d*=o,this.c*=l,this.b*=o,this.tx*=l,this.ty*=o,this},m.prototype.rotate=function(l){var o=Math.cos(l),d=Math.sin(l),f=this.a,s=this.c,p=this.tx;return this.a=f*o-this.b*d,this.b=f*d+this.b*o,this.c=s*o-this.d*d,this.d=s*d+this.d*o,this.tx=p*o-this.ty*d,this.ty=p*d+this.ty*o,this},m.prototype.append=function(l){var o=this.a,d=this.b,f=this.c,s=this.d;return this.a=l.a*o+l.b*f,this.b=l.a*d+l.b*s,this.c=l.c*o+l.d*f,this.d=l.c*d+l.d*s,this.tx=l.tx*o+l.ty*f+this.tx,this.ty=l.tx*d+l.ty*s+this.ty,this},m.prototype.setTransform=function(l,o,d,f,s,p,_,S,T){return this.a=Math.cos(_+T)*s,this.b=Math.sin(_+T)*s,this.c=-Math.sin(_-S)*p,this.d=Math.cos(_-S)*p,this.tx=l-(d*this.a+f*this.c),this.ty=o-(d*this.b+f*this.d),this},m.prototype.prepend=function(l){var o=this.tx;if(l.a!==1||l.b!==0||l.c!==0||l.d!==1){var d=this.a,f=this.c;this.a=d*l.a+this.b*l.c,this.b=d*l.b+this.b*l.d,this.c=f*l.a+this.d*l.c,this.d=f*l.b+this.d*l.d}return this.tx=o*l.a+this.ty*l.c+l.tx,this.ty=o*l.b+this.ty*l.d+l.ty,this},m.prototype.decompose=function(l){var o=this.a,d=this.b,f=this.c,s=this.d,p=-Math.atan2(-f,s),_=Math.atan2(d,o),S=Math.abs(p+_);return S<1e-5||Math.abs(b.PI_2-S)<1e-5?(l.rotation=_,l.skew.x=l.skew.y=0):(l.rotation=0,l.skew.x=p,l.skew.y=_),l.scale.x=Math.sqrt(o*o+d*d),l.scale.y=Math.sqrt(f*f+s*s),l.position.x=this.tx,l.position.y=this.ty,l},m.prototype.invert=function(){var l=this.a,o=this.b,d=this.c,f=this.d,s=this.tx,p=l*f-o*d;return this.a=f/p,this.b=-o/p,this.c=-d/p,this.d=l/p,this.tx=(d*this.ty-f*s)/p,this.ty=-(l*this.ty-o*s)/p,this},m.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},m.prototype.clone=function(){var l=new m;return l.a=this.a,l.b=this.b,l.c=this.c,l.d=this.d,l.tx=this.tx,l.ty=this.ty,l},m.prototype.copy=function(l){return l.a=this.a,l.b=this.b,l.c=this.c,l.d=this.d,l.tx=this.tx,l.ty=this.ty,l},C(m,null,[{key:"IDENTITY",get:function(){return new m}},{key:"TEMP_MATRIX",get:function(){return new m}}]),m}();E.default=v},4818:(de,E)=>{"use strict";E.__esModule=!0;var O=function(){function g(b,x){for(var w=0;w<x.length;w++){var v=x[w];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(b,v.key,v)}}return function(b,x,w){return x&&g(b.prototype,x),w&&g(b,w),b}}();function C(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}var k=function(){function g(b,x){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;C(this,g),this._x=w,this._y=v,this.cb=b,this.scope=x}return g.prototype.clone=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,v=x||this.cb,m=w||this.scope;return new g(v,m,this._x,this._y)},g.prototype.set=function(x,w){var v=x||0,m=w||(w!==0?v:0);(this._x!==v||this._y!==m)&&(this._x=v,this._y=m,this.cb.call(this.scope))},g.prototype.copy=function(x){(this._x!==x.x||this._y!==x.y)&&(this._x=x.x,this._y=x.y,this.cb.call(this.scope))},g.prototype.equals=function(x){return x.x===this._x&&x.y===this._y},O(g,[{key:"x",get:function(){return this._x},set:function(x){this._x!==x&&(this._x=x,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(x){this._y!==x&&(this._y=x,this.cb.call(this.scope))}}]),g}();E.default=k},5628:(de,E)=>{"use strict";E.__esModule=!0;function O(k,g){if(!(k instanceof g))throw new TypeError("Cannot call a class as a function")}var C=function(){function k(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;O(this,k),this.x=g,this.y=b}return k.prototype.clone=function(){return new k(this.x,this.y)},k.prototype.copy=function(b){this.set(b.x,b.y)},k.prototype.equals=function(b){return b.x===this.x&&b.y===this.y},k.prototype.set=function(b,x){this.x=b||0,this.y=x||(x!==0?this.x:0)},k}();E.default=C},892:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(5628);Object.defineProperty(E,"Point",{enumerable:!0,get:function(){return l(C).default}});var k=O(4818);Object.defineProperty(E,"ObservablePoint",{enumerable:!0,get:function(){return l(k).default}});var g=O(6724);Object.defineProperty(E,"Matrix",{enumerable:!0,get:function(){return l(g).default}});var b=O(7616);Object.defineProperty(E,"GroupD8",{enumerable:!0,get:function(){return l(b).default}});var x=O(1341);Object.defineProperty(E,"Circle",{enumerable:!0,get:function(){return l(x).default}});var w=O(6180);Object.defineProperty(E,"Ellipse",{enumerable:!0,get:function(){return l(w).default}});var v=O(6001);Object.defineProperty(E,"Polygon",{enumerable:!0,get:function(){return l(v).default}});var m=O(8965);Object.defineProperty(E,"Rectangle",{enumerable:!0,get:function(){return l(m).default}});var y=O(119);Object.defineProperty(E,"RoundedRectangle",{enumerable:!0,get:function(){return l(y).default}});function l(o){return o&&o.__esModule?o:{default:o}}},1341:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(8965),k=b(C),g=O(4633);function b(v){return v&&v.__esModule?v:{default:v}}function x(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}var w=function(){function v(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;x(this,v),this.x=m,this.y=y,this.radius=l,this.type=g.SHAPES.CIRC}return v.prototype.clone=function(){return new v(this.x,this.y,this.radius)},v.prototype.contains=function(y,l){if(this.radius<=0)return!1;var o=this.radius*this.radius,d=this.x-y,f=this.y-l;return d*=d,f*=f,d+f<=o},v.prototype.getBounds=function(){return new k.default(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},v}();E.default=w},6180:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(8965),k=b(C),g=O(4633);function b(v){return v&&v.__esModule?v:{default:v}}function x(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}var w=function(){function v(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;x(this,v),this.x=m,this.y=y,this.width=l,this.height=o,this.type=g.SHAPES.ELIP}return v.prototype.clone=function(){return new v(this.x,this.y,this.width,this.height)},v.prototype.contains=function(y,l){if(this.width<=0||this.height<=0)return!1;var o=(y-this.x)/this.width,d=(l-this.y)/this.height;return o*=o,d*=d,o+d<=1},v.prototype.getBounds=function(){return new k.default(this.x-this.width,this.y-this.height,this.width,this.height)},v}();E.default=w},6001:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(5628),k=b(C),g=O(4633);function b(v){return v&&v.__esModule?v:{default:v}}function x(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}var w=function(){function v(){for(var m=arguments.length,y=Array(m),l=0;l<m;l++)y[l]=arguments[l];if(x(this,v),Array.isArray(y[0])&&(y=y[0]),y[0]instanceof k.default){for(var o=[],d=0,f=y.length;d<f;d++)o.push(y[d].x,y[d].y);y=o}this.closed=!0,this.points=y,this.type=g.SHAPES.POLY}return v.prototype.clone=function(){return new v(this.points.slice())},v.prototype.close=function(){var y=this.points;(y[0]!==y[y.length-2]||y[1]!==y[y.length-1])&&y.push(y[0],y[1])},v.prototype.contains=function(y,l){for(var o=!1,d=this.points.length/2,f=0,s=d-1;f<d;s=f++){var p=this.points[f*2],_=this.points[f*2+1],S=this.points[s*2],T=this.points[s*2+1],M=_>l!=T>l&&y<(S-p)*((l-_)/(T-_))+p;M&&(o=!o)}return o},v}();E.default=w},8965:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function x(w,v){for(var m=0;m<v.length;m++){var y=v[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(w,y.key,y)}}return function(w,v,m){return v&&x(w.prototype,v),m&&x(w,m),w}}(),k=O(4633);function g(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}var b=function(){function x(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;g(this,x),this.x=Number(w),this.y=Number(v),this.width=Number(m),this.height=Number(y),this.type=k.SHAPES.RECT}return x.prototype.clone=function(){return new x(this.x,this.y,this.width,this.height)},x.prototype.copy=function(v){return this.x=v.x,this.y=v.y,this.width=v.width,this.height=v.height,this},x.prototype.contains=function(v,m){return this.width<=0||this.height<=0?!1:v>=this.x&&v<this.x+this.width&&m>=this.y&&m<this.y+this.height},x.prototype.pad=function(v,m){v=v||0,m=m||(m!==0?v:0),this.x-=v,this.y-=m,this.width+=v*2,this.height+=m*2},x.prototype.fit=function(v){var m=Math.max(this.x,v.x),y=Math.min(this.x+this.width,v.x+v.width),l=Math.max(this.y,v.y),o=Math.min(this.y+this.height,v.y+v.height);this.x=m,this.width=Math.max(y-m,0),this.y=l,this.height=Math.max(o-l,0)},x.prototype.enlarge=function(v){var m=Math.min(this.x,v.x),y=Math.max(this.x+this.width,v.x+v.width),l=Math.min(this.y,v.y),o=Math.max(this.y+this.height,v.y+v.height);this.x=m,this.width=y-m,this.y=l,this.height=o-l},x.prototype.ceil=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.001,y=Math.ceil((this.x+this.width-m)*v)/v,l=Math.ceil((this.y+this.height-m)*v)/v;this.x=Math.floor((this.x+m)*v)/v,this.y=Math.floor((this.y+m)*v)/v,this.width=y-this.x,this.height=l-this.y},C(x,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new x(0,0,0,0)}}]),x}();E.default=b},119:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(4633);function k(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}var g=function(){function b(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:20;k(this,b),this.x=x,this.y=w,this.width=v,this.height=m,this.radius=y,this.type=C.SHAPES.RREC}return b.prototype.clone=function(){return new b(this.x,this.y,this.width,this.height,this.radius)},b.prototype.contains=function(w,v){if(this.width<=0||this.height<=0)return!1;if(w>=this.x&&w<=this.x+this.width&&v>=this.y&&v<=this.y+this.height){if(v>=this.y+this.radius&&v<=this.y+this.height-this.radius||w>=this.x+this.radius&&w<=this.x+this.width-this.radius)return!0;var m=w-(this.x+this.radius),y=v-(this.y+this.radius),l=this.radius*this.radius;if(m*m+y*y<=l||(m=w-(this.x+this.width-this.radius),m*m+y*y<=l)||(y=v-(this.y+this.height-this.radius),m*m+y*y<=l)||(m=w-(this.x+this.radius),m*m+y*y<=l))return!0}return!1},b}();E.default=g},250:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function M(L,F){for(var D=0;D<F.length;D++){var B=F[D];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(L,B.key,B)}}return function(L,F,D){return F&&M(L.prototype,F),D&&M(L,D),L}}(),k=O(7768),g=O(892),b=O(4633),x=O(7505),w=f(x),v=O(1822),m=f(v),y=O(869),l=f(y),o=O(5323),d=f(o);function f(M){return M&&M.__esModule?M:{default:M}}function s(M,L){if(!(M instanceof L))throw new TypeError("Cannot call a class as a function")}function p(M,L){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:M}function _(M,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);M.prototype=Object.create(L&&L.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(M,L):M.__proto__=L)}var S=new g.Matrix,T=function(M){_(L,M);function L(F,D,B,K){s(this,L);var N=p(this,M.call(this));return(0,k.sayHello)(F),typeof D=="number"&&(D=Object.assign({width:D,height:B||w.default.RENDER_OPTIONS.height},K)),D=Object.assign({},w.default.RENDER_OPTIONS,D),N.options=D,N.type=b.RENDERER_TYPE.UNKNOWN,N.screen=new g.Rectangle(0,0,D.width,D.height),N.view=D.view||document.createElement("canvas"),N.resolution=D.resolution||w.default.RESOLUTION,N.transparent=D.transparent,N.autoResize=D.autoResize||!1,N.blendModes=null,N.preserveDrawingBuffer=D.preserveDrawingBuffer,N.clearBeforeRender=D.clearBeforeRender,N.roundPixels=D.roundPixels,N._backgroundColor=0,N._backgroundColorRgba=[0,0,0,0],N._backgroundColorString="#000000",N.backgroundColor=D.backgroundColor||N._backgroundColor,N._tempDisplayObjectParent=new m.default,N._lastObjectRendered=N._tempDisplayObjectParent,N}return L.prototype.resize=function(D,B){this.screen.width=D,this.screen.height=B,this.view.width=D*this.resolution,this.view.height=B*this.resolution,this.autoResize&&(this.view.style.width=D+"px",this.view.style.height=B+"px")},L.prototype.generateTexture=function(D,B,K,N){N=N||D.getLocalBounds();var V=l.default.create(N.width|0,N.height|0,B,K);return S.tx=-N.x,S.ty=-N.y,this.render(D,V,!1,S,!!D.parent),V},L.prototype.destroy=function(D){D&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=b.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},C(L,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(D){this._backgroundColor=D,this._backgroundColorString=(0,k.hex2string)(D),(0,k.hex2rgb)(D,this._backgroundColorRgba)}}]),L}(d.default);E.default=T},4695:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(250),k=f(C),g=O(6768),b=f(g),x=O(9664),w=f(x),v=O(9017),m=f(v),y=O(7768),l=O(4633),o=O(7505),d=f(o);function f(T){return T&&T.__esModule?T:{default:T}}function s(T,M){if(!(T instanceof M))throw new TypeError("Cannot call a class as a function")}function p(T,M){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:T}function _(T,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);T.prototype=Object.create(M&&M.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(T,M):T.__proto__=M)}var S=function(T){_(M,T);function M(L,F,D){s(this,M);var B=p(this,T.call(this,"Canvas",L,F,D));return B.type=l.RENDERER_TYPE.CANVAS,B.rootContext=B.view.getContext("2d",{alpha:B.transparent}),B.context=B.rootContext,B.refresh=!0,B.maskManager=new b.default(B),B.smoothProperty="imageSmoothingEnabled",B.rootContext.imageSmoothingEnabled||(B.rootContext.webkitImageSmoothingEnabled?B.smoothProperty="webkitImageSmoothingEnabled":B.rootContext.mozImageSmoothingEnabled?B.smoothProperty="mozImageSmoothingEnabled":B.rootContext.oImageSmoothingEnabled?B.smoothProperty="oImageSmoothingEnabled":B.rootContext.msImageSmoothingEnabled&&(B.smoothProperty="msImageSmoothingEnabled")),B.initPlugins(),B.blendModes=(0,m.default)(),B._activeBlendMode=null,B.renderingToScreen=!1,B.resize(B.options.width,B.options.height),B}return M.prototype.render=function(F,D,B,K,N){if(!!this.view){this.renderingToScreen=!D,this.emit("prerender");var V=this.resolution;D?(D=D.baseTexture||D,D._canvasRenderTarget||(D._canvasRenderTarget=new w.default(D.width,D.height,D.resolution),D.source=D._canvasRenderTarget.canvas,D.valid=!0),this.context=D._canvasRenderTarget.context,this.resolution=D._canvasRenderTarget.resolution):this.context=this.rootContext;var J=this.context;if(D||(this._lastObjectRendered=F),!N){var se=F.parent,ie=this._tempDisplayObjectParent.transform.worldTransform;K?(K.copy(ie),this._tempDisplayObjectParent.transform._worldID=-1):ie.identity(),F.parent=this._tempDisplayObjectParent,F.updateTransform(),F.parent=se}J.save(),J.setTransform(1,0,0,1,0,0),J.globalAlpha=1,this._activeBlendMode=l.BLEND_MODES.NORMAL,J.globalCompositeOperation=this.blendModes[l.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(J.fillStyle="black",J.clear()),(B!==void 0?B:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?J.clearRect(0,0,this.width,this.height):(J.fillStyle=this._backgroundColorString,J.fillRect(0,0,this.width,this.height)));var ae=this.context;this.context=J,F.renderCanvas(this),this.context=ae,J.restore(),this.resolution=V,this.emit("postrender")}},M.prototype.clear=function(F){var D=this.context;F=F||this._backgroundColorString,!this.transparent&&F?(D.fillStyle=F,D.fillRect(0,0,this.width,this.height)):D.clearRect(0,0,this.width,this.height)},M.prototype.setBlendMode=function(F){this._activeBlendMode!==F&&(this._activeBlendMode=F,this.context.globalCompositeOperation=this.blendModes[F])},M.prototype.destroy=function(F){this.destroyPlugins(),T.prototype.destroy.call(this,F),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},M.prototype.resize=function(F,D){T.prototype.resize.call(this,F,D),this.smoothProperty&&(this.rootContext[this.smoothProperty]=d.default.SCALE_MODE===l.SCALE_MODES.LINEAR)},M.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},M}(k.default);E.default=S,y.pluginTarget.mixin(S)},6768:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(4633);function k(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}var g=function(){function b(x){k(this,b),this.renderer=x}return b.prototype.pushMask=function(w){var v=this.renderer;v.context.save();var m=w.alpha,y=w.transform.worldTransform,l=v.resolution;v.context.setTransform(y.a*l,y.b*l,y.c*l,y.d*l,y.tx*l,y.ty*l),w._texture||(this.renderGraphicsShape(w),v.context.clip()),w.worldAlpha=m},b.prototype.renderGraphicsShape=function(w){var v=this.renderer.context,m=w.graphicsData.length;if(m!==0){v.beginPath();for(var y=0;y<m;y++){var l=w.graphicsData[y],o=l.shape;if(l.type===C.SHAPES.POLY){var d=o.points,f=l.holes,s=void 0,p=void 0;v.moveTo(d[0],d[1]);for(var _=2;_<d.length;_+=2)v.lineTo(d[_],d[_+1]);if(d[0]===d[d.length-2]&&d[1]===d[d.length-1]&&v.closePath(),f.length>0){s=0;for(var S=0;S<d.length;S+=2)s+=d[S]*d[S+3]-d[S+1]*d[S+2];for(var T=0;T<f.length;T++){d=f[T].points,p=0;for(var M=0;M<d.length;M+=2)p+=d[M]*d[M+3]-d[M+1]*d[M+2];if(v.moveTo(d[0],d[1]),p*s<0)for(var L=2;L<d.length;L+=2)v.lineTo(d[L],d[L+1]);else for(var F=d.length-2;F>=2;F-=2)v.lineTo(d[F],d[F+1])}}}else if(l.type===C.SHAPES.RECT)v.rect(o.x,o.y,o.width,o.height),v.closePath();else if(l.type===C.SHAPES.CIRC)v.arc(o.x,o.y,o.radius,0,2*Math.PI),v.closePath();else if(l.type===C.SHAPES.ELIP){var D=o.width*2,B=o.height*2,K=o.x-D/2,N=o.y-B/2,V=.5522848,J=D/2*V,se=B/2*V,ie=K+D,ae=N+B,W=K+D/2,Q=N+B/2;v.moveTo(K,Q),v.bezierCurveTo(K,Q-se,W-J,N,W,N),v.bezierCurveTo(W+J,N,ie,Q-se,ie,Q),v.bezierCurveTo(ie,Q+se,W+J,ae,W,ae),v.bezierCurveTo(W-J,ae,K,Q+se,K,Q),v.closePath()}else if(l.type===C.SHAPES.RREC){var H=o.x,Y=o.y,Z=o.width,$=o.height,ee=o.radius,oe=Math.min(Z,$)/2|0;ee=ee>oe?oe:ee,v.moveTo(H,Y+ee),v.lineTo(H,Y+$-ee),v.quadraticCurveTo(H,Y+$,H+ee,Y+$),v.lineTo(H+Z-ee,Y+$),v.quadraticCurveTo(H+Z,Y+$,H+Z,Y+$-ee),v.lineTo(H+Z,Y+ee),v.quadraticCurveTo(H+Z,Y,H+Z-ee,Y),v.lineTo(H+ee,Y),v.quadraticCurveTo(H,Y,H,Y+ee),v.closePath()}}}},b.prototype.popMask=function(w){w.context.restore(),w.invalidateBlendMode()},b.prototype.destroy=function(){},b}();E.default=g},9664:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function v(m,y){for(var l=0;l<y.length;l++){var o=y[l];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(m,o.key,o)}}return function(m,y,l){return y&&v(m.prototype,y),l&&v(m,l),m}}(),k=O(7505),g=b(k);function b(v){return v&&v.__esModule?v:{default:v}}function x(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}var w=function(){function v(m,y,l){x(this,v),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=l||g.default.RESOLUTION,this.resize(m,y)}return v.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},v.prototype.resize=function(y,l){this.canvas.width=y*this.resolution,this.canvas.height=l*this.resolution},v.prototype.destroy=function(){this.context=null,this.canvas=null},C(v,[{key:"width",get:function(){return this.canvas.width},set:function(y){this.canvas.width=y}},{key:"height",get:function(){return this.canvas.height},set:function(y){this.canvas.height=y}}]),v}();E.default=w},8886:(de,E)=>{"use strict";E.__esModule=!0,E.default=C;function O(k){var g=document.createElement("canvas");g.width=6,g.height=1;var b=g.getContext("2d");return b.fillStyle=k,b.fillRect(0,0,6,1),g}function C(){if(typeof document=="undefined")return!1;var k=O("#ff00ff"),g=O("#ffff00"),b=document.createElement("canvas");b.width=6,b.height=1;var x=b.getContext("2d");x.globalCompositeOperation="multiply",x.drawImage(k,0,0),x.drawImage(g,2,0);var w=x.getImageData(2,0,1,1);if(!w)return!1;var v=w.data;return v[0]===255&&v[1]===0&&v[2]===0}},9017:(de,E,O)=>{"use strict";E.__esModule=!0,E.default=x;var C=O(4633),k=O(8886),g=b(k);function b(w){return w&&w.__esModule?w:{default:w}}function x(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return(0,g.default)()?(w[C.BLEND_MODES.NORMAL]="source-over",w[C.BLEND_MODES.ADD]="lighter",w[C.BLEND_MODES.MULTIPLY]="multiply",w[C.BLEND_MODES.SCREEN]="screen",w[C.BLEND_MODES.OVERLAY]="overlay",w[C.BLEND_MODES.DARKEN]="darken",w[C.BLEND_MODES.LIGHTEN]="lighten",w[C.BLEND_MODES.COLOR_DODGE]="color-dodge",w[C.BLEND_MODES.COLOR_BURN]="color-burn",w[C.BLEND_MODES.HARD_LIGHT]="hard-light",w[C.BLEND_MODES.SOFT_LIGHT]="soft-light",w[C.BLEND_MODES.DIFFERENCE]="difference",w[C.BLEND_MODES.EXCLUSION]="exclusion",w[C.BLEND_MODES.HUE]="hue",w[C.BLEND_MODES.SATURATION]="saturate",w[C.BLEND_MODES.COLOR]="color",w[C.BLEND_MODES.LUMINOSITY]="luminosity"):(w[C.BLEND_MODES.NORMAL]="source-over",w[C.BLEND_MODES.ADD]="lighter",w[C.BLEND_MODES.MULTIPLY]="source-over",w[C.BLEND_MODES.SCREEN]="source-over",w[C.BLEND_MODES.OVERLAY]="source-over",w[C.BLEND_MODES.DARKEN]="source-over",w[C.BLEND_MODES.LIGHTEN]="source-over",w[C.BLEND_MODES.COLOR_DODGE]="source-over",w[C.BLEND_MODES.COLOR_BURN]="source-over",w[C.BLEND_MODES.HARD_LIGHT]="source-over",w[C.BLEND_MODES.SOFT_LIGHT]="source-over",w[C.BLEND_MODES.DIFFERENCE]="source-over",w[C.BLEND_MODES.EXCLUSION]="source-over",w[C.BLEND_MODES.HUE]="source-over",w[C.BLEND_MODES.SATURATION]="source-over",w[C.BLEND_MODES.COLOR]="source-over",w[C.BLEND_MODES.LUMINOSITY]="source-over"),w[C.BLEND_MODES.NORMAL_NPM]=w[C.BLEND_MODES.NORMAL],w[C.BLEND_MODES.ADD_NPM]=w[C.BLEND_MODES.ADD],w[C.BLEND_MODES.SCREEN_NPM]=w[C.BLEND_MODES.SCREEN],w}},1492:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(4633),k=O(7505),g=b(k);function b(v){return v&&v.__esModule?v:{default:v}}function x(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}var w=function(){function v(m){x(this,v),this.renderer=m,this.count=0,this.checkCount=0,this.maxIdle=g.default.GC_MAX_IDLE,this.checkCountMax=g.default.GC_MAX_CHECK_COUNT,this.mode=g.default.GC_MODE}return v.prototype.update=function(){this.count++,this.mode!==C.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},v.prototype.run=function(){for(var y=this.renderer.textureManager,l=y._managedTextures,o=!1,d=0;d<l.length;d++){var f=l[d];!f._glRenderTargets&&this.count-f.touched>this.maxIdle&&(y.destroyTexture(f,!0),l[d]=null,o=!0)}if(o){for(var s=0,p=0;p<l.length;p++)l[p]!==null&&(l[s++]=l[p]);l.length=s}},v.prototype.unload=function(y){var l=this.renderer.textureManager;y._texture&&y._texture._glRenderTargets&&l.destroyTexture(y._texture,!0);for(var o=y.children.length-1;o>=0;o--)this.unload(y.children[o])},v}();E.default=w},3627:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(3070),k=O(4633),g=O(7867),b=w(g),x=O(7768);function w(y){return y&&y.__esModule?y:{default:y}}function v(y,l){if(!(y instanceof l))throw new TypeError("Cannot call a class as a function")}var m=function(){function y(l){v(this,y),this.renderer=l,this.gl=l.gl,this._managedTextures=[]}return y.prototype.bindTexture=function(){},y.prototype.getTexture=function(){},y.prototype.updateTexture=function(o,d){var f=this.gl,s=!!o._glRenderTargets;if(!o.hasLoaded)return null;var p=this.renderer.boundTextures;if(d===void 0){d=0;for(var _=0;_<p.length;++_)if(p[_]===o){d=_;break}}p[d]=o,f.activeTexture(f.TEXTURE0+d);var S=o._glTextures[this.renderer.CONTEXT_UID];if(S)s?o._glRenderTargets[this.renderer.CONTEXT_UID].resize(o.width,o.height):S.upload(o.source);else{if(s){var T=new b.default(this.gl,o.width,o.height,o.scaleMode,o.resolution);T.resize(o.width,o.height),o._glRenderTargets[this.renderer.CONTEXT_UID]=T,S=T.texture,this.renderer._activeRenderTarget.root||this.renderer._activeRenderTarget.frameBuffer.bind()}else S=new C.GLTexture(this.gl,null,null,null,null),S.bind(d),S.premultiplyAlpha=!0,S.upload(o.source);o._glTextures[this.renderer.CONTEXT_UID]=S,o.on("update",this.updateTexture,this),o.on("dispose",this.destroyTexture,this),this._managedTextures.push(o),o.isPowerOfTwo?(o.mipmap&&S.enableMipmap(),o.wrapMode===k.WRAP_MODES.CLAMP?S.enableWrapClamp():o.wrapMode===k.WRAP_MODES.REPEAT?S.enableWrapRepeat():S.enableWrapMirrorRepeat()):S.enableWrapClamp(),o.scaleMode===k.SCALE_MODES.NEAREST?S.enableNearestScaling():S.enableLinearScaling()}return S},y.prototype.destroyTexture=function(o,d){if(o=o.baseTexture||o,!!o.hasLoaded){var f=this.renderer,s=f.CONTEXT_UID,p=o._glTextures,_=o._glRenderTargets;if(p[s]&&(f.unbindTexture(o),p[s].destroy(),o.off("update",this.updateTexture,this),o.off("dispose",this.destroyTexture,this),delete p[s],!d)){var S=this._managedTextures.indexOf(o);S!==-1&&(0,x.removeItems)(this._managedTextures,S,1)}_&&_[s]&&(f._activeRenderTarget===_[s]&&f.bindRenderTarget(f.rootRenderTarget),_[s].destroy(),delete _[s])}},y.prototype.removeAll=function(){for(var o=0;o<this._managedTextures.length;++o){var d=this._managedTextures[o];d._glTextures[this.renderer.CONTEXT_UID]&&delete d._glTextures[this.renderer.CONTEXT_UID]}},y.prototype.destroy=function(){for(var o=0;o<this._managedTextures.length;++o){var d=this._managedTextures[o];this.destroyTexture(d,!0),d.off("update",this.updateTexture,this),d.off("dispose",this.destroyTexture,this)}this._managedTextures=null},y}();E.default=m},7648:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(250),k=ie(C),g=O(805),b=ie(g),x=O(7176),w=ie(x),v=O(9347),m=ie(v),y=O(7867),l=ie(y),o=O(3364),d=ie(o),f=O(3627),s=ie(f),p=O(9067),_=ie(p),S=O(1492),T=ie(S),M=O(4116),L=ie(M),F=O(5580),D=ie(F),B=O(3766),K=ie(B),N=O(7768),V=O(3070),J=ie(V),se=O(4633);function ie(Z){return Z&&Z.__esModule?Z:{default:Z}}function ae(Z,$){if(!(Z instanceof $))throw new TypeError("Cannot call a class as a function")}function W(Z,$){if(!Z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $&&(typeof $=="object"||typeof $=="function")?$:Z}function Q(Z,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $);Z.prototype=Object.create($&&$.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(Z,$):Z.__proto__=$)}var H=0,Y=function(Z){Q($,Z);function $(ee,oe,ge){ae(this,$);var ve=W(this,Z.call(this,"WebGL",ee,oe,ge));return ve.legacy=ve.options.legacy,ve.legacy&&(J.default.VertexArrayObject.FORCE_NATIVE=!0),ve.type=se.RENDERER_TYPE.WEBGL,ve.handleContextLost=ve.handleContextLost.bind(ve),ve.handleContextRestored=ve.handleContextRestored.bind(ve),ve.view.addEventListener("webglcontextlost",ve.handleContextLost,!1),ve.view.addEventListener("webglcontextrestored",ve.handleContextRestored,!1),ve._contextOptions={alpha:ve.transparent,antialias:ve.options.antialias,premultipliedAlpha:ve.transparent&&ve.transparent!=="notMultiplied",stencil:!0,preserveDrawingBuffer:ve.options.preserveDrawingBuffer,powerPreference:ve.options.powerPreference},ve._backgroundColorRgba[3]=ve.transparent?0:1,ve.maskManager=new b.default(ve),ve.stencilManager=new w.default(ve),ve.emptyRenderer=new d.default(ve),ve.currentRenderer=ve.emptyRenderer,ve.textureManager=null,ve.filterManager=null,ve.initPlugins(),ve.options.context&&(0,K.default)(ve.options.context),ve.gl=ve.options.context||J.default.createContext(ve.view,ve._contextOptions),ve.CONTEXT_UID=H++,ve.state=new L.default(ve.gl),ve.renderingToScreen=!0,ve.boundTextures=null,ve._activeShader=null,ve._activeVao=null,ve._activeRenderTarget=null,ve._initContext(),ve.drawModes=(0,D.default)(ve.gl),ve._nextTextureLocation=0,ve.setBlendMode(0),ve}return $.prototype._initContext=function(){var oe=this.gl;oe.isContextLost()&&oe.getExtension("WEBGL_lose_context")&&oe.getExtension("WEBGL_lose_context").restoreContext();var ge=oe.getParameter(oe.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(ge),this.emptyTextures=new Array(ge),this._unknownBoundTextures=!1,this.textureManager=new s.default(this),this.filterManager=new m.default(this),this.textureGC=new T.default(this),this.state.resetToDefault(),this.rootRenderTarget=new l.default(oe,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var ve=new J.default.GLTexture.fromData(oe,null,1,1),we={_glTextures:{}};we._glTextures[this.CONTEXT_UID]={};for(var Se=0;Se<ge;Se++){var _e=new _.default;_e._glTextures[this.CONTEXT_UID]=ve,this.boundTextures[Se]=we,this.emptyTextures[Se]=_e,this.bindTexture(null,Se)}this.emit("context",oe),this.resize(this.screen.width,this.screen.height)},$.prototype.render=function(oe,ge,ve,we,Se){if(this.renderingToScreen=!ge,this.emit("prerender"),!(!this.gl||this.gl.isContextLost())){if(this._nextTextureLocation=0,ge||(this._lastObjectRendered=oe),!Se){var _e=oe.parent;oe.parent=this._tempDisplayObjectParent,oe.updateTransform(),oe.parent=_e}this.bindRenderTexture(ge,we),this.currentRenderer.start(),(ve!==void 0?ve:this.clearBeforeRender)&&this._activeRenderTarget.clear(),oe.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},$.prototype.setObjectRenderer=function(oe){this.currentRenderer!==oe&&(this.currentRenderer.stop(),this.currentRenderer=oe,this.currentRenderer.start())},$.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},$.prototype.resize=function(oe,ge){k.default.prototype.resize.call(this,oe,ge),this.rootRenderTarget.resize(oe,ge),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},$.prototype.setBlendMode=function(oe){this.state.setBlendMode(oe)},$.prototype.clear=function(oe){this._activeRenderTarget.clear(oe)},$.prototype.setTransform=function(oe){this._activeRenderTarget.transform=oe},$.prototype.clearRenderTexture=function(oe,ge){var ve=oe.baseTexture,we=ve._glRenderTargets[this.CONTEXT_UID];return we&&we.clear(ge),this},$.prototype.bindRenderTexture=function(oe,ge){var ve=void 0;if(oe){var we=oe.baseTexture;we._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(we,0),this.unbindTexture(we),ve=we._glRenderTargets[this.CONTEXT_UID],ve.setFrame(oe.frame)}else ve=this.rootRenderTarget;return ve.transform=ge,this.bindRenderTarget(ve),this},$.prototype.bindRenderTarget=function(oe){return oe!==this._activeRenderTarget&&(this._activeRenderTarget=oe,oe.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=oe.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(oe.stencilMaskStack)),this},$.prototype.bindShader=function(oe,ge){return this._activeShader!==oe&&(this._activeShader=oe,oe.bind(),ge!==!1&&(oe.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},$.prototype.bindTexture=function(oe,ge,ve){if(oe=oe||this.emptyTextures[ge],oe=oe.baseTexture||oe,oe.touched=this.textureGC.count,ve)ge=ge||0;else{for(var we=0;we<this.boundTextures.length;we++)if(this.boundTextures[we]===oe)return we;ge===void 0&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,ge=this.boundTextures.length-this._nextTextureLocation-1)}var Se=this.gl,_e=oe._glTextures[this.CONTEXT_UID];return _e?(this.boundTextures[ge]=oe,Se.activeTexture(Se.TEXTURE0+ge),Se.bindTexture(Se.TEXTURE_2D,_e.texture)):this.textureManager.updateTexture(oe,ge),ge},$.prototype.unbindTexture=function(oe){var ge=this.gl;if(oe=oe.baseTexture||oe,this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var ve=0;ve<this.boundTextures.length;ve++)this.boundTextures[ve]===this.emptyTextures[ve]&&(ge.activeTexture(ge.TEXTURE0+ve),ge.bindTexture(ge.TEXTURE_2D,this.emptyTextures[ve]._glTextures[this.CONTEXT_UID].texture))}for(var we=0;we<this.boundTextures.length;we++)this.boundTextures[we]===oe&&(this.boundTextures[we]=this.emptyTextures[we],ge.activeTexture(ge.TEXTURE0+we),ge.bindTexture(ge.TEXTURE_2D,this.emptyTextures[we]._glTextures[this.CONTEXT_UID].texture));return this},$.prototype.createVao=function(){return new J.default.VertexArrayObject(this.gl,this.state.attribState)},$.prototype.bindVao=function(oe){return this._activeVao===oe?this:(oe?oe.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=oe,this)},$.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this._unknownBoundTextures=!0;for(var oe=0;oe<this.boundTextures.length;oe++)this.boundTextures[oe]=this.emptyTextures[oe];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},$.prototype.handleContextLost=function(oe){oe.preventDefault()},$.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},$.prototype.destroy=function(oe){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),Z.prototype.destroy.call(this,oe),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},$}(k.default);E.default=Y,N.pluginTarget.mixin(Y)},4116:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(3622),k=g(C);function g(o){return o&&o.__esModule?o:{default:o}}function b(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}var x=0,w=1,v=2,m=3,y=4,l=function(){function o(d){b(this,o),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=d,this.maxAttribs=d.getParameter(d.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,k.default)(d),this.nativeVaoExtension=d.getExtension("OES_vertex_array_object")||d.getExtension("MOZ_OES_vertex_array_object")||d.getExtension("WEBKIT_OES_vertex_array_object")}return o.prototype.push=function(){var f=this.stack[this.stackIndex];f||(f=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var s=0;s<this.activeState.length;s++)f[s]=this.activeState[s]},o.prototype.pop=function(){var f=this.stack[--this.stackIndex];this.setState(f)},o.prototype.setState=function(f){this.setBlend(f[x]),this.setDepthTest(f[w]),this.setFrontFace(f[v]),this.setCullFace(f[m]),this.setBlendMode(f[y])},o.prototype.setBlend=function(f){f=f?1:0,this.activeState[x]!==f&&(this.activeState[x]=f,this.gl[f?"enable":"disable"](this.gl.BLEND))},o.prototype.setBlendMode=function(f){if(f!==this.activeState[y]){this.activeState[y]=f;var s=this.blendModes[f];s.length===2?this.gl.blendFunc(s[0],s[1]):this.gl.blendFuncSeparate(s[0],s[1],s[2],s[3])}},o.prototype.setDepthTest=function(f){f=f?1:0,this.activeState[w]!==f&&(this.activeState[w]=f,this.gl[f?"enable":"disable"](this.gl.DEPTH_TEST))},o.prototype.setCullFace=function(f){f=f?1:0,this.activeState[m]!==f&&(this.activeState[m]=f,this.gl[f?"enable":"disable"](this.gl.CULL_FACE))},o.prototype.setFrontFace=function(f){f=f?1:0,this.activeState[v]!==f&&(this.activeState[v]=f,this.gl.frontFace(this.gl[f?"CW":"CCW"]))},o.prototype.resetAttributes=function(){for(var f=0;f<this.attribState.tempAttribState.length;f++)this.attribState.tempAttribState[f]=0;for(var s=0;s<this.attribState.attribState.length;s++)this.attribState.attribState[s]=0;for(var p=1;p<this.maxAttribs;p++)this.gl.disableVertexAttribArray(p)},o.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var f=0;f<this.activeState.length;++f)this.activeState[f]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},o}();E.default=l},6310:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function d(f,s){for(var p=0;p<s.length;p++){var _=s[p];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(f,_.key,_)}}return function(f,s,p){return s&&d(f.prototype,s),p&&d(f,p),f}}(),k=O(96),g=m(k),b=O(7768),x=O(4633),w=O(7505),v=m(w);function m(d){return d&&d.__esModule?d:{default:d}}function y(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}var l={},o=function(){function d(f,s,p){y(this,d),this.vertexSrc=f||d.defaultVertexSrc,this.fragmentSrc=s||d.defaultFragmentSrc,this._blendMode=x.BLEND_MODES.NORMAL,this.uniformData=p||(0,g.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={};for(var _ in this.uniformData)this.uniforms[_]=this.uniformData[_].value,this.uniformData[_].type&&(this.uniformData[_].type=this.uniformData[_].type.toLowerCase());this.glShaders={},l[this.vertexSrc+this.fragmentSrc]||(l[this.vertexSrc+this.fragmentSrc]=(0,b.uid)()),this.glShaderKey=l[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=v.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return d.prototype.apply=function(s,p,_,S,T){s.applyFilter(this,p,_,S)},C(d,[{key:"blendMode",get:function(){return this._blendMode},set:function(s){this._blendMode=s}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join(`
`)}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join(`
`)}}]),d}();E.default=o},96:(de,E,O)=>{"use strict";E.__esModule=!0,E.default=x;var C=O(3070),k=g(C);function g(v){return v&&v.__esModule?v:{default:v}}var b=k.default.shader.defaultValue;function x(v,m,y){var l=w(v,y),o=w(m,y);return Object.assign(l,o)}function w(v){for(var m=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),y={},l=void 0,o=v.replace(/\s+/g," ").split(/\s*;\s*/),d=0;d<o.length;d++){var f=o[d].trim();if(f.indexOf("uniform")>-1){var s=f.split(" "),p=s[1],_=s[2],S=1;_.indexOf("[")>-1&&(l=_.split(/\[|]/),_=l[0],S*=Number(l[1])),_.match(m)||(y[_]={value:b(p,S),name:_,type:p})}}return y}},7698:(de,E,O)=>{"use strict";E.__esModule=!0,E.calculateScreenSpaceMatrix=k,E.calculateNormalizedScreenSpaceMatrix=g,E.calculateSpriteMatrix=b;var C=O(892);function k(x,w,v){var m=x.identity();return m.translate(w.x/v.width,w.y/v.height),m.scale(v.width,v.height),m}function g(x,w,v){var m=x.identity();m.translate(w.x/v.width,w.y/v.height);var y=v.width/w.width,l=v.height/w.height;return m.scale(y,l),m}function b(x,w,v,m){var y=m._texture.orig,l=x.set(v.width,0,0,v.height,w.x,w.y),o=m.worldTransform.copy(C.Matrix.TEMP_MATRIX);return o.invert(),l.prepend(o),l.scale(1/y.width,1/y.height),l.translate(m.anchor.x,m.anchor.y),l}},3998:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(6310),k=v(C),g=O(892),b=O(6470),x=O(9673),w=v(x);function v(d){return d&&d.__esModule?d:{default:d}}function m(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function y(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function l(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var o=function(d){l(f,d);function f(s){m(this,f);var p=new g.Matrix,_=y(this,d.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);

    original *= (masky.r * masky.a * alpha * clip);

    gl_FragColor = original;
}
`));return s.renderable=!1,_.maskSprite=s,_.maskMatrix=p,_}return f.prototype.apply=function(p,_,S,T){var M=this.maskSprite,L=this.maskSprite.texture;!L.valid||(L.transform||(L.transform=new w.default(L,0)),L.transform.update(),this.uniforms.mask=L,this.uniforms.otherMatrix=p.calculateSpriteMatrix(this.maskMatrix,M).prepend(L.transform.mapCoord),this.uniforms.alpha=M.worldAlpha,this.uniforms.maskClamp=L.transform.uClampFrame,p.applyFilter(this,_,S,T))},f}(k.default);E.default=o},9347:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(2524),k=p(C),g=O(7867),b=p(g),x=O(2454),w=p(x),v=O(892),m=O(2916),y=p(m),l=O(7698),o=s(l),d=O(746),f=p(d);function s(D){if(D&&D.__esModule)return D;var B={};if(D!=null)for(var K in D)Object.prototype.hasOwnProperty.call(D,K)&&(B[K]=D[K]);return B.default=D,B}function p(D){return D&&D.__esModule?D:{default:D}}function _(D,B){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:D}function S(D,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);D.prototype=Object.create(B&&B.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(D,B):D.__proto__=B)}function T(D,B){if(!(D instanceof B))throw new TypeError("Cannot call a class as a function")}var M=function(){function D(){T(this,D),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new v.Rectangle,this.destinationFrame=new v.Rectangle,this.filters=[]}return D.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null},D}(),L="screen",F=function(D){S(B,D);function B(K){T(this,B);var N=_(this,D.call(this,K));return N.gl=N.renderer.gl,N.quad=new w.default(N.gl,K.state.attribState),N.shaderCache={},N.pool={},N.filterData=null,N.managedFilters=[],N.renderer.on("prerender",N.onPrerender,N),N._screenWidth=K.view.width,N._screenHeight=K.view.height,N}return B.prototype.pushFilter=function(N,V){var J=this.renderer,se=this.filterData;if(!se){se=this.renderer._activeRenderTarget.filterStack;var ie=new M;ie.sourceFrame=ie.destinationFrame=this.renderer._activeRenderTarget.size,ie.renderTarget=J._activeRenderTarget,this.renderer._activeRenderTarget.filterData=se={index:0,stack:[ie]},this.filterData=se}var ae=se.stack[++se.index],W=se.stack[0].destinationFrame;ae||(ae=se.stack[se.index]=new M);var Q=N.filterArea&&N.filterArea.x===0&&N.filterArea.y===0&&N.filterArea.width===J.screen.width&&N.filterArea.height===J.screen.height,H=V[0].resolution,Y=V[0].padding|0,Z=Q?J.screen:N.filterArea||N.getBounds(!0),$=ae.sourceFrame,ee=ae.destinationFrame;$.x=(Z.x*H|0)/H,$.y=(Z.y*H|0)/H,$.width=(Z.width*H|0)/H,$.height=(Z.height*H|0)/H,Q||(se.stack[0].renderTarget.transform||V[0].autoFit&&$.fit(W),$.pad(Y)),ee.width=$.width,ee.height=$.height;var oe=this.getPotRenderTarget(J.gl,$.width,$.height,H);ae.target=N,ae.filters=V,ae.resolution=H,ae.renderTarget=oe,oe.setFrame(ee,$),J.bindRenderTarget(oe),oe.clear()},B.prototype.popFilter=function(){var N=this.filterData,V=N.stack[N.index-1],J=N.stack[N.index];this.quad.map(J.renderTarget.size,J.sourceFrame).upload();var se=J.filters;if(se.length===1)se[0].apply(this,J.renderTarget,V.renderTarget,!1,J),this.freePotRenderTarget(J.renderTarget);else{var ie=J.renderTarget,ae=this.getPotRenderTarget(this.renderer.gl,J.sourceFrame.width,J.sourceFrame.height,J.resolution);ae.setFrame(J.destinationFrame,J.sourceFrame),ae.clear();var W=0;for(W=0;W<se.length-1;++W){se[W].apply(this,ie,ae,!0,J);var Q=ie;ie=ae,ae=Q}se[W].apply(this,ie,V.renderTarget,!1,J),this.freePotRenderTarget(ie),this.freePotRenderTarget(ae)}J.clear(),N.index--,N.index===0&&(this.filterData=null)},B.prototype.applyFilter=function(N,V,J,se){var ie=this.renderer,ae=ie.gl,W=N.glShaders[ie.CONTEXT_UID];W||(N.glShaderKey?(W=this.shaderCache[N.glShaderKey],W||(W=new y.default(this.gl,N.vertexSrc,N.fragmentSrc),N.glShaders[ie.CONTEXT_UID]=this.shaderCache[N.glShaderKey]=W,this.managedFilters.push(N))):(W=N.glShaders[ie.CONTEXT_UID]=new y.default(this.gl,N.vertexSrc,N.fragmentSrc),this.managedFilters.push(N)),ie.bindVao(null),this.quad.initVao(W)),ie.bindVao(this.quad.vao),ie.bindRenderTarget(J),se&&(ae.disable(ae.SCISSOR_TEST),ie.clear(),ae.enable(ae.SCISSOR_TEST)),J===ie.maskManager.scissorRenderTarget&&ie.maskManager.pushScissorMask(null,ie.maskManager.scissorData),ie.bindShader(W);var Q=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=Q,this.syncUniforms(W,N),ie.state.setBlendMode(N.blendMode),ae.activeTexture(ae.TEXTURE0),ae.bindTexture(ae.TEXTURE_2D,V.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),ae.bindTexture(ae.TEXTURE_2D,Q._glTextures[this.renderer.CONTEXT_UID].texture)},B.prototype.syncUniforms=function(N,V){var J=V.uniformData,se=V.uniforms,ie=1,ae=void 0;if(N.uniforms.filterArea){ae=this.filterData.stack[this.filterData.index];var W=N.uniforms.filterArea;W[0]=ae.renderTarget.size.width,W[1]=ae.renderTarget.size.height,W[2]=ae.sourceFrame.x,W[3]=ae.sourceFrame.y,N.uniforms.filterArea=W}if(N.uniforms.filterClamp){ae=ae||this.filterData.stack[this.filterData.index];var Q=N.uniforms.filterClamp;Q[0]=0,Q[1]=0,Q[2]=(ae.sourceFrame.width-1)/ae.renderTarget.size.width,Q[3]=(ae.sourceFrame.height-1)/ae.renderTarget.size.height,N.uniforms.filterClamp=Q}for(var H in J)if(!!N.uniforms.data[H]){var Y=J[H].type;if(Y==="sampler2d"&&se[H]!==0){if(se[H].baseTexture)N.uniforms[H]=this.renderer.bindTexture(se[H].baseTexture,ie);else{N.uniforms[H]=ie;var Z=this.renderer.gl;this.renderer.boundTextures[ie]=this.renderer.emptyTextures[ie],Z.activeTexture(Z.TEXTURE0+ie),se[H].texture.bind()}ie++}else if(Y==="mat3")se[H].a!==void 0?N.uniforms[H]=se[H].toArray(!0):N.uniforms[H]=se[H];else if(Y==="vec2")if(se[H].x!==void 0){var $=N.uniforms[H]||new Float32Array(2);$[0]=se[H].x,$[1]=se[H].y,N.uniforms[H]=$}else N.uniforms[H]=se[H];else Y==="float"?N.uniforms.data[H].value!==J[H]&&(N.uniforms[H]=se[H]):N.uniforms[H]=se[H]}},B.prototype.getRenderTarget=function(N,V){var J=this.filterData.stack[this.filterData.index],se=this.getPotRenderTarget(this.renderer.gl,J.sourceFrame.width,J.sourceFrame.height,V||J.resolution);return se.setFrame(J.destinationFrame,J.sourceFrame),se},B.prototype.returnRenderTarget=function(N){this.freePotRenderTarget(N)},B.prototype.calculateScreenSpaceMatrix=function(N){var V=this.filterData.stack[this.filterData.index];return o.calculateScreenSpaceMatrix(N,V.sourceFrame,V.renderTarget.size)},B.prototype.calculateNormalizedScreenSpaceMatrix=function(N){var V=this.filterData.stack[this.filterData.index];return o.calculateNormalizedScreenSpaceMatrix(N,V.sourceFrame,V.renderTarget.size,V.destinationFrame)},B.prototype.calculateSpriteMatrix=function(N,V){var J=this.filterData.stack[this.filterData.index];return o.calculateSpriteMatrix(N,J.sourceFrame,J.renderTarget.size,V)},B.prototype.destroy=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,V=this.renderer,J=this.managedFilters;V.off("prerender",this.onPrerender,this);for(var se=0;se<J.length;se++)N||J[se].glShaders[V.CONTEXT_UID].destroy(),delete J[se].glShaders[V.CONTEXT_UID];this.shaderCache={},N?this.pool={}:this.emptyPool()},B.prototype.getPotRenderTarget=function(N,V,J,se){var ie=L;V*=se,J*=se,(V!==this._screenWidth||J!==this._screenHeight)&&(V=f.default.nextPow2(V),J=f.default.nextPow2(J),ie=(V&65535)<<16|J&65535),this.pool[ie]||(this.pool[ie]=[]);var ae=this.pool[ie].pop();if(!ae){var W=this.renderer.boundTextures[0];N.activeTexture(N.TEXTURE0),ae=new b.default(N,V,J,null,1),N.bindTexture(N.TEXTURE_2D,W._glTextures[this.renderer.CONTEXT_UID].texture)}return ae.resolution=se,ae.defaultFrame.width=ae.size.width=V/se,ae.defaultFrame.height=ae.size.height=J/se,ae.filterPoolKey=ie,ae},B.prototype.emptyPool=function(){for(var N in this.pool){var V=this.pool[N];if(V)for(var J=0;J<V.length;J++)V[J].destroy(!0)}this.pool={}},B.prototype.freePotRenderTarget=function(N){this.pool[N.filterPoolKey].push(N)},B.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var N=this.pool[L];if(N)for(var V=0;V<N.length;V++)N[V].destroy(!0);this.pool[L]=[]}},B}(k.default);E.default=F},805:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(2524),k=x(C),g=O(3998),b=x(g);function x(l){return l&&l.__esModule?l:{default:l}}function w(l,o){if(!(l instanceof o))throw new TypeError("Cannot call a class as a function")}function v(l,o){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:l}function m(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);l.prototype=Object.create(o&&o.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(l,o):l.__proto__=o)}var y=function(l){m(o,l);function o(d){w(this,o);var f=v(this,l.call(this,d));return f.scissor=!1,f.scissorData=null,f.scissorRenderTarget=null,f.enableScissor=!0,f.alphaMaskPool=[],f.alphaMaskIndex=0,f}return o.prototype.pushMask=function(f,s){if(s.texture)this.pushSpriteMask(f,s);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&s.isFastRect()){var p=s.worldTransform,_=Math.atan2(p.b,p.a);_=Math.round(_*(180/Math.PI)),_%90?this.pushStencilMask(s):this.pushScissorMask(f,s)}else this.pushStencilMask(s)},o.prototype.popMask=function(f,s){s.texture?this.popSpriteMask(f,s):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(f,s):this.popStencilMask(f,s)},o.prototype.pushSpriteMask=function(f,s){var p=this.alphaMaskPool[this.alphaMaskIndex];p||(p=this.alphaMaskPool[this.alphaMaskIndex]=[new b.default(s)]),p[0].resolution=this.renderer.resolution,p[0].maskSprite=s;var _=f.filterArea;f.filterArea=s.getBounds(!0),this.renderer.filterManager.pushFilter(f,p),f.filterArea=_,this.alphaMaskIndex++},o.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},o.prototype.pushStencilMask=function(f){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(f)},o.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},o.prototype.pushScissorMask=function(f,s){s.renderable=!0;var p=this.renderer._activeRenderTarget,_=s.getBounds();_.fit(p.size),s.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var S=this.renderer.resolution;this.renderer.gl.scissor(_.x*S,(p.root?p.size.height-_.y-_.height:_.y)*S,_.width*S,_.height*S),this.scissorRenderTarget=p,this.scissorData=s,this.scissor=!0},o.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var f=this.renderer.gl;f.disable(f.SCISSOR_TEST)},o}(k.default);E.default=y},7176:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(2524),k=g(C);function g(m){return m&&m.__esModule?m:{default:m}}function b(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function x(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function w(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var v=function(m){w(y,m);function y(l){b(this,y);var o=x(this,m.call(this,l));return o.stencilMaskStack=null,o}return y.prototype.setMaskStack=function(o){this.stencilMaskStack=o;var d=this.renderer.gl;o.length===0?d.disable(d.STENCIL_TEST):d.enable(d.STENCIL_TEST)},y.prototype.pushStencil=function(o){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var d=this.renderer.gl,f=this.stencilMaskStack.length;f===0&&d.enable(d.STENCIL_TEST),this.stencilMaskStack.push(o),d.colorMask(!1,!1,!1,!1),d.stencilFunc(d.EQUAL,f,this._getBitwiseMask()),d.stencilOp(d.KEEP,d.KEEP,d.INCR),this.renderer.plugins.graphics.render(o),this._useCurrent()},y.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var o=this.renderer.gl,d=this.stencilMaskStack.pop();this.stencilMaskStack.length===0?(o.disable(o.STENCIL_TEST),o.clear(o.STENCIL_BUFFER_BIT),o.clearStencil(0)):(o.colorMask(!1,!1,!1,!1),o.stencilOp(o.KEEP,o.KEEP,o.DECR),this.renderer.plugins.graphics.render(d),this._useCurrent())},y.prototype._useCurrent=function(){var o=this.renderer.gl;o.colorMask(!0,!0,!0,!0),o.stencilFunc(o.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),o.stencilOp(o.KEEP,o.KEEP,o.KEEP)},y.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},y.prototype.destroy=function(){k.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},y}(k.default);E.default=v},2524:(de,E)=>{"use strict";E.__esModule=!0;function O(k,g){if(!(k instanceof g))throw new TypeError("Cannot call a class as a function")}var C=function(){function k(g){O(this,k),this.renderer=g,this.renderer.on("context",this.onContextChange,this)}return k.prototype.onContextChange=function(){},k.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},k}();E.default=C},3364:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(2524),k=g(C);function g(m){return m&&m.__esModule?m:{default:m}}function b(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function x(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function w(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var v=function(m){w(y,m);function y(){return b(this,y),x(this,m.apply(this,arguments))}return y.prototype.start=function(){},y.prototype.stop=function(){this.flush()},y.prototype.flush=function(){},y.prototype.render=function(o){},y}(k.default);E.default=v},2454:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(3070),k=x(C),g=O(4014),b=x(g);function x(m){return m&&m.__esModule?m:{default:m}}function w(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}var v=function(){function m(y,l){w(this,m),this.gl=y,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(8*2);for(var o=0;o<4;o++)this.interleaved[o*4]=this.vertices[o*2],this.interleaved[o*4+1]=this.vertices[o*2+1],this.interleaved[o*4+2]=this.uvs[o*2],this.interleaved[o*4+3]=this.uvs[o*2+1];this.indices=(0,b.default)(1),this.vertexBuffer=k.default.GLBuffer.createVertexBuffer(y,this.interleaved,y.STATIC_DRAW),this.indexBuffer=k.default.GLBuffer.createIndexBuffer(y,this.indices,y.STATIC_DRAW),this.vao=new k.default.VertexArrayObject(y,l)}return m.prototype.initVao=function(l){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,l.attributes.aVertexPosition,this.gl.FLOAT,!1,4*4,0).addAttribute(this.vertexBuffer,l.attributes.aTextureCoord,this.gl.FLOAT,!1,4*4,2*4)},m.prototype.map=function(l,o){var d=0,f=0;return this.uvs[0]=d,this.uvs[1]=f,this.uvs[2]=d+o.width/l.width,this.uvs[3]=f,this.uvs[4]=d+o.width/l.width,this.uvs[5]=f+o.height/l.height,this.uvs[6]=d,this.uvs[7]=f+o.height/l.height,d=o.x,f=o.y,this.vertices[0]=d,this.vertices[1]=f,this.vertices[2]=d+o.width,this.vertices[3]=f,this.vertices[4]=d+o.width,this.vertices[5]=f+o.height,this.vertices[6]=d,this.vertices[7]=f+o.height,this},m.prototype.upload=function(){for(var l=0;l<4;l++)this.interleaved[l*4]=this.vertices[l*2],this.interleaved[l*4+1]=this.vertices[l*2+1],this.interleaved[l*4+2]=this.uvs[l*2],this.interleaved[l*4+3]=this.uvs[l*2+1];return this.vertexBuffer.upload(this.interleaved),this},m.prototype.destroy=function(){var l=this.gl;l.deleteBuffer(this.vertexBuffer),l.deleteBuffer(this.indexBuffer)},m}();E.default=v},7867:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(892),k=O(4633),g=O(7505),b=w(g),x=O(3070);function w(y){return y&&y.__esModule?y:{default:y}}function v(y,l){if(!(y instanceof l))throw new TypeError("Cannot call a class as a function")}var m=function(){function y(l,o,d,f,s,p){v(this,y),this.gl=l,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new C.Rectangle(0,0,1,1),this.resolution=s||b.default.RESOLUTION,this.projectionMatrix=new C.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new C.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=f!==void 0?f:b.default.SCALE_MODE,this.root=p||!1,this.root?(this.frameBuffer=new x.GLFramebuffer(l,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=x.GLFramebuffer.createRGBA(l,100,100),this.scaleMode===k.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(o,d)}return y.prototype.clear=function(o){var d=o||this.clearColor;this.frameBuffer.clear(d[0],d[1],d[2],d[3])},y.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},y.prototype.setFrame=function(o,d){this.destinationFrame=o||this.destinationFrame||this.defaultFrame,this.sourceFrame=d||this.sourceFrame||this.destinationFrame},y.prototype.activate=function(){var o=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(o.enable(o.SCISSOR_TEST),o.scissor(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):o.disable(o.SCISSOR_TEST),o.viewport(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},y.prototype.calculateProjection=function(o,d){var f=this.projectionMatrix;d=d||o,f.identity(),this.root?(f.a=1/o.width*2,f.d=-1/o.height*2,f.tx=-1-d.x*f.a,f.ty=1-d.y*f.d):(f.a=1/o.width*2,f.d=1/o.height*2,f.tx=-1-d.x*f.a,f.ty=-1-d.y*f.d)},y.prototype.resize=function(o,d){if(o=o|0,d=d|0,!(this.size.width===o&&this.size.height===d)){this.size.width=o,this.size.height=d,this.defaultFrame.width=o,this.defaultFrame.height=d,this.frameBuffer.resize(o*this.resolution,d*this.resolution);var f=this.frame||this.size;this.calculateProjection(f)}},y.prototype.destroy=function(){this.frameBuffer.stencil&&this.gl.deleteRenderbuffer(this.frameBuffer.stencil),this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},y}();E.default=m},5303:(de,E,O)=>{"use strict";E.__esModule=!0,E.default=x;var C=O(3070),k=g(C);function g(v){return v&&v.__esModule?v:{default:v}}var b=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function x(v,m){var y=!m;if(v===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(y){var l=document.createElement("canvas");l.width=1,l.height=1,m=k.default.createContext(l)}for(var o=m.createShader(m.FRAGMENT_SHADER);;){var d=b.replace(/%forloop%/gi,w(v));if(m.shaderSource(o,d),m.compileShader(o),!m.getShaderParameter(o,m.COMPILE_STATUS))v=v/2|0;else break}return y&&m.getExtension("WEBGL_lose_context")&&m.getExtension("WEBGL_lose_context").loseContext(),v}function w(v){for(var m="",y=0;y<v;++y)y>0&&(m+=`
else `),y<v-1&&(m+="if(test == "+y+".0){}");return m}},3622:(de,E,O)=>{"use strict";E.__esModule=!0,E.default=k;var C=O(4633);function k(g){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return b[C.BLEND_MODES.NORMAL]=[g.ONE,g.ONE_MINUS_SRC_ALPHA],b[C.BLEND_MODES.ADD]=[g.ONE,g.ONE],b[C.BLEND_MODES.MULTIPLY]=[g.DST_COLOR,g.ONE_MINUS_SRC_ALPHA,g.ONE,g.ONE_MINUS_SRC_ALPHA],b[C.BLEND_MODES.SCREEN]=[g.ONE,g.ONE_MINUS_SRC_COLOR,g.ONE,g.ONE_MINUS_SRC_ALPHA],b[C.BLEND_MODES.OVERLAY]=[g.ONE,g.ONE_MINUS_SRC_ALPHA],b[C.BLEND_MODES.DARKEN]=[g.ONE,g.ONE_MINUS_SRC_ALPHA],b[C.BLEND_MODES.LIGHTEN]=[g.ONE,g.ONE_MINUS_SRC_ALPHA],b[C.BLEND_MODES.COLOR_DODGE]=[g.ONE,g.ONE_MINUS_SRC_ALPHA],b[C.BLEND_MODES.COLOR_BURN]=[g.ONE,g.ONE_MINUS_SRC_ALPHA],b[C.BLEND_MODES.HARD_LIGHT]=[g.ONE,g.ONE_MINUS_SRC_ALPHA],b[C.BLEND_MODES.SOFT_LIGHT]=[g.ONE,g.ONE_MINUS_SRC_ALPHA],b[C.BLEND_MODES.DIFFERENCE]=[g.ONE,g.ONE_MINUS_SRC_ALPHA],b[C.BLEND_MODES.EXCLUSION]=[g.ONE,g.ONE_MINUS_SRC_ALPHA],b[C.BLEND_MODES.HUE]=[g.ONE,g.ONE_MINUS_SRC_ALPHA],b[C.BLEND_MODES.SATURATION]=[g.ONE,g.ONE_MINUS_SRC_ALPHA],b[C.BLEND_MODES.COLOR]=[g.ONE,g.ONE_MINUS_SRC_ALPHA],b[C.BLEND_MODES.LUMINOSITY]=[g.ONE,g.ONE_MINUS_SRC_ALPHA],b[C.BLEND_MODES.NORMAL_NPM]=[g.SRC_ALPHA,g.ONE_MINUS_SRC_ALPHA,g.ONE,g.ONE_MINUS_SRC_ALPHA],b[C.BLEND_MODES.ADD_NPM]=[g.SRC_ALPHA,g.ONE,g.ONE,g.ONE],b[C.BLEND_MODES.SCREEN_NPM]=[g.SRC_ALPHA,g.ONE_MINUS_SRC_COLOR,g.ONE,g.ONE_MINUS_SRC_ALPHA],b}},5580:(de,E,O)=>{"use strict";E.__esModule=!0,E.default=k;var C=O(4633);function k(g){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return b[C.DRAW_MODES.POINTS]=g.POINTS,b[C.DRAW_MODES.LINES]=g.LINES,b[C.DRAW_MODES.LINE_LOOP]=g.LINE_LOOP,b[C.DRAW_MODES.LINE_STRIP]=g.LINE_STRIP,b[C.DRAW_MODES.TRIANGLES]=g.TRIANGLES,b[C.DRAW_MODES.TRIANGLE_STRIP]=g.TRIANGLE_STRIP,b[C.DRAW_MODES.TRIANGLE_FAN]=g.TRIANGLE_FAN,b}},3766:(de,E)=>{"use strict";E.__esModule=!0,E.default=O;function O(C){var k=C.getContextAttributes();k.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},7505:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(585),k=x(C),g=O(9681),b=x(g);function x(w){return w&&w.__esModule?w:{default:w}}E.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,k.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,b.default)(),MESH_CANVAS_PADDING:0}},8391:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function p(_,S){for(var T=0;T<S.length;T++){var M=S[T];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}return function(_,S,T){return S&&p(_.prototype,S),T&&p(_,T),_}}(),k=O(892),g=O(7768),b=O(4633),x=O(2631),w=y(x),v=O(1822),m=y(v);function y(p){return p&&p.__esModule?p:{default:p}}function l(p,_){if(!(p instanceof _))throw new TypeError("Cannot call a class as a function")}function o(p,_){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:p}function d(p,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);p.prototype=Object.create(_&&_.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(p,_):p.__proto__=_)}var f=new k.Point,s=function(p){d(_,p);function _(S){l(this,_);var T=o(this,p.call(this));return T._anchor=new k.ObservablePoint(T._onAnchorUpdate,T,S?S.defaultAnchor.x:0,S?S.defaultAnchor.y:0),T._texture=null,T._width=0,T._height=0,T._tint=null,T._tintRGB=null,T.tint=16777215,T.blendMode=b.BLEND_MODES.NORMAL,T.shader=null,T.cachedTint=16777215,T.texture=S||w.default.EMPTY,T.vertexData=new Float32Array(8),T.vertexTrimmedData=null,T._transformID=-1,T._textureID=-1,T._transformTrimmedID=-1,T._textureTrimmedID=-1,T.pluginName="sprite",T}return _.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,g.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,g.sign)(this.scale.y)*this._height/this._texture.orig.height)},_.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},_.prototype.calculateVertices=function(){if(!(this._transformID===this.transform._worldID&&this._textureID===this._texture._updateID)){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var T=this._texture,M=this.transform.worldTransform,L=M.a,F=M.b,D=M.c,B=M.d,K=M.tx,N=M.ty,V=this.vertexData,J=T.trim,se=T.orig,ie=this._anchor,ae=0,W=0,Q=0,H=0;J?(W=J.x-ie._x*se.width,ae=W+J.width,H=J.y-ie._y*se.height,Q=H+J.height):(W=-ie._x*se.width,ae=W+se.width,H=-ie._y*se.height,Q=H+se.height),V[0]=L*W+D*H+K,V[1]=B*H+F*W+N,V[2]=L*ae+D*H+K,V[3]=B*H+F*ae+N,V[4]=L*ae+D*Q+K,V[5]=B*Q+F*ae+N,V[6]=L*W+D*Q+K,V[7]=B*Q+F*W+N}},_.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var T=this._texture,M=this.vertexTrimmedData,L=T.orig,F=this._anchor,D=this.transform.worldTransform,B=D.a,K=D.b,N=D.c,V=D.d,J=D.tx,se=D.ty,ie=-F._x*L.width,ae=ie+L.width,W=-F._y*L.height,Q=W+L.height;M[0]=B*ie+N*W+J,M[1]=V*W+K*ie+se,M[2]=B*ae+N*W+J,M[3]=V*W+K*ae+se,M[4]=B*ae+N*Q+J,M[5]=V*Q+K*ae+se,M[6]=B*ie+N*Q+J,M[7]=V*Q+K*ie+se},_.prototype._renderWebGL=function(T){this.calculateVertices(),T.setObjectRenderer(T.plugins[this.pluginName]),T.plugins[this.pluginName].render(this)},_.prototype._renderCanvas=function(T){T.plugins[this.pluginName].render(this)},_.prototype._calculateBounds=function(){var T=this._texture.trim,M=this._texture.orig;!T||T.width===M.width&&T.height===M.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},_.prototype.getLocalBounds=function(T){return this.children.length===0?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),T||(this._localBoundsRect||(this._localBoundsRect=new k.Rectangle),T=this._localBoundsRect),this._bounds.getRectangle(T)):p.prototype.getLocalBounds.call(this,T)},_.prototype.containsPoint=function(T){this.worldTransform.applyInverse(T,f);var M=this._texture.orig.width,L=this._texture.orig.height,F=-M*this.anchor.x,D=0;return!!(f.x>=F&&f.x<F+M&&(D=-L*this.anchor.y,f.y>=D&&f.y<D+L))},_.prototype.destroy=function(T){p.prototype.destroy.call(this,T),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var M=typeof T=="boolean"?T:T&&T.texture;if(M){var L=typeof T=="boolean"?T:T&&T.baseTexture;this._texture.destroy(!!L)}this._texture=null,this.shader=null},_.from=function(T){return new _(w.default.from(T))},_.fromFrame=function(T){var M=g.TextureCache[T];if(!M)throw new Error('The frameId "'+T+'" does not exist in the texture cache');return new _(M)},_.fromImage=function(T,M,L){return new _(w.default.fromImage(T,M,L))},C(_,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(T){var M=(0,g.sign)(this.scale.x)||1;this.scale.x=M*T/this._texture.orig.width,this._width=T}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(T){var M=(0,g.sign)(this.scale.y)||1;this.scale.y=M*T/this._texture.orig.height,this._height=T}},{key:"anchor",get:function(){return this._anchor},set:function(T){this._anchor.copy(T)}},{key:"tint",get:function(){return this._tint},set:function(T){this._tint=T,this._tintRGB=(T>>16)+(T&65280)+((T&255)<<16)}},{key:"texture",get:function(){return this._texture},set:function(T){this._texture!==T&&(this._texture=T||w.default.EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,T&&(T.baseTexture.hasLoaded?this._onTextureUpdate():T.once("update",this._onTextureUpdate,this)))}}]),_}(m.default);E.default=s},3440:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(4695),k=v(C),g=O(4633),b=O(892),x=O(4099),w=v(x);function v(o){return o&&o.__esModule?o:{default:o}}function m(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}var y=new b.Matrix,l=function(){function o(d){m(this,o),this.renderer=d}return o.prototype.render=function(f){var s=f._texture,p=this.renderer,_=s._frame.width,S=s._frame.height,T=f.transform.worldTransform,M=0,L=0;if(!(s.orig.width<=0||s.orig.height<=0||!s.baseTexture.source)&&(p.setBlendMode(f.blendMode),s.valid)){p.context.globalAlpha=f.worldAlpha;var F=s.baseTexture.scaleMode===g.SCALE_MODES.LINEAR;p.smoothProperty&&p.context[p.smoothProperty]!==F&&(p.context[p.smoothProperty]=F),s.trim?(M=s.trim.width/2+s.trim.x-f.anchor.x*s.orig.width,L=s.trim.height/2+s.trim.y-f.anchor.y*s.orig.height):(M=(.5-f.anchor.x)*s.orig.width,L=(.5-f.anchor.y)*s.orig.height),s.rotate&&(T.copy(y),T=y,b.GroupD8.matrixAppendRotationInv(T,s.rotate,M,L),M=0,L=0),M-=_/2,L-=S/2,p.roundPixels?(p.context.setTransform(T.a,T.b,T.c,T.d,T.tx*p.resolution|0,T.ty*p.resolution|0),M=M|0,L=L|0):p.context.setTransform(T.a,T.b,T.c,T.d,T.tx*p.resolution,T.ty*p.resolution);var D=s.baseTexture.resolution;f.tint!==16777215?((f.cachedTint!==f.tint||f.tintedTexture.tintId!==f._texture._updateID)&&(f.cachedTint=f.tint,f.tintedTexture=w.default.getTintedTexture(f,f.tint)),p.context.drawImage(f.tintedTexture,0,0,_*D,S*D,M*p.resolution,L*p.resolution,_*p.resolution,S*p.resolution)):p.context.drawImage(s.baseTexture.source,s._frame.x*D,s._frame.y*D,_*D,S*D,M*p.resolution,L*p.resolution,_*p.resolution,S*p.resolution)}},o.prototype.destroy=function(){this.renderer=null},o}();E.default=l,k.default.registerPlugin("sprite",l)},4099:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(7768),k=O(8886),g=b(k);function b(w){return w&&w.__esModule?w:{default:w}}var x={getTintedTexture:function(v,m){var y=v._texture;m=x.roundColor(m);var l="#"+("00000"+(m|0).toString(16)).substr(-6);y.tintCache=y.tintCache||{};var o=y.tintCache[l],d=void 0;if(o){if(o.tintId===y._updateID)return y.tintCache[l];d=y.tintCache[l]}else d=x.canvas||document.createElement("canvas");if(x.tintMethod(y,m,d),d.tintId=y._updateID,x.convertTintToImage){var f=new Image;f.src=d.toDataURL(),y.tintCache[l]=f}else y.tintCache[l]=d,x.canvas=null;return d},tintWithMultiply:function(v,m,y){var l=y.getContext("2d"),o=v._frame.clone(),d=v.baseTexture.resolution;o.x*=d,o.y*=d,o.width*=d,o.height*=d,y.width=Math.ceil(o.width),y.height=Math.ceil(o.height),l.save(),l.fillStyle="#"+("00000"+(m|0).toString(16)).substr(-6),l.fillRect(0,0,o.width,o.height),l.globalCompositeOperation="multiply",l.drawImage(v.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),l.globalCompositeOperation="destination-atop",l.drawImage(v.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),l.restore()},tintWithOverlay:function(v,m,y){var l=y.getContext("2d"),o=v._frame.clone(),d=v.baseTexture.resolution;o.x*=d,o.y*=d,o.width*=d,o.height*=d,y.width=Math.ceil(o.width),y.height=Math.ceil(o.height),l.save(),l.globalCompositeOperation="copy",l.fillStyle="#"+("00000"+(m|0).toString(16)).substr(-6),l.fillRect(0,0,o.width,o.height),l.globalCompositeOperation="destination-atop",l.drawImage(v.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),l.restore()},tintWithPerPixel:function(v,m,y){var l=y.getContext("2d"),o=v._frame.clone(),d=v.baseTexture.resolution;o.x*=d,o.y*=d,o.width*=d,o.height*=d,y.width=Math.ceil(o.width),y.height=Math.ceil(o.height),l.save(),l.globalCompositeOperation="copy",l.drawImage(v.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),l.restore();for(var f=(0,C.hex2rgb)(m),s=f[0],p=f[1],_=f[2],S=l.getImageData(0,0,o.width,o.height),T=S.data,M=0;M<T.length;M+=4)T[M+0]*=s,T[M+1]*=p,T[M+2]*=_;l.putImageData(S,0,0)},roundColor:function(v){var m=x.cacheStepsPerColorChannel,y=(0,C.hex2rgb)(v);return y[0]=Math.min(255,y[0]/m*m),y[1]=Math.min(255,y[1]/m*m),y[2]=Math.min(255,y[2]/m*m),(0,C.rgb2hex)(y)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,g.default)(),tintMethod:0};x.tintMethod=x.canUseMultiply?x.tintWithMultiply:x.tintWithPerPixel,E.default=x},4901:(de,E)=>{"use strict";E.__esModule=!0;function O(k,g){if(!(k instanceof g))throw new TypeError("Cannot call a class as a function")}var C=function(){function k(g){O(this,k),this.vertices=new ArrayBuffer(g),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return k.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},k}();E.default=C},9086:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(3364),k=L(C),g=O(7648),b=L(g),x=O(4014),w=L(x),v=O(1903),m=L(v),y=O(5303),l=L(y),o=O(4901),d=L(o),f=O(7505),s=L(f),p=O(7768),_=O(3070),S=L(_),T=O(746),M=L(T);function L(J){return J&&J.__esModule?J:{default:J}}function F(J,se){if(!(J instanceof se))throw new TypeError("Cannot call a class as a function")}function D(J,se){if(!J)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return se&&(typeof se=="object"||typeof se=="function")?se:J}function B(J,se){if(typeof se!="function"&&se!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof se);J.prototype=Object.create(se&&se.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),se&&(Object.setPrototypeOf?Object.setPrototypeOf(J,se):J.__proto__=se)}var K=0,N=0,V=function(J){B(se,J);function se(ie){F(this,se);var ae=D(this,J.call(this,ie));ae.vertSize=5,ae.vertByteSize=ae.vertSize*4,ae.size=s.default.SPRITE_BATCH_SIZE,ae.buffers=[];for(var W=1;W<=M.default.nextPow2(ae.size);W*=2)ae.buffers.push(new d.default(W*4*ae.vertByteSize));ae.indices=(0,w.default)(ae.size),ae.shader=null,ae.currentIndex=0,ae.groups=[];for(var Q=0;Q<ae.size;Q++)ae.groups[Q]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return ae.sprites=[],ae.vertexBuffers=[],ae.vaos=[],ae.vaoMax=2,ae.vertexCount=0,ae.renderer.on("prerender",ae.onPrerender,ae),ae}return se.prototype.onContextChange=function(){var ae=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(ae.getParameter(ae.MAX_TEXTURE_IMAGE_UNITS),s.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,l.default)(this.MAX_TEXTURES,ae)),this.shader=(0,m.default)(ae,this.MAX_TEXTURES),this.indexBuffer=S.default.GLBuffer.createIndexBuffer(ae,this.indices,ae.STATIC_DRAW),this.renderer.bindVao(null);for(var W=this.shader.attributes,Q=0;Q<this.vaoMax;Q++){var H=this.vertexBuffers[Q]=S.default.GLBuffer.createVertexBuffer(ae,null,ae.STREAM_DRAW),Y=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(H,W.aVertexPosition,ae.FLOAT,!1,this.vertByteSize,0).addAttribute(H,W.aTextureCoord,ae.UNSIGNED_SHORT,!0,this.vertByteSize,2*4).addAttribute(H,W.aColor,ae.UNSIGNED_BYTE,!0,this.vertByteSize,3*4);W.aTextureId&&Y.addAttribute(H,W.aTextureId,ae.FLOAT,!1,this.vertByteSize,4*4),this.vaos[Q]=Y}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},se.prototype.onPrerender=function(){this.vertexCount=0},se.prototype.render=function(ae){this.currentIndex>=this.size&&this.flush(),!!ae._texture._uvs&&(this.sprites[this.currentIndex++]=ae)},se.prototype.flush=function(){if(this.currentIndex!==0){var ae=this.renderer.gl,W=this.MAX_TEXTURES,Q=M.default.nextPow2(this.currentIndex),H=M.default.log2(Q),Y=this.buffers[H],Z=this.sprites,$=this.groups,ee=Y.float32View,oe=Y.uint32View,ge=this.boundTextures,ve=this.renderer.boundTextures,we=this.renderer.textureGC.count,Se=0,_e=void 0,Te=void 0,Ce=1,We=0,Fe=$[0],Ge=void 0,ze=void 0,Ae=p.premultiplyBlendMode[Z[0]._texture.baseTexture.premultipliedAlpha?1:0][Z[0].blendMode];Fe.textureCount=0,Fe.start=0,Fe.blend=Ae,K++;var ke=void 0;for(ke=0;ke<W;++ke){var He=ve[ke];if(He._enabled===K){ge[ke]=this.renderer.emptyTextures[ke];continue}ge[ke]=He,He._virtalBoundId=ke,He._enabled=K}for(K++,ke=0;ke<this.currentIndex;++ke){var $e=Z[ke];Z[ke]=null,_e=$e._texture.baseTexture;var gt=p.premultiplyBlendMode[Number(_e.premultipliedAlpha)][$e.blendMode];if(Ae!==gt&&(Ae=gt,Te=null,We=W,K++),Te!==_e&&(Te=_e,_e._enabled!==K)){if(We===W&&(K++,Fe.size=ke-Fe.start,We=0,Fe=$[Ce++],Fe.blend=Ae,Fe.textureCount=0,Fe.start=ke),_e.touched=we,_e._virtalBoundId===-1)for(var ft=0;ft<W;++ft){var Mt=(ft+N)%W,jt=ge[Mt];if(jt._enabled!==K){N++,jt._virtalBoundId=-1,_e._virtalBoundId=Mt,ge[Mt]=_e;break}}_e._enabled=K,Fe.textureCount++,Fe.ids[We]=_e._virtalBoundId,Fe.textures[We++]=_e}if(Ge=$e.vertexData,ze=$e._texture._uvs.uvsUint32,this.renderer.roundPixels){var vt=this.renderer.resolution;ee[Se]=(Ge[0]*vt|0)/vt,ee[Se+1]=(Ge[1]*vt|0)/vt,ee[Se+5]=(Ge[2]*vt|0)/vt,ee[Se+6]=(Ge[3]*vt|0)/vt,ee[Se+10]=(Ge[4]*vt|0)/vt,ee[Se+11]=(Ge[5]*vt|0)/vt,ee[Se+15]=(Ge[6]*vt|0)/vt,ee[Se+16]=(Ge[7]*vt|0)/vt}else ee[Se]=Ge[0],ee[Se+1]=Ge[1],ee[Se+5]=Ge[2],ee[Se+6]=Ge[3],ee[Se+10]=Ge[4],ee[Se+11]=Ge[5],ee[Se+15]=Ge[6],ee[Se+16]=Ge[7];oe[Se+2]=ze[0],oe[Se+7]=ze[1],oe[Se+12]=ze[2],oe[Se+17]=ze[3];var Dr=Math.min($e.worldAlpha,1),Wn=Dr<1&&_e.premultipliedAlpha?(0,p.premultiplyTint)($e._tintRGB,Dr):$e._tintRGB+(Dr*255<<24);oe[Se+3]=oe[Se+8]=oe[Se+13]=oe[Se+18]=Wn,ee[Se+4]=ee[Se+9]=ee[Se+14]=ee[Se+19]=_e._virtalBoundId,Se+=20}if(Fe.size=ke-Fe.start,s.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(Y.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var Lr=this.shader.attributes,yn=this.vertexBuffers[this.vertexCount]=S.default.GLBuffer.createVertexBuffer(ae,null,ae.STREAM_DRAW),Xn=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(yn,Lr.aVertexPosition,ae.FLOAT,!1,this.vertByteSize,0).addAttribute(yn,Lr.aTextureCoord,ae.UNSIGNED_SHORT,!0,this.vertByteSize,2*4).addAttribute(yn,Lr.aColor,ae.UNSIGNED_BYTE,!0,this.vertByteSize,3*4);Lr.aTextureId&&Xn.addAttribute(yn,Lr.aTextureId,ae.FLOAT,!1,this.vertByteSize,4*4),this.vaos[this.vertexCount]=Xn}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(Y.vertices,0,!1),this.vertexCount++}for(ke=0;ke<W;++ke)ve[ke]._virtalBoundId=-1;for(ke=0;ke<Ce;++ke){for(var At=$[ke],mi=At.textureCount,Tr=0;Tr<mi;Tr++)Te=At.textures[Tr],ve[At.ids[Tr]]!==Te&&this.renderer.bindTexture(Te,At.ids[Tr],!0),Te._virtalBoundId=-1;this.renderer.state.setBlendMode(At.blend),ae.drawElements(ae.TRIANGLES,At.size*6,ae.UNSIGNED_SHORT,At.start*6*2)}this.currentIndex=0}},se.prototype.start=function(){this.renderer.bindShader(this.shader),s.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},se.prototype.stop=function(){this.flush()},se.prototype.destroy=function(){for(var ae=0;ae<this.vaoMax;ae++)this.vertexBuffers[ae]&&this.vertexBuffers[ae].destroy(),this.vaos[ae]&&this.vaos[ae].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),J.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var W=0;W<this.buffers.length;++W)this.buffers[W].destroy()},se}(k.default);E.default=V,b.default.registerPlugin("sprite",V)},1903:(de,E,O)=>{"use strict";E.__esModule=!0,E.default=w;var C=O(2916),k=b(C),g=O(6470);function b(m){return m&&m.__esModule?m:{default:m}}var x=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","%forloop%","gl_FragColor = color * vColor;","}"].join(`
`);function w(m,y){var l=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor;
}
`,o=x;o=o.replace(/%count%/gi,y),o=o.replace(/%forloop%/gi,v(y));for(var d=new k.default(m,l,o),f=[],s=0;s<y;s++)f[s]=s;return d.bind(),d.uniforms.uSamplers=f,d}function v(m){var y="";y+=`
`,y+=`
`;for(var l=0;l<m;l++)l>0&&(y+=`
else `),l<m-1&&(y+="if(vTextureId < "+l+".5)"),y+=`
{`,y+=`
	color = texture2D(uSamplers[`+l+"], vTextureCoord);",y+=`
}`;return y+=`
`,y+=`
`,y}},569:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function B(K,N){for(var V=0;V<N.length;V++){var J=N[V];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(K,J.key,J)}}return function(K,N,V){return N&&B(K.prototype,N),V&&B(K,V),K}}(),k=O(8391),g=S(k),b=O(2631),x=S(b),w=O(892),v=O(7768),m=O(4633),y=O(7505),l=S(y),o=O(2033),d=S(o),f=O(596),s=S(f),p=O(625),_=S(p);function S(B){return B&&B.__esModule?B:{default:B}}function T(B,K){if(!(B instanceof K))throw new TypeError("Cannot call a class as a function")}function M(B,K){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K&&(typeof K=="object"||typeof K=="function")?K:B}function L(B,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);B.prototype=Object.create(K&&K.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(B,K):B.__proto__=K)}var F={texture:!0,children:!1,baseTexture:!0},D=function(B){L(K,B);function K(N,V,J){T(this,K),J=J||document.createElement("canvas"),J.width=3,J.height=3;var se=x.default.fromCanvas(J,l.default.SCALE_MODE,"text");se.orig=new w.Rectangle,se.trim=new w.Rectangle;var ie=M(this,B.call(this,se));return x.default.addToCache(ie._texture,ie._texture.baseTexture.textureCacheIds[0]),ie.canvas=J,ie.context=ie.canvas.getContext("2d"),ie.resolution=l.default.RESOLUTION,ie._text=null,ie._style=null,ie._styleListener=null,ie._font="",ie.text=N,ie.style=V,ie.localStyleID=-1,ie}return K.prototype.updateText=function(V){var J=this._style;if(this.localStyleID!==J.styleID&&(this.dirty=!0,this.localStyleID=J.styleID),!(!this.dirty&&V)){this._font=this._style.toFontString();var se=this.context,ie=s.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),ae=ie.width,W=ie.height,Q=ie.lines,H=ie.lineHeight,Y=ie.lineWidths,Z=ie.maxLineWidth,$=ie.fontProperties;this.canvas.width=Math.ceil((Math.max(1,ae)+J.padding*2)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,W)+J.padding*2)*this.resolution),se.scale(this.resolution,this.resolution),se.clearRect(0,0,this.canvas.width,this.canvas.height),se.font=this._font,se.strokeStyle=J.stroke,se.lineWidth=J.strokeThickness,se.textBaseline=J.textBaseline,se.lineJoin=J.lineJoin,se.miterLimit=J.miterLimit;var ee=void 0,oe=void 0;if(J.dropShadow){se.fillStyle=J.dropShadowColor,se.globalAlpha=J.dropShadowAlpha,se.shadowBlur=J.dropShadowBlur,J.dropShadowBlur>0&&(se.shadowColor=J.dropShadowColor);for(var ge=Math.cos(J.dropShadowAngle)*J.dropShadowDistance,ve=Math.sin(J.dropShadowAngle)*J.dropShadowDistance,we=0;we<Q.length;we++)ee=J.strokeThickness/2,oe=J.strokeThickness/2+we*H+$.ascent,J.align==="right"?ee+=Z-Y[we]:J.align==="center"&&(ee+=(Z-Y[we])/2),J.fill&&(this.drawLetterSpacing(Q[we],ee+ge+J.padding,oe+ve+J.padding),J.stroke&&J.strokeThickness&&(se.strokeStyle=J.dropShadowColor,this.drawLetterSpacing(Q[we],ee+ge+J.padding,oe+ve+J.padding,!0),se.strokeStyle=J.stroke))}se.shadowBlur=0,se.globalAlpha=1,se.fillStyle=this._generateFillStyle(J,Q);for(var Se=0;Se<Q.length;Se++)ee=J.strokeThickness/2,oe=J.strokeThickness/2+Se*H+$.ascent,J.align==="right"?ee+=Z-Y[Se]:J.align==="center"&&(ee+=(Z-Y[Se])/2),J.stroke&&J.strokeThickness&&this.drawLetterSpacing(Q[Se],ee+J.padding,oe+J.padding,!0),J.fill&&this.drawLetterSpacing(Q[Se],ee+J.padding,oe+J.padding);this.updateTexture()}},K.prototype.drawLetterSpacing=function(V,J,se){var ie=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,ae=this._style,W=ae.letterSpacing;if(W===0){ie?this.context.strokeText(V,J,se):this.context.fillText(V,J,se);return}for(var Q=String.prototype.split.call(V,""),H=J,Y=0,Z="",$=this.context.measureText(V).width,ee=0;Y<V.length;)Z=Q[Y++],ie?this.context.strokeText(Z,H,se):this.context.fillText(Z,H,se),ee=this.context.measureText(V.substring(Y)).width,H+=$-ee+W,$=ee},K.prototype.updateTexture=function(){var V=this.canvas;if(this._style.trim){var J=(0,_.default)(V);J.data&&(V.width=J.width,V.height=J.height,this.context.putImageData(J.data,0,0))}var se=this._texture,ie=this._style,ae=ie.trim?0:ie.padding,W=se.baseTexture;W.hasLoaded=!0,W.resolution=this.resolution,W.realWidth=V.width,W.realHeight=V.height,W.width=V.width/this.resolution,W.height=V.height/this.resolution,se.trim.width=se._frame.width=V.width/this.resolution,se.trim.height=se._frame.height=V.height/this.resolution,se.trim.x=-ae,se.trim.y=-ae,se.orig.width=se._frame.width-ae*2,se.orig.height=se._frame.height-ae*2,this._onTextureUpdate(),W.emit("update",W),this.dirty=!1},K.prototype.renderWebGL=function(V){this.resolution!==V.resolution&&(this.resolution=V.resolution,this.dirty=!0),this.updateText(!0),B.prototype.renderWebGL.call(this,V)},K.prototype._renderCanvas=function(V){this.resolution!==V.resolution&&(this.resolution=V.resolution,this.dirty=!0),this.updateText(!0),B.prototype._renderCanvas.call(this,V)},K.prototype.getLocalBounds=function(V){return this.updateText(!0),B.prototype.getLocalBounds.call(this,V)},K.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},K.prototype._onStyleChange=function(){this.dirty=!0},K.prototype._generateFillStyle=function(V,J){if(!Array.isArray(V.fill))return V.fill;if(navigator.isCocoonJS)return V.fill[0];var se=void 0,ie=void 0,ae=void 0,W=void 0,Q=this.canvas.width/this.resolution,H=this.canvas.height/this.resolution,Y=V.fill.slice(),Z=V.fillGradientStops.slice();if(!Z.length)for(var $=Y.length+1,ee=1;ee<$;++ee)Z.push(ee/$);if(Y.unshift(V.fill[0]),Z.unshift(0),Y.push(V.fill[V.fill.length-1]),Z.push(1),V.fillGradientType===m.TEXT_GRADIENT.LINEAR_VERTICAL){se=this.context.createLinearGradient(Q/2,0,Q/2,H),ie=(Y.length+1)*J.length,ae=0;for(var oe=0;oe<J.length;oe++){ae+=1;for(var ge=0;ge<Y.length;ge++)typeof Z[ge]=="number"?W=Z[ge]/J.length+oe/J.length:W=ae/ie,se.addColorStop(W,Y[ge]),ae++}}else{se=this.context.createLinearGradient(0,H/2,Q,H/2),ie=Y.length+1,ae=1;for(var ve=0;ve<Y.length;ve++)typeof Z[ve]=="number"?W=Z[ve]:W=ae/ie,se.addColorStop(W,Y[ve]),ae++}return se},K.prototype.destroy=function(V){typeof V=="boolean"&&(V={children:V}),V=Object.assign({},F,V),B.prototype.destroy.call(this,V),this.context=null,this.canvas=null,this._style=null},C(K,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(V){this.updateText(!0);var J=(0,v.sign)(this.scale.x)||1;this.scale.x=J*V/this._texture.orig.width,this._width=V}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(V){this.updateText(!0);var J=(0,v.sign)(this.scale.y)||1;this.scale.y=J*V/this._texture.orig.height,this._height=V}},{key:"style",get:function(){return this._style},set:function(V){V=V||{},V instanceof d.default?this._style=V:this._style=new d.default(V),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(V){V=String(V===""||V===null||V===void 0?" ":V),this._text!==V&&(this._text=V,this.dirty=!0)}}]),K}(g.default);E.default=D},596:(de,E)=>{"use strict";E.__esModule=!0;function O(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}var C=function(){function g(b,x,w,v,m,y,l,o,d){O(this,g),this.text=b,this.style=x,this.width=w,this.height=v,this.lines=m,this.lineWidths=y,this.lineHeight=l,this.maxLineWidth=o,this.fontProperties=d}return g.measureText=function(x,w,v){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:g._canvas;v=v??w.wordWrap;var y=w.toFontString(),l=g.measureFont(y),o=m.getContext("2d");o.font=y;for(var d=v?g.wordWrap(x,w,m):x,f=d.split(/(?:\r\n|\r|\n)/),s=new Array(f.length),p=0,_=0;_<f.length;_++){var S=o.measureText(f[_]).width+(f[_].length-1)*w.letterSpacing;s[_]=S,p=Math.max(p,S)}var T=p+w.strokeThickness;w.dropShadow&&(T+=w.dropShadowDistance);var M=w.lineHeight||l.fontSize+w.strokeThickness,L=Math.max(M,l.fontSize+w.strokeThickness)+(f.length-1)*(M+w.leading);return w.dropShadow&&(L+=w.dropShadowDistance),new g(x,w,T,L,f,s,M+w.leading,p,l)},g.wordWrap=function(x,w){for(var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g._canvas,m=v.getContext("2d"),y=0,l="",o="",d={},f=w.letterSpacing,s=w.whiteSpace,p=g.collapseSpaces(s),_=g.collapseNewlines(s),S=!p,T=w.wordWrapWidth+f,M=g.tokenize(x),L=0;L<M.length;L++){var F=M[L];if(g.isNewline(F)){if(!_){o+=g.addLine(l),S=!p,l="",y=0;continue}F=" "}if(p){var D=g.isBreakingSpace(F),B=g.isBreakingSpace(l[l.length-1]);if(D&&B)continue}var K=g.getFromCache(F,f,d,m);if(K>T)if(l!==""&&(o+=g.addLine(l),l="",y=0),g.canBreakWords(F,w.breakWords))for(var N=F.split(""),V=0;V<N.length;V++){for(var J=N[V],se=1;N[V+se];){var ie=N[V+se],ae=J[J.length-1];if(!g.canBreakChars(ae,ie,F,V,w.breakWords))J+=ie;else break;se++}V+=J.length-1;var W=g.getFromCache(J,f,d,m);W+y>T&&(o+=g.addLine(l),S=!1,l="",y=0),l+=J,y+=W}else{l.length>0&&(o+=g.addLine(l),l="",y=0);var Q=L===M.length-1;o+=g.addLine(F,!Q),S=!1,l="",y=0}else K+y>T&&(S=!1,o+=g.addLine(l),l="",y=0),(l.length>0||!g.isBreakingSpace(F)||S)&&(l+=F,y+=K)}return o+=g.addLine(l,!1),o},g.addLine=function(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return x=g.trimRight(x),x=w?x+`
`:x,x},g.getFromCache=function(x,w,v,m){var y=v[x];if(y===void 0){var l=x.length*w;y=m.measureText(x).width+l,v[x]=y}return y},g.collapseSpaces=function(x){return x==="normal"||x==="pre-line"},g.collapseNewlines=function(x){return x==="normal"},g.trimRight=function(x){if(typeof x!="string")return"";for(var w=x.length-1;w>=0;w--){var v=x[w];if(!g.isBreakingSpace(v))break;x=x.slice(0,-1)}return x},g.isNewline=function(x){return typeof x!="string"?!1:g._newlines.indexOf(x.charCodeAt(0))>=0},g.isBreakingSpace=function(x){return typeof x!="string"?!1:g._breakingSpaces.indexOf(x.charCodeAt(0))>=0},g.tokenize=function(x){var w=[],v="";if(typeof x!="string")return w;for(var m=0;m<x.length;m++){var y=x[m];if(g.isBreakingSpace(y)||g.isNewline(y)){v!==""&&(w.push(v),v=""),w.push(y);continue}v+=y}return v!==""&&w.push(v),w},g.canBreakWords=function(x,w){return w},g.canBreakChars=function(x,w,v,m,y){return!0},g.measureFont=function(x){if(g._fonts[x])return g._fonts[x];var w={},v=g._canvas,m=g._context;m.font=x;var y=g.METRICS_STRING+g.BASELINE_SYMBOL,l=Math.ceil(m.measureText(y).width),o=Math.ceil(m.measureText(g.BASELINE_SYMBOL).width),d=2*o;o=o*g.BASELINE_MULTIPLIER|0,v.width=l,v.height=d,m.fillStyle="#f00",m.fillRect(0,0,l,d),m.font=x,m.textBaseline="alphabetic",m.fillStyle="#000",m.fillText(y,0,o);var f=m.getImageData(0,0,l,d).data,s=f.length,p=l*4,_=0,S=0,T=!1;for(_=0;_<o;++_){for(var M=0;M<p;M+=4)if(f[S+M]!==255){T=!0;break}if(!T)S+=p;else break}for(w.ascent=o-_,S=s-p,T=!1,_=d;_>o;--_){for(var L=0;L<p;L+=4)if(f[S+L]!==255){T=!0;break}if(!T)S-=p;else break}return w.descent=_-o,w.fontSize=w.ascent+w.descent,g._fonts[x]=w,w},g.clearMetrics=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";x?delete g._fonts[x]:g._fonts={}},g}();E.default=C;var k=document.createElement("canvas");k.width=k.height=10,C._canvas=k,C._context=k.getContext("2d"),C._fonts={},C.METRICS_STRING="|\xC9q",C.BASELINE_SYMBOL="M",C.BASELINE_MULTIPLIER=1.4,C._newlines=[10,13],C._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},2033:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function d(f,s){for(var p=0;p<s.length;p++){var _=s[p];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(f,_.key,_)}}return function(f,s,p){return s&&d(f.prototype,s),p&&d(f,p),f}}(),k=O(4633),g=O(7768);function b(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}var x={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:k.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},w=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],v=function(){function d(f){b(this,d),this.styleID=0,this.reset(),o(this,f,f)}return d.prototype.clone=function(){var s={};return o(s,this,x),new d(s)},d.prototype.reset=function(){o(this,x,x)},d.prototype.toFontString=function(){var s=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,p=this.fontFamily;Array.isArray(this.fontFamily)||(p=this.fontFamily.split(","));for(var _=p.length-1;_>=0;_--){var S=p[_].trim();!/([\"\'])[^\'\"]+\1/.test(S)&&w.indexOf(S)<0&&(S='"'+S+'"'),p[_]=S}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+s+" "+p.join(",")},C(d,[{key:"align",get:function(){return this._align},set:function(s){this._align!==s&&(this._align=s,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(s){this._breakWords!==s&&(this._breakWords=s,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(s){this._dropShadow!==s&&(this._dropShadow=s,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(s){this._dropShadowAlpha!==s&&(this._dropShadowAlpha=s,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(s){this._dropShadowAngle!==s&&(this._dropShadowAngle=s,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(s){this._dropShadowBlur!==s&&(this._dropShadowBlur=s,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(s){var p=y(s);this._dropShadowColor!==p&&(this._dropShadowColor=p,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(s){this._dropShadowDistance!==s&&(this._dropShadowDistance=s,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(s){var p=y(s);this._fill!==p&&(this._fill=p,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(s){this._fillGradientType!==s&&(this._fillGradientType=s,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(s){l(this._fillGradientStops,s)||(this._fillGradientStops=s,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(s){this.fontFamily!==s&&(this._fontFamily=s,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(s){this._fontSize!==s&&(this._fontSize=s,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(s){this._fontStyle!==s&&(this._fontStyle=s,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(s){this._fontVariant!==s&&(this._fontVariant=s,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(s){this._fontWeight!==s&&(this._fontWeight=s,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(s){this._letterSpacing!==s&&(this._letterSpacing=s,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(s){this._lineHeight!==s&&(this._lineHeight=s,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(s){this._leading!==s&&(this._leading=s,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(s){this._lineJoin!==s&&(this._lineJoin=s,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(s){this._miterLimit!==s&&(this._miterLimit=s,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(s){this._padding!==s&&(this._padding=s,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(s){var p=y(s);this._stroke!==p&&(this._stroke=p,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(s){this._strokeThickness!==s&&(this._strokeThickness=s,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(s){this._textBaseline!==s&&(this._textBaseline=s,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(s){this._trim!==s&&(this._trim=s,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(s){this._whiteSpace!==s&&(this._whiteSpace=s,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(s){this._wordWrap!==s&&(this._wordWrap=s,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(s){this._wordWrapWidth!==s&&(this._wordWrapWidth=s,this.styleID++)}}]),d}();E.default=v;function m(d){return typeof d=="number"?(0,g.hex2string)(d):(typeof d=="string"&&d.indexOf("0x")===0&&(d=d.replace("0x","#")),d)}function y(d){if(Array.isArray(d)){for(var f=0;f<d.length;++f)d[f]=m(d[f]);return d}else return m(d)}function l(d,f){if(!Array.isArray(d)||!Array.isArray(f)||d.length!==f.length)return!1;for(var s=0;s<d.length;++s)if(d[s]!==f[s])return!1;return!0}function o(d,f,s){for(var p in s)Array.isArray(f[p])?d[p]=f[p].slice():d[p]=f[p]}},4566:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(9067),k=x(C),g=O(7505),b=x(g);function x(l){return l&&l.__esModule?l:{default:l}}function w(l,o){if(!(l instanceof o))throw new TypeError("Cannot call a class as a function")}function v(l,o){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:l}function m(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);l.prototype=Object.create(o&&o.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(l,o):l.__proto__=o)}var y=function(l){m(o,l);function o(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,s=arguments[2],p=arguments[3];w(this,o);var _=v(this,l.call(this,null,s));return _.resolution=p||b.default.RESOLUTION,_.width=Math.ceil(d),_.height=Math.ceil(f),_.realWidth=_.width*_.resolution,_.realHeight=_.height*_.resolution,_.scaleMode=s!==void 0?s:b.default.SCALE_MODE,_.hasLoaded=!0,_._glRenderTargets={},_._canvasRenderTarget=null,_.valid=!1,_}return o.prototype.resize=function(f,s){f=Math.ceil(f),s=Math.ceil(s),!(f===this.width&&s===this.height)&&(this.valid=f>0&&s>0,this.width=f,this.height=s,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,!!this.valid&&this.emit("update",this))},o.prototype.destroy=function(){l.prototype.destroy.call(this,!0),this.renderer=null},o}(k.default);E.default=y},9067:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(7768),k=O(7505),g=l(k),b=O(5323),x=l(b),w=O(1606),v=l(w),m=O(746),y=l(m);function l(p){return p&&p.__esModule?p:{default:p}}function o(p,_){if(!(p instanceof _))throw new TypeError("Cannot call a class as a function")}function d(p,_){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:p}function f(p,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);p.prototype=Object.create(_&&_.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(p,_):p.__proto__=_)}var s=function(p){f(_,p);function _(S,T,M){o(this,_);var L=d(this,p.call(this));return L.uid=(0,C.uid)(),L.touched=0,L.resolution=M||g.default.RESOLUTION,L.width=100,L.height=100,L.realWidth=100,L.realHeight=100,L.scaleMode=T!==void 0?T:g.default.SCALE_MODE,L.hasLoaded=!1,L.isLoading=!1,L.source=null,L.origSource=null,L.imageType=null,L.sourceScale=1,L.premultipliedAlpha=!0,L.imageUrl=null,L.isPowerOfTwo=!1,L.mipmap=g.default.MIPMAP_TEXTURES,L.wrapMode=g.default.WRAP_MODE,L._glTextures={},L._enabled=0,L._virtalBoundId=-1,L._destroyed=!1,L.textureCacheIds=[],S&&L.loadSource(S),L}return _.prototype.update=function(){this.imageType!=="svg"&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},_.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=y.default.isPow2(this.realWidth)&&y.default.isPow2(this.realHeight)},_.prototype.loadSource=function(T){var M=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,M&&this.source&&(this.source.onload=null,this.source.onerror=null);var L=!this.source;if(this.source=T,(T.src&&T.complete||T.getContext)&&T.width&&T.height)this._updateImageType(),this.imageType==="svg"?this._loadSvgSource():this._sourceLoaded(),L&&this.emit("loaded",this);else if(!T.getContext){this.isLoading=!0;var F=this;if(T.onload=function(){if(F._updateImageType(),T.onload=null,T.onerror=null,!!F.isLoading){if(F.isLoading=!1,F._sourceLoaded(),F.imageType==="svg"){F._loadSvgSource();return}F.emit("loaded",F)}},T.onerror=function(){T.onload=null,T.onerror=null,!!F.isLoading&&(F.isLoading=!1,F.emit("error",F))},T.complete&&T.src){if(T.onload=null,T.onerror=null,F.imageType==="svg"){F._loadSvgSource();return}this.isLoading=!1,T.width&&T.height?(this._sourceLoaded(),M&&this.emit("loaded",this)):M&&this.emit("error",this)}}},_.prototype._updateImageType=function(){if(!!this.imageUrl){var T=(0,C.decomposeDataUri)(this.imageUrl),M=void 0;if(T&&T.mediaType==="image"){var L=T.subType.split("+")[0];if(M=(0,C.getUrlFileExtension)("."+L),!M)throw new Error("Invalid image type in data URI.")}else M=(0,C.getUrlFileExtension)(this.imageUrl),M||(M="png");this.imageType=M}},_.prototype._loadSvgSource=function(){if(this.imageType==="svg"){var T=(0,C.decomposeDataUri)(this.imageUrl);T?this._loadSvgSourceUsingDataUri(T):this._loadSvgSourceUsingXhr()}},_.prototype._loadSvgSourceUsingDataUri=function(T){var M=void 0;if(T.encoding==="base64"){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");M=atob(T.data)}else M=T.data;this._loadSvgSourceUsingString(M)},_.prototype._loadSvgSourceUsingXhr=function(){var T=this,M=new XMLHttpRequest;M.onload=function(){if(M.readyState!==M.DONE||M.status!==200)throw new Error("Failed to load SVG using XHR.");T._loadSvgSourceUsingString(M.response)},M.onerror=function(){return T.emit("error",T)},M.open("GET",this.imageUrl,!0),M.send()},_.prototype._loadSvgSourceUsingString=function(T){var M=(0,C.getSvgSize)(T),L=M.width,F=M.height;if(!L||!F)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(L*this.sourceScale),this.realHeight=Math.round(F*this.sourceScale),this._updateDimensions();var D=document.createElement("canvas");D.width=this.realWidth,D.height=this.realHeight,D._pixiId="canvas_"+(0,C.uid)(),D.getContext("2d").drawImage(this.source,0,0,L,F,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=D,_.addToCache(this,D._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},_.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},_.prototype.destroy=function(){this.imageUrl&&(delete C.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),_.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},_.prototype.dispose=function(){this.emit("dispose",this)},_.prototype.updateSourceImage=function(T){this.source.src=T,this.loadSource(this.source)},_.fromImage=function(T,M,L,F){var D=C.BaseTextureCache[T];if(!D){var B=new Image;M===void 0&&T.indexOf("data:")!==0?B.crossOrigin=(0,v.default)(T):M&&(B.crossOrigin=typeof M=="string"?M:"anonymous"),D=new _(B,L),D.imageUrl=T,F&&(D.sourceScale=F),D.resolution=(0,C.getResolutionOfUrl)(T),B.src=T,_.addToCache(D,T)}return D},_.fromCanvas=function(T,M){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas";T._pixiId||(T._pixiId=L+"_"+(0,C.uid)());var F=C.BaseTextureCache[T._pixiId];return F||(F=new _(T,M),_.addToCache(F,T._pixiId)),F},_.from=function(T,M,L){if(typeof T=="string")return _.fromImage(T,void 0,M,L);if(T instanceof HTMLImageElement){var F=T.src,D=C.BaseTextureCache[F];return D||(D=new _(T,M),D.imageUrl=F,L&&(D.sourceScale=L),D.resolution=(0,C.getResolutionOfUrl)(F),_.addToCache(D,F)),D}else if(T instanceof HTMLCanvasElement)return _.fromCanvas(T,M);return T},_.addToCache=function(T,M){M&&(T.textureCacheIds.indexOf(M)===-1&&T.textureCacheIds.push(M),C.BaseTextureCache[M]&&console.warn("BaseTexture added to the cache with an id ["+M+"] that already had an entry"),C.BaseTextureCache[M]=T)},_.removeFromCache=function(T){if(typeof T=="string"){var M=C.BaseTextureCache[T];if(M){var L=M.textureCacheIds.indexOf(T);return L>-1&&M.textureCacheIds.splice(L,1),delete C.BaseTextureCache[T],M}}else if(T&&T.textureCacheIds){for(var F=0;F<T.textureCacheIds.length;++F)delete C.BaseTextureCache[T.textureCacheIds[F]];return T.textureCacheIds.length=0,T}return null},_}(x.default);E.default=s},869:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(4566),k=x(C),g=O(2631),b=x(g);function x(l){return l&&l.__esModule?l:{default:l}}function w(l,o){if(!(l instanceof o))throw new TypeError("Cannot call a class as a function")}function v(l,o){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:l}function m(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);l.prototype=Object.create(o&&o.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(l,o):l.__proto__=o)}var y=function(l){m(o,l);function o(d,f){w(this,o);var s=null;if(!(d instanceof k.default)){var p=arguments[1],_=arguments[2],S=arguments[3],T=arguments[4];console.warn("Please use RenderTexture.create("+p+", "+_+") instead of the ctor directly."),s=arguments[0],f=null,d=new k.default(p,_,S,T)}var M=v(this,l.call(this,d,f));return M.legacyRenderer=s,M.valid=!0,M._updateUvs(),M}return o.prototype.resize=function(f,s,p){f=Math.ceil(f),s=Math.ceil(s),this.valid=f>0&&s>0,this._frame.width=this.orig.width=f,this._frame.height=this.orig.height=s,p||this.baseTexture.resize(f,s),this._updateUvs()},o.create=function(f,s,p,_){return new o(new k.default(f,s,p,_))},o}(b.default);E.default=y},3042:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function w(v,m){for(var y=0;y<m.length;y++){var l=m[y];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(v,l.key,l)}}return function(v,m,y){return m&&w(v.prototype,m),y&&w(v,y),v}}(),k=O(2321),g=O(7768);function b(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}var x=function(){C(w,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]);function w(v,m){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;b(this,w),this.baseTexture=v,this.textures={},this.animations={},this.data=m,this.resolution=this._updateResolution(y||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return w.prototype._updateResolution=function(m){var y=this.data.meta.scale,l=(0,g.getResolutionOfUrl)(m,null);return l===null&&(l=y!==void 0?parseFloat(y):1),l!==1&&(this.baseTexture.resolution=l,this.baseTexture.update()),l},w.prototype.parse=function(m){this._batchIndex=0,this._callback=m,this._frameKeys.length<=w.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},w.prototype._processFrames=function(m){for(var y=m,l=w.BATCH_SIZE,o=this.baseTexture.sourceScale;y-m<l&&y<this._frameKeys.length;){var d=this._frameKeys[y],f=this._frames[d],s=f.frame;if(s){var p=null,_=null,S=f.trimmed!==!1&&f.sourceSize?f.sourceSize:f.frame,T=new k.Rectangle(0,0,Math.floor(S.w*o)/this.resolution,Math.floor(S.h*o)/this.resolution);f.rotated?p=new k.Rectangle(Math.floor(s.x*o)/this.resolution,Math.floor(s.y*o)/this.resolution,Math.floor(s.h*o)/this.resolution,Math.floor(s.w*o)/this.resolution):p=new k.Rectangle(Math.floor(s.x*o)/this.resolution,Math.floor(s.y*o)/this.resolution,Math.floor(s.w*o)/this.resolution,Math.floor(s.h*o)/this.resolution),f.trimmed!==!1&&f.spriteSourceSize&&(_=new k.Rectangle(Math.floor(f.spriteSourceSize.x*o)/this.resolution,Math.floor(f.spriteSourceSize.y*o)/this.resolution,Math.floor(s.w*o)/this.resolution,Math.floor(s.h*o)/this.resolution)),this.textures[d]=new k.Texture(this.baseTexture,p,T,_,f.rotated?2:0,f.anchor),k.Texture.addToCache(this.textures[d],d)}y++}},w.prototype._processAnimations=function(){var m=this.data.animations||{};for(var y in m){this.animations[y]=[];for(var l=m[y],o=Array.isArray(l),d=0,l=o?l:l[Symbol.iterator]();;){var f;if(o){if(d>=l.length)break;f=l[d++]}else{if(d=l.next(),d.done)break;f=d.value}var s=f;this.animations[y].push(this.textures[s])}}},w.prototype._parseComplete=function(){var m=this._callback;this._callback=null,this._batchIndex=0,m.call(this,this.textures)},w.prototype._nextBatch=function(){var m=this;this._processFrames(this._batchIndex*w.BATCH_SIZE),this._batchIndex++,setTimeout(function(){m._batchIndex*w.BATCH_SIZE<m._frameKeys.length?m._nextBatch():(m._processAnimations(),m._parseComplete())},0)},w.prototype.destroy=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;for(var y in this.textures)this.textures[y].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,m&&this.baseTexture.destroy(),this.baseTexture=null},w}();E.default=x},2631:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function F(D,B){for(var K=0;K<B.length;K++){var N=B[K];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(D,N.key,N)}}return function(D,B,K){return B&&F(D.prototype,B),K&&F(D,K),D}}(),k=O(9067),g=s(k),b=O(8581),x=s(b),w=O(4368),v=s(w),m=O(5323),y=s(m),l=O(892),o=O(7768),d=O(7505),f=s(d);function s(F){return F&&F.__esModule?F:{default:F}}function p(F,D){if(!(F instanceof D))throw new TypeError("Cannot call a class as a function")}function _(F,D){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:F}function S(F,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);F.prototype=Object.create(D&&D.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(F,D):F.__proto__=D)}var T=function(F){S(D,F);function D(B,K,N,V,J,se){p(this,D);var ie=_(this,F.call(this));if(ie.noFrame=!1,K||(ie.noFrame=!0,K=new l.Rectangle(0,0,1,1)),B instanceof D&&(B=B.baseTexture),ie.baseTexture=B,ie._frame=K,ie.trim=V,ie.valid=!1,ie.requiresUpdate=!1,ie._uvs=null,ie.orig=N||K,ie._rotate=Number(J||0),J===!0)ie._rotate=2;else if(ie._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return B.hasLoaded?(ie.noFrame&&(K=new l.Rectangle(0,0,B.width,B.height),B.on("update",ie.onBaseTextureUpdated,ie)),ie.frame=K):B.once("loaded",ie.onBaseTextureLoaded,ie),ie.defaultAnchor=se?new l.Point(se.x,se.y):new l.Point(0,0),ie._updateID=0,ie.transform=null,ie.textureCacheIds=[],ie}return D.prototype.update=function(){this.baseTexture.update()},D.prototype.onBaseTextureLoaded=function(K){this._updateID++,this.noFrame?this.frame=new l.Rectangle(0,0,K.width,K.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},D.prototype.onBaseTextureUpdated=function(K){this._updateID++,this._frame.width=K.width,this._frame.height=K.height,this.emit("update",this)},D.prototype.destroy=function(K){this.baseTexture&&(K&&(o.TextureCache[this.baseTexture.imageUrl]&&D.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,D.removeFromCache(this),this.textureCacheIds=null},D.prototype.clone=function(){return new D(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},D.prototype._updateUvs=function(){this._uvs||(this._uvs=new v.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},D.fromImage=function(K,N,V,J){var se=o.TextureCache[K];return se||(se=new D(g.default.fromImage(K,N,V,J)),D.addToCache(se,K)),se},D.fromFrame=function(K){var N=o.TextureCache[K];if(!N)throw new Error('The frameId "'+K+'" does not exist in the texture cache');return N},D.fromCanvas=function(K,N){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas";return new D(g.default.fromCanvas(K,N,V))},D.fromVideo=function(K,N,V,J){return typeof K=="string"?D.fromVideoUrl(K,N,V,J):new D(x.default.fromVideo(K,N,J))},D.fromVideoUrl=function(K,N,V,J){return new D(x.default.fromUrl(K,N,V,J))},D.from=function(K){if(typeof K=="string"){var N=o.TextureCache[K];if(!N){var V=K.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)!==null;return V?D.fromVideoUrl(K):D.fromImage(K)}return N}else{if(K instanceof HTMLImageElement)return new D(g.default.from(K));if(K instanceof HTMLCanvasElement)return D.fromCanvas(K,f.default.SCALE_MODE,"HTMLCanvasElement");if(K instanceof HTMLVideoElement)return D.fromVideo(K);if(K instanceof g.default)return new D(K)}return K},D.fromLoader=function(K,N,V){var J=new g.default(K,void 0,(0,o.getResolutionOfUrl)(N)),se=new D(J);return J.imageUrl=N,V||(V=N),g.default.addToCache(se.baseTexture,V),D.addToCache(se,V),V!==N&&(g.default.addToCache(se.baseTexture,N),D.addToCache(se,N)),se},D.addToCache=function(K,N){N&&(K.textureCacheIds.indexOf(N)===-1&&K.textureCacheIds.push(N),o.TextureCache[N]&&console.warn("Texture added to the cache with an id ["+N+"] that already had an entry"),o.TextureCache[N]=K)},D.removeFromCache=function(K){if(typeof K=="string"){var N=o.TextureCache[K];if(N){var V=N.textureCacheIds.indexOf(K);return V>-1&&N.textureCacheIds.splice(V,1),delete o.TextureCache[K],N}}else if(K&&K.textureCacheIds){for(var J=0;J<K.textureCacheIds.length;++J)o.TextureCache[K.textureCacheIds[J]]===K&&delete o.TextureCache[K.textureCacheIds[J]];return K.textureCacheIds.length=0,K}return null},C(D,[{key:"frame",get:function(){return this._frame},set:function(K){this._frame=K,this.noFrame=!1;var N=K.x,V=K.y,J=K.width,se=K.height,ie=N+J>this.baseTexture.width,ae=V+se>this.baseTexture.height;if(ie||ae){var W=ie&&ae?"and":"or",Q="X: "+N+" + "+J+" = "+(N+J)+" > "+this.baseTexture.width,H="Y: "+V+" + "+se+" = "+(V+se)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(Q+" "+W+" "+H))}this.valid=J&&se&&this.baseTexture.hasLoaded,!this.trim&&!this.rotate&&(this.orig=K),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(K){this._rotate=K,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),D}(y.default);E.default=T;function M(){var F=document.createElement("canvas");F.width=10,F.height=10;var D=F.getContext("2d");return D.fillStyle="white",D.fillRect(0,0,10,10),new T(new g.default(F))}function L(F){F.destroy=function(){},F.on=function(){},F.once=function(){},F.emit=function(){}}T.EMPTY=new T(new g.default),L(T.EMPTY),L(T.EMPTY.baseTexture),T.WHITE=M(),L(T.WHITE),L(T.WHITE.baseTexture)},9673:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function m(y,l){for(var o=0;o<l.length;o++){var d=l[o];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(y,d.key,d)}}return function(y,l,o){return l&&m(y.prototype,l),o&&m(y,o),y}}(),k=O(6724),g=b(k);function b(m){return m&&m.__esModule?m:{default:m}}function x(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}var w=new g.default,v=function(){function m(y,l){x(this,m),this._texture=y,this.mapCoord=new g.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=typeof l=="undefined"?.5:l}return m.prototype.multiplyUvs=function(l,o){o===void 0&&(o=l);for(var d=this.mapCoord,f=0;f<l.length;f+=2){var s=l[f],p=l[f+1];o[f]=s*d.a+p*d.c+d.tx,o[f+1]=s*d.b+p*d.d+d.ty}return o},m.prototype.update=function(l){var o=this._texture;if(!o||!o.valid||!l&&this._lastTextureID===o._updateID)return!1;this._lastTextureID=o._updateID;var d=o._uvs;this.mapCoord.set(d.x1-d.x0,d.y1-d.y0,d.x3-d.x0,d.y3-d.y0,d.x0,d.y0);var f=o.orig,s=o.trim;s&&(w.set(f.width/s.width,0,0,f.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(w));var p=o.baseTexture,_=this.uClampFrame,S=this.clampMargin/p.resolution,T=this.clampOffset;return _[0]=(o._frame.x+S+T)/p.width,_[1]=(o._frame.y+S+T)/p.height,_[2]=(o._frame.x+o._frame.width-S+T)/p.width,_[3]=(o._frame.y+o._frame.height-S+T)/p.height,this.uClampOffset[0]=T/p.realWidth,this.uClampOffset[1]=T/p.realHeight,!0},C(m,[{key:"texture",get:function(){return this._texture},set:function(l){this._texture=l,this._lastTextureID=-1}}]),m}();E.default=v},4368:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(7616),k=g(C);function g(w){return w&&w.__esModule?w:{default:w}}function b(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}var x=function(){function w(){b(this,w),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return w.prototype.set=function(m,y,l){var o=y.width,d=y.height;if(l){var f=m.width/2/o,s=m.height/2/d,p=m.x/o+f,_=m.y/d+s;l=k.default.add(l,k.default.NW),this.x0=p+f*k.default.uX(l),this.y0=_+s*k.default.uY(l),l=k.default.add(l,2),this.x1=p+f*k.default.uX(l),this.y1=_+s*k.default.uY(l),l=k.default.add(l,2),this.x2=p+f*k.default.uX(l),this.y2=_+s*k.default.uY(l),l=k.default.add(l,2),this.x3=p+f*k.default.uX(l),this.y3=_+s*k.default.uY(l)}else this.x0=m.x/o,this.y0=m.y/d,this.x1=(m.x+m.width)/o,this.y1=m.y/d,this.x2=(m.x+m.width)/o,this.y2=(m.y+m.height)/d,this.x3=m.x/o,this.y3=(m.y+m.height)/d;this.uvsUint32[0]=(Math.round(this.y0*65535)&65535)<<16|Math.round(this.x0*65535)&65535,this.uvsUint32[1]=(Math.round(this.y1*65535)&65535)<<16|Math.round(this.x1*65535)&65535,this.uvsUint32[2]=(Math.round(this.y2*65535)&65535)<<16|Math.round(this.x2*65535)&65535,this.uvsUint32[3]=(Math.round(this.y3*65535)&65535)<<16|Math.round(this.x3*65535)&65535},w}();E.default=x},8581:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function p(_,S){for(var T=0;T<S.length;T++){var M=S[T];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}return function(_,S,T){return S&&p(_.prototype,S),T&&p(_,T),_}}(),k=O(9067),g=y(k),b=O(7768),x=O(938),w=O(4633),v=O(1606),m=y(v);function y(p){return p&&p.__esModule?p:{default:p}}function l(p,_){if(!(p instanceof _))throw new TypeError("Cannot call a class as a function")}function o(p,_){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:p}function d(p,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);p.prototype=Object.create(_&&_.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(p,_):p.__proto__=_)}var f=function(p){d(_,p);function _(S,T){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(l(this,_),!S)throw new Error("No video source element specified.");(S.readyState===S.HAVE_ENOUGH_DATA||S.readyState===S.HAVE_FUTURE_DATA)&&S.width&&S.height&&(S.complete=!0);var L=o(this,p.call(this,S,T));return L.width=S.videoWidth,L.height=S.videoHeight,L._autoUpdate=!0,L._isAutoUpdating=!1,L.autoPlay=M,L.update=L.update.bind(L),L._onCanPlay=L._onCanPlay.bind(L),S.addEventListener("play",L._onPlayStart.bind(L)),S.addEventListener("pause",L._onPlayStop.bind(L)),L.hasLoaded=!1,L.__loaded=!1,L._isSourceReady()?L._onCanPlay():(S.addEventListener("canplay",L._onCanPlay),S.addEventListener("canplaythrough",L._onCanPlay)),L}return _.prototype._isSourcePlaying=function(){var T=this.source;return T.currentTime>0&&T.paused===!1&&T.ended===!1&&T.readyState>2},_.prototype._isSourceReady=function(){return this.source.readyState===3||this.source.readyState===4},_.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(x.shared.add(this.update,this,w.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},_.prototype._onPlayStop=function(){this._isAutoUpdating&&(x.shared.remove(this.update,this),this._isAutoUpdating=!1)},_.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},_.prototype.destroy=function(){this._isAutoUpdating&&x.shared.remove(this.update,this),this.source&&this.source._pixiId&&(g.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),p.prototype.destroy.call(this)},_.fromVideo=function(T,M,L){T._pixiId||(T._pixiId="video_"+(0,b.uid)());var F=b.BaseTextureCache[T._pixiId];return F||(F=new _(T,M,L),g.default.addToCache(F,T._pixiId)),F},_.fromUrl=function(T,M,L,F){var D=document.createElement("video");D.setAttribute("webkit-playsinline",""),D.setAttribute("playsinline","");var B=Array.isArray(T)?T[0].src||T[0]:T.src||T;if(L===void 0&&B.indexOf("data:")!==0?D.crossOrigin=(0,m.default)(B):L&&(D.crossOrigin=typeof L=="string"?L:"anonymous"),Array.isArray(T))for(var K=0;K<T.length;++K)D.appendChild(s(T[K].src||T[K],T[K].mime));else D.appendChild(s(B,T.mime));return D.load(),_.fromVideo(D,M,F)},C(_,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(T){T!==this._autoUpdate&&(this._autoUpdate=T,!this._autoUpdate&&this._isAutoUpdating?(x.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(x.shared.add(this.update,this,w.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),_}(g.default);E.default=f,f.fromUrls=f.fromUrl;function s(p,_){if(!_){var S=p.split("?").shift().toLowerCase();_="video/"+S.substr(S.lastIndexOf(".")+1)}var T=document.createElement("source");return T.src=p,T.type=_,T}},4153:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function l(o,d){for(var f=0;f<d.length;f++){var s=d[f];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,s.key,s)}}return function(o,d,f){return d&&l(o.prototype,d),f&&l(o,f),o}}(),k=O(7505),g=v(k),b=O(4633),x=O(2716),w=v(x);function v(l){return l&&l.__esModule?l:{default:l}}function m(l,o){if(!(l instanceof o))throw new TypeError("Cannot call a class as a function")}var y=function(){function l(){var o=this;m(this,l),this._head=new w.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/g.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(d){o._requestId=null,o.started&&(o.update(d),o.started&&o._requestId===null&&o._head.next&&(o._requestId=requestAnimationFrame(o._tick)))}}return l.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},l.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},l.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},l.prototype.add=function(d,f){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.UPDATE_PRIORITY.NORMAL;return this._addListener(new w.default(d,f,s))},l.prototype.addOnce=function(d,f){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.UPDATE_PRIORITY.NORMAL;return this._addListener(new w.default(d,f,s,!0))},l.prototype._addListener=function(d){var f=this._head.next,s=this._head;if(!f)d.connect(s);else{for(;f;){if(d.priority>f.priority){d.connect(s);break}s=f,f=f.next}d.previous||d.connect(s)}return this._startIfPossible(),this},l.prototype.remove=function(d,f){for(var s=this._head.next;s;)s.match(d,f)?s=s.destroy():s=s.next;return this._head.next||this._cancelIfNeeded(),this},l.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},l.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},l.prototype.destroy=function(){this.stop();for(var d=this._head.next;d;)d=d.destroy(!0);this._head.destroy(),this._head=null},l.prototype.update=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:performance.now(),f=void 0;if(d>this.lastTime){f=this.elapsedMS=d-this.lastTime,f>this._maxElapsedMS&&(f=this._maxElapsedMS),this.deltaTime=f*g.default.TARGET_FPMS*this.speed;for(var s=this._head,p=s.next;p;)p=p.emit(this.deltaTime);s.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=d},C(l,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(d){var f=Math.min(Math.max(0,d)/1e3,g.default.TARGET_FPMS);this._maxElapsedMS=1/f}}]),l}();E.default=y},2716:(de,E)=>{"use strict";E.__esModule=!0;function O(k,g){if(!(k instanceof g))throw new TypeError("Cannot call a class as a function")}var C=function(){function k(g){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;O(this,k),this.fn=g,this.context=b,this.priority=x,this.once=w,this.next=null,this.previous=null,this._destroyed=!1}return k.prototype.match=function(b,x){return x=x||null,this.fn===b&&this.context===x},k.prototype.emit=function(b){this.fn&&(this.context?this.fn.call(this.context,b):this.fn(b));var x=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),x},k.prototype.connect=function(b){this.previous=b,b.next&&(b.next.previous=this),this.next=b.next,b.next=this},k.prototype.destroy=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var x=this.next;return this.next=b?null:x,this.previous=null,x},k}();E.default=C},938:(de,E,O)=>{"use strict";E.__esModule=!0,E.Ticker=E.shared=void 0;var C=O(4153),k=g(C);function g(x){return x&&x.__esModule?x:{default:x}}var b=new k.default;b.autoStart=!0,b.destroy=function(){},E.shared=b,E.Ticker=k.default},9681:(de,E)=>{"use strict";E.__esModule=!0,E.default=O;function O(){var C=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);return!C}},4014:(de,E)=>{"use strict";E.__esModule=!0,E.default=O;function O(C){for(var k=C*6,g=new Uint16Array(k),b=0,x=0;b<k;b+=6,x+=4)g[b+0]=x+0,g[b+1]=x+1,g[b+2]=x+2,g[b+3]=x+0,g[b+4]=x+2,g[b+5]=x+3;return g}},1606:(de,E,O)=>{"use strict";E.__esModule=!0,E.default=x;var C=O(8575),k=g(C);function g(w){return w&&w.__esModule?w:{default:w}}var b=void 0;function x(w){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window.location;if(w.indexOf("data:")===0)return"";v=v||window.location,b||(b=document.createElement("a")),b.href=w,w=k.default.parse(b.href);var m=!w.port&&v.port===""||w.port===v.port;return w.hostname!==v.hostname||!m||w.protocol!==v.protocol?"anonymous":""}},7768:(de,E,O)=>{"use strict";E.__esModule=!0,E.premultiplyBlendMode=E.BaseTextureCache=E.TextureCache=E.earcut=E.mixins=E.pluginTarget=E.EventEmitter=E.removeItems=E.isMobile=void 0,E.uid=D,E.hex2rgb=B,E.hex2string=K,E.rgb2hex=N,E.getResolutionOfUrl=V,E.decomposeDataUri=J,E.getUrlFileExtension=se,E.getSvgSize=ie,E.skipHello=ae,E.sayHello=W,E.isWebGLSupported=Q,E.sign=H,E.destroyTextureCache=$,E.clearTextureCache=ee,E.correctBlendMode=ge,E.premultiplyTint=ve,E.premultiplyRgba=we,E.premultiplyTintToRgba=Se;var C=O(4633),k=O(7505),g=M(k),b=O(5323),x=M(b),w=O(3278),v=M(w),m=O(457),y=T(m),l=O(7561),o=T(l),d=O(7069),f=M(d),s=O(6507),p=M(s),_=O(9187),S=M(_);function T(_e){if(_e&&_e.__esModule)return _e;var Te={};if(_e!=null)for(var Ce in _e)Object.prototype.hasOwnProperty.call(_e,Ce)&&(Te[Ce]=_e[Ce]);return Te.default=_e,Te}function M(_e){return _e&&_e.__esModule?_e:{default:_e}}var L=0,F=!1;E.isMobile=o,E.removeItems=f.default,E.EventEmitter=x.default,E.pluginTarget=v.default,E.mixins=y,E.earcut=S.default;function D(){return++L}function B(_e,Te){return Te=Te||[],Te[0]=(_e>>16&255)/255,Te[1]=(_e>>8&255)/255,Te[2]=(_e&255)/255,Te}function K(_e){return _e=_e.toString(16),_e="000000".substr(0,6-_e.length)+_e,"#"+_e}function N(_e){return(_e[0]*255<<16)+(_e[1]*255<<8)+(_e[2]*255|0)}function V(_e,Te){var Ce=g.default.RETINA_PREFIX.exec(_e);return Ce?parseFloat(Ce[1]):Te!==void 0?Te:1}function J(_e){var Te=C.DATA_URI.exec(_e);if(Te)return{mediaType:Te[1]?Te[1].toLowerCase():void 0,subType:Te[2]?Te[2].toLowerCase():void 0,charset:Te[3]?Te[3].toLowerCase():void 0,encoding:Te[4]?Te[4].toLowerCase():void 0,data:Te[5]}}function se(_e){var Te=C.URL_FILE_EXTENSION.exec(_e);if(Te)return Te[1].toLowerCase()}function ie(_e){var Te=C.SVG_SIZE.exec(_e),Ce={};return Te&&(Ce[Te[1]]=Math.round(parseFloat(Te[3])),Ce[Te[5]]=Math.round(parseFloat(Te[7]))),Ce}function ae(){F=!0}function W(_e){if(!F){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var Te=[`
 %c %c %c PixiJS `+C.VERSION+" - \u2730 "+_e+` \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,Te)}else window.console&&window.console.log("PixiJS "+C.VERSION+" - "+_e+" - http://www.pixijs.com/");F=!0}}function Q(){var _e={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var Te=document.createElement("canvas"),Ce=Te.getContext("webgl",_e)||Te.getContext("experimental-webgl",_e),We=!!(Ce&&Ce.getContextAttributes().stencil);if(Ce){var Fe=Ce.getExtension("WEBGL_lose_context");Fe&&Fe.loseContext()}return Ce=null,We}catch(Ge){return!1}}function H(_e){return _e===0?0:_e<0?-1:1}var Y=E.TextureCache=Object.create(null),Z=E.BaseTextureCache=Object.create(null);function $(){var _e=void 0;for(_e in Y)Y[_e].destroy();for(_e in Z)Z[_e].destroy()}function ee(){var _e=void 0;for(_e in Y)delete Y[_e];for(_e in Z)delete Z[_e]}var oe=E.premultiplyBlendMode=(0,p.default)();function ge(_e,Te){return oe[Te?1:0][_e]}function ve(_e,Te){if(Te===1)return(Te*255<<24)+_e;if(Te===0)return 0;var Ce=_e>>16&255,We=_e>>8&255,Fe=_e&255;return Ce=Ce*Te+.5|0,We=We*Te+.5|0,Fe=Fe*Te+.5|0,(Te*255<<24)+(Ce<<16)+(We<<8)+Fe}function we(_e,Te,Ce,We){return Ce=Ce||new Float32Array(4),We||We===void 0?(Ce[0]=_e[0]*Te,Ce[1]=_e[1]*Te,Ce[2]=_e[2]*Te):(Ce[0]=_e[0],Ce[1]=_e[1],Ce[2]=_e[2]),Ce[3]=Te,Ce}function Se(_e,Te,Ce,We){return Ce=Ce||new Float32Array(4),Ce[0]=(_e>>16&255)/255,Ce[1]=(_e>>8&255)/255,Ce[2]=(_e&255)/255,(We||We===void 0)&&(Ce[0]*=Te,Ce[1]*=Te,Ce[2]*=Te),Ce[3]=Te,Ce}},6507:(de,E,O)=>{"use strict";E.__esModule=!0,E.default=k;var C=O(4633);function k(){for(var g=[],b=[],x=0;x<32;x++)g[x]=x,b[x]=x;g[C.BLEND_MODES.NORMAL_NPM]=C.BLEND_MODES.NORMAL,g[C.BLEND_MODES.ADD_NPM]=C.BLEND_MODES.ADD,g[C.BLEND_MODES.SCREEN_NPM]=C.BLEND_MODES.SCREEN,b[C.BLEND_MODES.NORMAL]=C.BLEND_MODES.NORMAL_NPM,b[C.BLEND_MODES.ADD]=C.BLEND_MODES.ADD_NPM,b[C.BLEND_MODES.SCREEN]=C.BLEND_MODES.SCREEN_NPM;var w=[];return w.push(b),w.push(g),w}},585:(de,E,O)=>{"use strict";E.__esModule=!0,E.default=b;var C=O(7561),k=g(C);function g(x){return x&&x.__esModule?x:{default:x}}function b(x){return k.default.tablet||k.default.phone?4:x}},457:(de,E)=>{"use strict";E.__esModule=!0,E.mixin=O,E.delayMixin=k,E.performMixins=g;function O(b,x){if(!(!b||!x))for(var w=Object.keys(x),v=0;v<w.length;++v){var m=w[v];Object.defineProperty(b,m,Object.getOwnPropertyDescriptor(x,m))}}var C=[];function k(b,x){C.push(b,x)}function g(){for(var b=0;b<C.length;b+=2)O(C[b],C[b+1]);C.length=0}},3278:(de,E)=>{"use strict";E.__esModule=!0;function O(C){C.__plugins={},C.registerPlugin=function(g,b){C.__plugins[g]=b},C.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var g in C.__plugins)this.plugins[g]=new C.__plugins[g](this)},C.prototype.destroyPlugins=function(){for(var g in this.plugins)this.plugins[g].destroy(),this.plugins[g]=null;this.plugins=null}}E.default={mixin:function(k){O(k)}}},625:(de,E)=>{"use strict";E.__esModule=!0,E.default=O;function O(C){var k=C.width,g=C.height,b=C.getContext("2d"),x=b.getImageData(0,0,k,g),w=x.data,v=w.length,m={top:null,left:null,right:null,bottom:null},y=null,l=void 0,o=void 0,d=void 0;for(l=0;l<v;l+=4)w[l+3]!==0&&(o=l/4%k,d=~~(l/4/k),m.top===null&&(m.top=d),(m.left===null||o<m.left)&&(m.left=o),(m.right===null||m.right<o)&&(m.right=o+1),(m.bottom===null||m.bottom<d)&&(m.bottom=d));return m.top!==null&&(k=m.right-m.left,g=m.bottom-m.top+1,y=b.getImageData(m.left,m.top,k,g)),{height:g,width:k,data:y}}},6910:(de,E)=>{"use strict";E.__esModule=!0,E.default=k;var O={};function C(g){if(!O[g]){var b=new Error().stack;typeof b=="undefined"?console.warn("Deprecation Warning: ",g):(b=b.split(`
`).splice(3).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",g),console.warn(b),console.groupEnd()):(console.warn("Deprecation Warning: ",g),console.warn(b))),O[g]=!0}}function k(g){var b=g.mesh,x=g.particles,w=g.extras,v=g.filters,m=g.prepare,y=g.loaders,l=g.interaction;Object.defineProperties(g,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return C("You do not need to use a PIXI Stage any more, you can simply render any container."),g.Container}},DisplayObjectContainer:{get:function(){return C("DisplayObjectContainer has been shortened to Container, please use Container from now on."),g.Container}},Strip:{get:function(){return C("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),b.Mesh}},Rope:{get:function(){return C("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),b.Rope}},ParticleContainer:{get:function(){return C("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),x.ParticleContainer}},MovieClip:{get:function(){return C("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),w.AnimatedSprite}},TilingSprite:{get:function(){return C("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),w.TilingSprite}},BitmapText:{get:function(){return C("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),w.BitmapText}},blendModes:{get:function(){return C("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),g.BLEND_MODES}},scaleModes:{get:function(){return C("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),g.SCALE_MODES}},BaseTextureCache:{get:function(){return C("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),g.utils.BaseTextureCache}},TextureCache:{get:function(){return C("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),g.utils.TextureCache}},math:{get:function(){return C("The math namespace is deprecated, please access members already accessible on PIXI."),g}},AbstractFilter:{get:function(){return C("AstractFilter has been renamed to Filter, please use PIXI.Filter"),g.Filter}},TransformManual:{get:function(){return C("TransformManual has been renamed to TransformBase, please update your pixi-spine"),g.TransformBase}},TARGET_FPMS:{get:function(){return C("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),g.settings.TARGET_FPMS},set:function(T){C("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),g.settings.TARGET_FPMS=T}},FILTER_RESOLUTION:{get:function(){return C("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),g.settings.FILTER_RESOLUTION},set:function(T){C("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),g.settings.FILTER_RESOLUTION=T}},RESOLUTION:{get:function(){return C("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),g.settings.RESOLUTION},set:function(T){C("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),g.settings.RESOLUTION=T}},MIPMAP_TEXTURES:{get:function(){return C("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),g.settings.MIPMAP_TEXTURES},set:function(T){C("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),g.settings.MIPMAP_TEXTURES=T}},SPRITE_BATCH_SIZE:{get:function(){return C("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),g.settings.SPRITE_BATCH_SIZE},set:function(T){C("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),g.settings.SPRITE_BATCH_SIZE=T}},SPRITE_MAX_TEXTURES:{get:function(){return C("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),g.settings.SPRITE_MAX_TEXTURES},set:function(T){C("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),g.settings.SPRITE_MAX_TEXTURES=T}},RETINA_PREFIX:{get:function(){return C("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),g.settings.RETINA_PREFIX},set:function(T){C("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),g.settings.RETINA_PREFIX=T}},DEFAULT_RENDER_OPTIONS:{get:function(){return C("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),g.settings.RENDER_OPTIONS}}});for(var o=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],d=function(T){var M=o[T];Object.defineProperty(g[M.parent],"DEFAULT",{get:function(){return C("PIXI."+M.parent+".DEFAULT has been deprecated, "+("please use PIXI.settings."+M.target)),g.settings[M.target]},set:function(F){C("PIXI."+M.parent+".DEFAULT has been deprecated, "+("please use PIXI.settings."+M.target)),g.settings[M.target]=F}})},f=0;f<o.length;f++)d(f);Object.defineProperties(g.settings,{PRECISION:{get:function(){return C("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),g.settings.PRECISION_FRAGMENT},set:function(T){C("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),g.settings.PRECISION_FRAGMENT=T}}}),w.AnimatedSprite&&Object.defineProperties(w,{MovieClip:{get:function(){return C("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),w.AnimatedSprite}}}),w&&Object.defineProperties(w,{TextureTransform:{get:function(){return C("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."),g.TextureMatrix}}}),g.DisplayObject.prototype.generateTexture=function(T,M,L){return C("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),T.generateTexture(this,M,L)},g.Graphics.prototype.generateTexture=function(T,M){return C("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(T,M)},g.GroupD8.isSwapWidthHeight=function(T){return C("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"),g.GroupD8.isVertical(T)},g.RenderTexture.prototype.render=function(T,M,L,F){this.legacyRenderer.render(T,this,L,M,!F),C("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},g.RenderTexture.prototype.getImage=function(T){return C("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(T)},g.RenderTexture.prototype.getBase64=function(T){return C("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(T)},g.RenderTexture.prototype.getCanvas=function(T){return C("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(T)},g.RenderTexture.prototype.getPixels=function(T){return C("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(T)},g.Sprite.prototype.setTexture=function(T){this.texture=T,C("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},w.BitmapText&&(w.BitmapText.prototype.setText=function(T){this.text=T,C("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")}),g.Text.prototype.setText=function(T){this.text=T,C("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},g.Text.calculateFontProperties=function(T){return C("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),g.TextMetrics.measureFont(T)},Object.defineProperties(g.Text,{fontPropertiesCache:{get:function(){return C("Text.fontPropertiesCache is deprecated"),g.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return C("Text.fontPropertiesCanvas is deprecated"),g.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return C("Text.fontPropertiesContext is deprecated"),g.TextMetrics._context}}}),g.Text.prototype.setStyle=function(T){this.style=T,C("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},g.Text.prototype.determineFontProperties=function(T){return C("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),g.TextMetrics.measureFont(T)},g.Text.getFontStyle=function(T){return C("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),T=T||{},T instanceof g.TextStyle||(T=new g.TextStyle(T)),T.toFontString()},Object.defineProperties(g.TextStyle.prototype,{font:{get:function(){C("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var T=typeof this._fontSize=="number"?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+T+" "+this._fontFamily},set:function(T){C("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),T.indexOf("italic")>1?this._fontStyle="italic":T.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",T.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var M=T.split(" "),L=-1;this._fontSize=26;for(var F=0;F<M.length;++F)if(M[F].match(/(px|pt|em|%)/)){L=F,this._fontSize=M[F];break}this._fontWeight="normal";for(var D=0;D<L;++D)if(M[D].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=M[D];break}if(L>-1&&L<M.length-1){this._fontFamily="";for(var B=L+1;B<M.length;++B)this._fontFamily+=M[B]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),g.Texture.prototype.setFrame=function(T){this.frame=T,C("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},g.Texture.addTextureToCache=function(T,M){g.Texture.addToCache(T,M),C("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},g.Texture.removeTextureFromCache=function(T){return C("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),g.BaseTexture.removeFromCache(T),g.Texture.removeFromCache(T)},Object.defineProperties(v,{AbstractFilter:{get:function(){return C("AstractFilter has been renamed to Filter, please use PIXI.Filter"),g.AbstractFilter}},SpriteMaskFilter:{get:function(){return C("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),g.SpriteMaskFilter}},VoidFilter:{get:function(){return C("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"),v.AlphaFilter}}}),g.utils.uuid=function(){return C("utils.uuid() is deprecated, please use utils.uid() from now on."),g.utils.uid()},g.utils.canUseNewCanvasBlendModes=function(){return C("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),g.CanvasTinter.canUseMultiply};var s=!0;if(Object.defineProperty(g.utils,"_saidHello",{set:function(T){T&&(C("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),s=T},get:function(){return s}}),m.BasePrepare&&(m.BasePrepare.prototype.register=function(T,M){return C("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),T&&this.registerFindHook(T),M&&this.registerUploadHook(M),this}),m.canvas&&Object.defineProperty(m.canvas,"UPLOADS_PER_FRAME",{set:function(){C("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return C("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),m.webgl&&Object.defineProperty(m.webgl,"UPLOADS_PER_FRAME",{set:function(){C("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return C("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),y.Loader){var p=y.Resource,_=y.Loader;Object.defineProperties(p.prototype,{isJson:{get:function(){return C("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===p.TYPE.JSON}},isXml:{get:function(){return C("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===p.TYPE.XML}},isImage:{get:function(){return C("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===p.TYPE.IMAGE}},isAudio:{get:function(){return C("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===p.TYPE.AUDIO}},isVideo:{get:function(){return C("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===p.TYPE.VIDEO}}}),Object.defineProperties(_.prototype,{before:{get:function(){return C("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return C("The after() method is deprecated, please use use()."),this.use}}})}l.interactiveTarget&&Object.defineProperty(l.interactiveTarget,"defaultCursor",{set:function(T){C("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=T},get:function(){return C("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}}),l.InteractionManager&&(Object.defineProperty(l.InteractionManager,"defaultCursorStyle",{set:function(T){C("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=T},get:function(){return C("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(l.InteractionManager,"currentCursorStyle",{set:function(T){C("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=T},get:function(){return C("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))}},7671:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(2321),k=g(C);function g(v){if(v&&v.__esModule)return v;var m={};if(v!=null)for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(m[y]=v[y]);return m.default=v,m}function b(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}var x=new k.Rectangle,w=function(){function v(m){b(this,v),this.renderer=m,m.extract=this}return v.prototype.image=function(y){var l=new Image;return l.src=this.base64(y),l},v.prototype.base64=function(y){return this.canvas(y).toDataURL()},v.prototype.canvas=function(y){var l=this.renderer,o=void 0,d=void 0,f=void 0,s=void 0;y&&(y instanceof k.RenderTexture?s=y:s=l.generateTexture(y)),s?(o=s.baseTexture._canvasRenderTarget.context,d=s.baseTexture._canvasRenderTarget.resolution,f=s.frame):(o=l.rootContext,d=l.resolution,f=x,f.width=this.renderer.width,f.height=this.renderer.height);var p=Math.floor(f.width*d+1e-4),_=Math.floor(f.height*d+1e-4),S=new k.CanvasRenderTarget(p,_,1),T=o.getImageData(f.x*d,f.y*d,p,_);return S.context.putImageData(T,0,0),S.canvas},v.prototype.pixels=function(y){var l=this.renderer,o=void 0,d=void 0,f=void 0,s=void 0;return y&&(y instanceof k.RenderTexture?s=y:s=l.generateTexture(y)),s?(o=s.baseTexture._canvasRenderTarget.context,d=s.baseTexture._canvasRenderTarget.resolution,f=s.frame):(o=l.rootContext,f=x,f.width=l.width,f.height=l.height),o.getImageData(0,0,f.width*d,f.height*d).data},v.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},v}();E.default=w,k.CanvasRenderer.registerPlugin("extract",w)},4855:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(4495);Object.defineProperty(E,"webgl",{enumerable:!0,get:function(){return g(C).default}});var k=O(7671);Object.defineProperty(E,"canvas",{enumerable:!0,get:function(){return g(k).default}});function g(b){return b&&b.__esModule?b:{default:b}}},4495:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(2321),k=g(C);function g(m){if(m&&m.__esModule)return m;var y={};if(m!=null)for(var l in m)Object.prototype.hasOwnProperty.call(m,l)&&(y[l]=m[l]);return y.default=m,y}function b(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}var x=new k.Rectangle,w=4,v=function(){function m(y){b(this,m),this.renderer=y,y.extract=this}return m.prototype.image=function(l){var o=new Image;return o.src=this.base64(l),o},m.prototype.base64=function(l){return this.canvas(l).toDataURL()},m.prototype.canvas=function(l){var o=this.renderer,d=void 0,f=void 0,s=void 0,p=!1,_=void 0,S=!1;l&&(l instanceof k.RenderTexture?_=l:(_=this.renderer.generateTexture(l),S=!0)),_?(d=_.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],f=d.resolution,s=_.frame,p=!1):(d=this.renderer.rootRenderTarget,f=d.resolution,p=!0,s=x,s.width=d.size.width,s.height=d.size.height);var T=Math.floor(s.width*f+1e-4),M=Math.floor(s.height*f+1e-4),L=new k.CanvasRenderTarget(T,M,1);if(d){o.bindRenderTarget(d);var F=new Uint8Array(w*T*M),D=o.gl;D.readPixels(s.x*f,s.y*f,T,M,D.RGBA,D.UNSIGNED_BYTE,F);var B=L.context.getImageData(0,0,T,M);B.data.set(F),L.context.putImageData(B,0,0),p&&(L.context.scale(1,-1),L.context.drawImage(L.canvas,0,-M))}return S&&_.destroy(!0),L.canvas},m.prototype.pixels=function(l){var o=this.renderer,d=void 0,f=void 0,s=void 0,p=void 0,_=!1;l&&(l instanceof k.RenderTexture?p=l:(p=this.renderer.generateTexture(l),_=!0)),p?(d=p.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],f=d.resolution,s=p.frame):(d=this.renderer.rootRenderTarget,f=d.resolution,s=x,s.width=d.size.width,s.height=d.size.height);var S=s.width*f,T=s.height*f,M=new Uint8Array(w*S*T);if(d){o.bindRenderTarget(d);var L=o.gl;L.readPixels(s.x*f,s.y*f,S,T,L.RGBA,L.UNSIGNED_BYTE,M)}return _&&p.destroy(!0),M},m.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},m}();E.default=v,k.WebGLRenderer.registerPlugin("extract",v)},4888:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function y(l,o){for(var d=0;d<o.length;d++){var f=o[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,o,d){return o&&y(l.prototype,o),d&&y(l,d),l}}(),k=O(2321),g=b(k);function b(y){if(y&&y.__esModule)return y;var l={};if(y!=null)for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(l[o]=y[o]);return l.default=y,l}function x(y,l){if(!(y instanceof l))throw new TypeError("Cannot call a class as a function")}function w(y,l){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:y}function v(y,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);y.prototype=Object.create(l&&l.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(y,l):y.__proto__=l)}var m=function(y){v(l,y);function l(o,d){x(this,l);var f=w(this,y.call(this,o[0]instanceof g.Texture?o[0]:o[0].texture));return f._textures=null,f._durations=null,f.textures=o,f._autoUpdate=d!==!1,f.animationSpeed=1,f.loop=!0,f.updateAnchor=!1,f.onComplete=null,f.onFrameChange=null,f.onLoop=null,f._currentTime=0,f.playing=!1,f}return l.prototype.stop=function(){!this.playing||(this.playing=!1,this._autoUpdate&&g.ticker.shared.remove(this.update,this))},l.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&g.ticker.shared.add(this.update,this,g.UPDATE_PRIORITY.HIGH))},l.prototype.gotoAndStop=function(d){this.stop();var f=this.currentFrame;this._currentTime=d,f!==this.currentFrame&&this.updateTexture()},l.prototype.gotoAndPlay=function(d){var f=this.currentFrame;this._currentTime=d,f!==this.currentFrame&&this.updateTexture(),this.play()},l.prototype.update=function(d){var f=this.animationSpeed*d,s=this.currentFrame;if(this._durations!==null){var p=this._currentTime%1*this._durations[this.currentFrame];for(p+=f/60*1e3;p<0;)this._currentTime--,p+=this._durations[this.currentFrame];var _=Math.sign(this.animationSpeed*d);for(this._currentTime=Math.floor(this._currentTime);p>=this._durations[this.currentFrame];)p-=this._durations[this.currentFrame]*_,this._currentTime+=_;this._currentTime+=p/this._durations[this.currentFrame]}else this._currentTime+=f;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):s!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<s?this.onLoop():this.animationSpeed<0&&this.currentFrame>s&&this.onLoop()),this.updateTexture())},l.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.updateAnchor&&this._anchor.copy(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame)},l.prototype.destroy=function(d){this.stop(),y.prototype.destroy.call(this,d)},l.fromFrames=function(d){for(var f=[],s=0;s<d.length;++s)f.push(g.Texture.fromFrame(d[s]));return new l(f)},l.fromImages=function(d){for(var f=[],s=0;s<d.length;++s)f.push(g.Texture.fromImage(d[s]));return new l(f)},C(l,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(d){if(d[0]instanceof g.Texture)this._textures=d,this._durations=null;else{this._textures=[],this._durations=[];for(var f=0;f<d.length;f++)this._textures.push(d[f].texture),this._durations.push(d[f].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var d=Math.floor(this._currentTime)%this._textures.length;return d<0&&(d+=this._textures.length),d}}]),l}(g.Sprite);E.default=m},7877:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function p(_,S){for(var T=0;T<S.length;T++){var M=S[T];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}return function(_,S,T){return S&&p(_.prototype,S),T&&p(_,T),_}}(),k=O(2321),g=l(k),b=O(4818),x=y(b),w=O(7768),v=O(7505),m=y(v);function y(p){return p&&p.__esModule?p:{default:p}}function l(p){if(p&&p.__esModule)return p;var _={};if(p!=null)for(var S in p)Object.prototype.hasOwnProperty.call(p,S)&&(_[S]=p[S]);return _.default=p,_}function o(p,_){if(!(p instanceof _))throw new TypeError("Cannot call a class as a function")}function d(p,_){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:p}function f(p,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);p.prototype=Object.create(_&&_.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(p,_):p.__proto__=_)}var s=function(p){f(_,p);function _(S){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,_);var M=d(this,p.call(this));return M._textWidth=0,M._textHeight=0,M._glyphs=[],M._font={tint:T.tint!==void 0?T.tint:16777215,align:T.align||"left",name:null,size:0},M.font=T.font,M._text=S,M._maxWidth=0,M._maxLineHeight=0,M._letterSpacing=0,M._anchor=new x.default(function(){M.dirty=!0},M,0,0),M.dirty=!1,M.updateText(),M}return _.prototype.updateText=function(){for(var T=_.fonts[this._font.name],M=this._font.size/T.size,L=new g.Point,F=[],D=[],B=this.text.replace(/(?:\r\n|\r)/g,`
`),K=B.length,N=this._maxWidth*T.size/this._font.size,V=null,J=0,se=0,ie=0,ae=-1,W=0,Q=0,H=0,Y=0;Y<K;Y++){var Z=B.charCodeAt(Y),$=B.charAt(Y);if(/(?:\s)/.test($)&&(ae=Y,W=J),$==="\r"||$===`
`){D.push(J),se=Math.max(se,J),++ie,++Q,L.x=0,L.y+=T.lineHeight,V=null;continue}var ee=T.chars[Z];!ee||(V&&ee.kerning[V]&&(L.x+=ee.kerning[V]),F.push({texture:ee.texture,line:ie,charCode:Z,position:new g.Point(L.x+ee.xOffset+this._letterSpacing/2,L.y+ee.yOffset)}),L.x+=ee.xAdvance+this._letterSpacing,J=L.x,H=Math.max(H,ee.yOffset+ee.texture.height),V=Z,ae!==-1&&N>0&&L.x>N&&(++Q,g.utils.removeItems(F,1+ae-Q,1+Y-ae),Y=ae,ae=-1,D.push(W),se=Math.max(se,W),ie++,L.x=0,L.y+=T.lineHeight,V=null))}var oe=B.charAt(B.length-1);oe!=="\r"&&oe!==`
`&&(/(?:\s)/.test(oe)&&(J=W),D.push(J),se=Math.max(se,J));for(var ge=[],ve=0;ve<=ie;ve++){var we=0;this._font.align==="right"?we=se-D[ve]:this._font.align==="center"&&(we=(se-D[ve])/2),ge.push(we)}for(var Se=F.length,_e=this.tint,Te=0;Te<Se;Te++){var Ce=this._glyphs[Te];Ce?Ce.texture=F[Te].texture:(Ce=new g.Sprite(F[Te].texture),this._glyphs.push(Ce)),Ce.position.x=(F[Te].position.x+ge[F[Te].line])*M,Ce.position.y=F[Te].position.y*M,Ce.scale.x=Ce.scale.y=M,Ce.tint=_e,Ce.parent||this.addChild(Ce)}for(var We=Se;We<this._glyphs.length;++We)this.removeChild(this._glyphs[We]);if(this._textWidth=se*M,this._textHeight=(L.y+T.lineHeight)*M,this.anchor.x!==0||this.anchor.y!==0)for(var Fe=0;Fe<Se;Fe++)this._glyphs[Fe].x-=this._textWidth*this.anchor.x,this._glyphs[Fe].y-=this._textHeight*this.anchor.y;this._maxLineHeight=H*M},_.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},_.prototype.getLocalBounds=function(){return this.validate(),p.prototype.getLocalBounds.call(this)},_.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},_.registerFont=function(T,M){var L={},F=T.getElementsByTagName("info")[0],D=T.getElementsByTagName("common")[0],B=T.getElementsByTagName("page"),K=(0,w.getResolutionOfUrl)(B[0].getAttribute("file"),m.default.RESOLUTION),N={};L.font=F.getAttribute("face"),L.size=parseInt(F.getAttribute("size"),10),L.lineHeight=parseInt(D.getAttribute("lineHeight"),10)/K,L.chars={},M instanceof g.Texture&&(M=[M]);for(var V=0;V<B.length;V++){var J=B[V].getAttribute("id"),se=B[V].getAttribute("file");N[J]=M instanceof Array?M[V]:M[se]}for(var ie=T.getElementsByTagName("char"),ae=0;ae<ie.length;ae++){var W=ie[ae],Q=parseInt(W.getAttribute("id"),10),H=W.getAttribute("page")||0,Y=new g.Rectangle(parseInt(W.getAttribute("x"),10)/K+N[H].frame.x/K,parseInt(W.getAttribute("y"),10)/K+N[H].frame.y/K,parseInt(W.getAttribute("width"),10)/K,parseInt(W.getAttribute("height"),10)/K);L.chars[Q]={xOffset:parseInt(W.getAttribute("xoffset"),10)/K,yOffset:parseInt(W.getAttribute("yoffset"),10)/K,xAdvance:parseInt(W.getAttribute("xadvance"),10)/K,kerning:{},texture:new g.Texture(N[H].baseTexture,Y),page:H}}for(var Z=T.getElementsByTagName("kerning"),$=0;$<Z.length;$++){var ee=Z[$],oe=parseInt(ee.getAttribute("first"),10)/K,ge=parseInt(ee.getAttribute("second"),10)/K,ve=parseInt(ee.getAttribute("amount"),10)/K;L.chars[ge]&&(L.chars[ge].kerning[oe]=ve)}return _.fonts[L.font]=L,L},C(_,[{key:"tint",get:function(){return this._font.tint},set:function(T){this._font.tint=typeof T=="number"&&T>=0?T:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(T){this._font.align=T||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(T){typeof T=="number"?this._anchor.set(T):this._anchor.copy(T)}},{key:"font",get:function(){return this._font},set:function(T){!T||(typeof T=="string"?(T=T.split(" "),this._font.name=T.length===1?T[0]:T.slice(1).join(" "),this._font.size=T.length>=2?parseInt(T[0],10):_.fonts[this._font.name].size):(this._font.name=T.name,this._font.size=typeof T.size=="number"?T.size:parseInt(T.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(T){T=T.toString()||" ",this._text!==T&&(this._text=T,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(T){this._maxWidth!==T&&(this._maxWidth=T,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(T){this._letterSpacing!==T&&(this._letterSpacing=T,this.dirty=!0)}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),_}(g.Container);E.default=s,s.fonts={}},4459:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function f(s,p){for(var _=0;_<p.length;_++){var S=p[_];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(s,S.key,S)}}return function(s,p,_){return p&&f(s.prototype,p),_&&f(s,_),s}}(),k=O(2321),g=v(k),b=O(4099),x=w(b);function w(f){return f&&f.__esModule?f:{default:f}}function v(f){if(f&&f.__esModule)return f;var s={};if(f!=null)for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(s[p]=f[p]);return s.default=f,s}function m(f,s){if(!(f instanceof s))throw new TypeError("Cannot call a class as a function")}function y(f,s){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:f}function l(f,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);f.prototype=Object.create(s&&s.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(f,s):f.__proto__=s)}var o=new g.Point,d=function(f){l(s,f);function s(p){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100;m(this,s);var T=y(this,f.call(this,p));return T.tileTransform=new g.TransformStatic,T._width=_,T._height=S,T._canvasPattern=null,T.uvTransform=p.transform||new g.TextureMatrix(p),T.pluginName="tilingSprite",T.uvRespectAnchor=!1,T}return s.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},s.prototype._renderWebGL=function(_){var S=this._texture;!S||!S.valid||(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),_.setObjectRenderer(_.plugins[this.pluginName]),_.plugins[this.pluginName].render(this))},s.prototype._renderCanvas=function(_){var S=this._texture;if(!!S.baseTexture.hasLoaded){var T=_.context,M=this.worldTransform,L=_.resolution,F=S.rotate===2,D=S.baseTexture,B=D.resolution,K=this.tilePosition.x/this.tileScale.x%S.orig.width*B,N=this.tilePosition.y/this.tileScale.y%S.orig.height*B;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var V=new g.CanvasRenderTarget(S.orig.width,S.orig.height,B);if(this.tint!==16777215)this.tintedTexture=x.default.getTintedTexture(this,this.tint),V.context.drawImage(this.tintedTexture,0,0);else{var J=S._frame.x*B,se=S._frame.y*B,ie=S._frame.width*B,ae=S._frame.height*B,W=(S.trim?S.trim.width:S.orig.width)*B,Q=(S.trim?S.trim.height:S.orig.height)*B,H=(S.trim?S.trim.x:0)*B,Y=(S.trim?S.trim.y:0)*B;F?(V.context.rotate(-Math.PI/2),V.context.translate(-Q,0),V.context.drawImage(D.source,J,se,ie,ae,-Y,H,Q,W)):V.context.drawImage(D.source,J,se,ie,ae,H,Y,W,Q)}this.cachedTint=this.tint,this._canvasPattern=V.context.createPattern(V.canvas,"repeat")}T.globalAlpha=this.worldAlpha,T.setTransform(M.a*L,M.b*L,M.c*L,M.d*L,M.tx*L,M.ty*L),_.setBlendMode(this.blendMode),T.fillStyle=this._canvasPattern,T.scale(this.tileScale.x/B,this.tileScale.y/B);var Z=this.anchor.x*-this._width*B,$=this.anchor.y*-this._height*B;this.uvRespectAnchor?(T.translate(K,N),T.fillRect(-K+Z,-N+$,this._width/this.tileScale.x*B,this._height/this.tileScale.y*B)):(T.translate(K+Z,N+$),T.fillRect(-K,-N,this._width/this.tileScale.x*B,this._height/this.tileScale.y*B))}},s.prototype._calculateBounds=function(){var _=this._width*-this._anchor._x,S=this._height*-this._anchor._y,T=this._width*(1-this._anchor._x),M=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,_,S,T,M)},s.prototype.getLocalBounds=function(_){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),_||(this._localBoundsRect||(this._localBoundsRect=new g.Rectangle),_=this._localBoundsRect),this._bounds.getRectangle(_)):f.prototype.getLocalBounds.call(this,_)},s.prototype.containsPoint=function(_){this.worldTransform.applyInverse(_,o);var S=this._width,T=this._height,M=-S*this.anchor._x;if(o.x>=M&&o.x<M+S){var L=-T*this.anchor._y;if(o.y>=L&&o.y<L+T)return!0}return!1},s.prototype.destroy=function(_){f.prototype.destroy.call(this,_),this.tileTransform=null,this.uvTransform=null},s.from=function(_,S,T){return new s(g.Texture.from(_),S,T)},s.fromFrame=function(_,S,T){var M=g.utils.TextureCache[_];if(!M)throw new Error('The frameId "'+_+'" does not exist in the texture cache '+this);return new s(M,S,T)},s.fromImage=function(_,S,T,M,L){return new s(g.Texture.fromImage(_,M,L),S,T)},C(s,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(_){this.uvTransform.clampMargin=_,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(_){this.tileTransform.scale.copy(_)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(_){this.tileTransform.position.copy(_)}},{key:"width",get:function(){return this._width},set:function(_){this._width=_}},{key:"height",get:function(){return this._height},set:function(_){this._height=_}}]),s}(g.Sprite);E.default=d},2881:(de,E,O)=>{"use strict";var C=O(2321),k=y(C),g=O(2631),b=m(g),x=O(9067),w=m(x),v=O(7768);function m(s){return s&&s.__esModule?s:{default:s}}function y(s){if(s&&s.__esModule)return s;var p={};if(s!=null)for(var _ in s)Object.prototype.hasOwnProperty.call(s,_)&&(p[_]=s[_]);return p.default=s,p}function l(s,p){if(!(s instanceof p))throw new TypeError("Cannot call a class as a function")}var o=k.DisplayObject,d=new k.Matrix;o.prototype._cacheAsBitmap=!1,o.prototype._cacheData=!1;var f=function s(){l(this,s),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(o.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(p){if(this._cacheAsBitmap!==p){this._cacheAsBitmap=p;var _=void 0;p?(this._cacheData||(this._cacheData=new f),_=this._cacheData,_.originalRenderWebGL=this.renderWebGL,_.originalRenderCanvas=this.renderCanvas,_.originalUpdateTransform=this.updateTransform,_.originalCalculateBounds=this.calculateBounds,_.originalGetLocalBounds=this.getLocalBounds,_.originalDestroy=this.destroy,_.originalContainsPoint=this.containsPoint,_.originalMask=this._mask,_.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(_=this._cacheData,_.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=_.originalRenderWebGL,this.renderCanvas=_.originalRenderCanvas,this.calculateBounds=_.originalCalculateBounds,this.getLocalBounds=_.originalGetLocalBounds,this.destroy=_.originalDestroy,this.updateTransform=_.originalUpdateTransform,this.containsPoint=_.originalContainsPoint,this._mask=_.originalMask,this.filterArea=_.originalFilterArea)}}}}),o.prototype._renderCachedWebGL=function(p){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(p),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(p))},o.prototype._initCachedDisplayObject=function(p){if(!(this._cacheData&&this._cacheData.sprite)){var _=this.alpha;this.alpha=1,p.currentRenderer.flush();var S=this.getLocalBounds().clone();if(this._filters&&this._filters.length){var T=this._filters[0].padding;S.pad(T)}S.ceil(k.settings.RESOLUTION);var M=p._activeRenderTarget,L=p.filterManager.filterStack,F=k.RenderTexture.create(S.width,S.height),D="cacheAsBitmap_"+(0,v.uid)();this._cacheData.textureCacheId=D,w.default.addToCache(F.baseTexture,D),b.default.addToCache(F,D);var B=d;B.tx=-S.x,B.ty=-S.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,p.render(this,F,!0,B,!0),p.bindRenderTarget(M),p.filterManager.filterStack=L,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var K=new k.Sprite(F);K.transform.worldTransform=this.transform.worldTransform,K.anchor.x=-(S.x/S.width),K.anchor.y=-(S.y/S.height),K.alpha=_,K._bounds=this._bounds,this._cacheData.sprite=K,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=p._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=K.containsPoint.bind(K)}},o.prototype._renderCachedCanvas=function(p){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(p),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(p))},o.prototype._initCachedDisplayObjectCanvas=function(p){if(!(this._cacheData&&this._cacheData.sprite)){var _=this.getLocalBounds(),S=this.alpha;this.alpha=1;var T=p.context;_.ceil(k.settings.RESOLUTION);var M=k.RenderTexture.create(_.width,_.height),L="cacheAsBitmap_"+(0,v.uid)();this._cacheData.textureCacheId=L,w.default.addToCache(M.baseTexture,L),b.default.addToCache(M,L);var F=d;this.transform.localTransform.copy(F),F.invert(),F.tx-=_.x,F.ty-=_.y,this.renderCanvas=this._cacheData.originalRenderCanvas,p.render(this,M,!0,F,!1),p.context=T,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var D=new k.Sprite(M);D.transform.worldTransform=this.transform.worldTransform,D.anchor.x=-(_.x/_.width),D.anchor.y=-(_.y/_.height),D.alpha=S,D._bounds=this._bounds,this._cacheData.sprite=D,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=p._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=D.containsPoint.bind(D)}},o.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID},o.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},o.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,w.default.removeFromCache(this._cacheData.textureCacheId),b.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},o.prototype._cacheAsBitmapDestroy=function(p){this.cacheAsBitmap=!1,this.destroy(p)}},2077:(de,E,O)=>{"use strict";var C=O(2321),k=g(C);function g(b){if(b&&b.__esModule)return b;var x={};if(b!=null)for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&(x[w]=b[w]);return x.default=b,x}k.DisplayObject.prototype.name=null,k.Container.prototype.getChildByName=function(x){for(var w=0;w<this.children.length;w++)if(this.children[w].name===x)return this.children[w];return null}},3559:(de,E,O)=>{"use strict";var C=O(2321),k=g(C);function g(b){if(b&&b.__esModule)return b;var x={};if(b!=null)for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&(x[w]=b[w]);return x.default=b,x}k.DisplayObject.prototype.getGlobalPosition=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new k.Point,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.parent?this.parent.toGlobal(this.position,x,w):(x.x=this.position.x,x.y=this.position.y),x}},4601:(de,E,O)=>{"use strict";E.__esModule=!0,E.BitmapText=E.TilingSpriteRenderer=E.TilingSprite=E.AnimatedSprite=void 0;var C=O(4888);Object.defineProperty(E,"AnimatedSprite",{enumerable:!0,get:function(){return x(C).default}});var k=O(4459);Object.defineProperty(E,"TilingSprite",{enumerable:!0,get:function(){return x(k).default}});var g=O(5518);Object.defineProperty(E,"TilingSpriteRenderer",{enumerable:!0,get:function(){return x(g).default}});var b=O(7877);Object.defineProperty(E,"BitmapText",{enumerable:!0,get:function(){return x(b).default}}),O(2881),O(2077),O(3559);function x(w){return w&&w.__esModule?w:{default:w}}},5518:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(2321),k=x(C),g=O(4633),b=O(6470);function x(o){if(o&&o.__esModule)return o;var d={};if(o!=null)for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(d[f]=o[f]);return d.default=o,d}function w(o,d){if(!(o instanceof d))throw new TypeError("Cannot call a class as a function")}function v(o,d){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:o}function m(o,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);o.prototype=Object.create(d&&d.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(o,d):o.__proto__=d)}var y=new k.Matrix,l=function(o){m(d,o);function d(f){w(this,d);var s=v(this,o.call(this,f));return s.shader=null,s.simpleShader=null,s.quad=null,s}return d.prototype.onContextChange=function(){var s=this.renderer.gl;this.shader=new k.Shader(s,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 sample = texture2D(uSampler, coord);
    gl_FragColor = sample * uColor;
}
`),this.simpleShader=new k.Shader(s,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 sample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = sample * uColor;
}
`),this.renderer.bindVao(null),this.quad=new k.Quad(s,this.renderer.state.attribState),this.quad.initVao(this.shader)},d.prototype.render=function(s){var p=this.renderer,_=this.quad;p.bindVao(_.vao);var S=_.vertices;S[0]=S[6]=s._width*-s.anchor.x,S[1]=S[3]=s._height*-s.anchor.y,S[2]=S[4]=s._width*(1-s.anchor.x),S[5]=S[7]=s._height*(1-s.anchor.y),s.uvRespectAnchor&&(S=_.uvs,S[0]=S[6]=-s.anchor.x,S[1]=S[3]=-s.anchor.y,S[2]=S[4]=1-s.anchor.x,S[5]=S[7]=1-s.anchor.y),_.upload();var T=s._texture,M=T.baseTexture,L=s.tileTransform.localTransform,F=s.uvTransform,D=M.isPowerOfTwo&&T.frame.width===M.width&&T.frame.height===M.height;D&&(M._glTextures[p.CONTEXT_UID]?D=M.wrapMode!==g.WRAP_MODES.CLAMP:M.wrapMode===g.WRAP_MODES.CLAMP&&(M.wrapMode=g.WRAP_MODES.REPEAT));var B=D?this.simpleShader:this.shader;p.bindShader(B);var K=T.width,N=T.height,V=s._width,J=s._height;y.set(L.a*K/V,L.b*K/J,L.c*N/V,L.d*N/J,L.tx/V,L.ty/J),y.invert(),D?y.prepend(F.mapCoord):(B.uniforms.uMapCoord=F.mapCoord.toArray(!0),B.uniforms.uClampFrame=F.uClampFrame,B.uniforms.uClampOffset=F.uClampOffset),B.uniforms.uTransform=y.toArray(!0),B.uniforms.uColor=k.utils.premultiplyTintToRgba(s.tint,s.worldAlpha,B.uniforms.uColor,M.premultipliedAlpha),B.uniforms.translationMatrix=s.transform.worldTransform.toArray(!0),B.uniforms.uSampler=p.bindTexture(T),p.setBlendMode(k.utils.correctBlendMode(s.blendMode,M.premultipliedAlpha)),_.vao.draw(this.renderer.gl.TRIANGLES,6,0)},d}(k.ObjectRenderer);E.default=l,k.WebGLRenderer.registerPlugin("tilingSprite",l)},5541:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function l(o,d){for(var f=0;f<d.length;f++){var s=d[f];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,s.key,s)}}return function(o,d,f){return d&&l(o.prototype,d),f&&l(o,f),o}}(),k=O(2321),g=x(k),b=O(6470);function x(l){if(l&&l.__esModule)return l;var o={};if(l!=null)for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(o[d]=l[d]);return o.default=l,o}function w(l,o){if(!(l instanceof o))throw new TypeError("Cannot call a class as a function")}function v(l,o){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:l}function m(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);l.prototype=Object.create(o&&o.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(l,o):l.__proto__=o)}var y=function(l){m(o,l);function o(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;w(this,o);var f=v(this,l.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`));return f.alpha=d,f.glShaderKey="alpha",f}return C(o,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(f){this.uniforms.uAlpha=f}}]),o}(g.Filter);E.default=y},9216:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function s(p,_){for(var S=0;S<_.length;S++){var T=_[S];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(p,T.key,T)}}return function(p,_,S){return _&&s(p.prototype,_),S&&s(p,S),p}}(),k=O(2321),g=y(k),b=O(8966),x=m(b),w=O(7623),v=m(w);function m(s){return s&&s.__esModule?s:{default:s}}function y(s){if(s&&s.__esModule)return s;var p={};if(s!=null)for(var _ in s)Object.prototype.hasOwnProperty.call(s,_)&&(p[_]=s[_]);return p.default=s,p}function l(s,p){if(!(s instanceof p))throw new TypeError("Cannot call a class as a function")}function o(s,p){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:s}function d(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(s,p):s.__proto__=p)}var f=function(s){d(p,s);function p(_,S,T,M){l(this,p);var L=o(this,s.call(this));return L.blurXFilter=new x.default(_,S,T,M),L.blurYFilter=new v.default(_,S,T,M),L.padding=0,L.resolution=T||g.settings.RESOLUTION,L.quality=S||4,L.blur=_||8,L}return p.prototype.apply=function(S,T,M){var L=S.getRenderTarget(!0);this.blurXFilter.apply(S,T,L,!0),this.blurYFilter.apply(S,L,M,!1),S.returnRenderTarget(L)},C(p,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(S){this.blurXFilter.blur=this.blurYFilter.blur=S,this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(S){this.blurXFilter.quality=this.blurYFilter.quality=S}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(S){this.blurXFilter.blur=S,this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(S){this.blurYFilter.blur=S,this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(S){this.blurYFilter._blendMode=S}}]),p}(g.Filter);E.default=f},8966:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function _(S,T){for(var M=0;M<T.length;M++){var L=T[M];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,L.key,L)}}return function(S,T,M){return T&&_(S.prototype,T),M&&_(S,M),S}}(),k=O(2321),g=o(k),b=O(7923),x=l(b),w=O(4576),v=l(w),m=O(9449),y=l(m);function l(_){return _&&_.__esModule?_:{default:_}}function o(_){if(_&&_.__esModule)return _;var S={};if(_!=null)for(var T in _)Object.prototype.hasOwnProperty.call(_,T)&&(S[T]=_[T]);return S.default=_,S}function d(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")}function f(_,S){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:_}function s(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);_.prototype=Object.create(S&&S.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(_,S):_.__proto__=S)}var p=function(_){s(S,_);function S(T,M,L,F){d(this,S),F=F||5;var D=(0,x.default)(F,!0),B=(0,v.default)(F),K=f(this,_.call(this,D,B));return K.resolution=L||g.settings.RESOLUTION,K._quality=0,K.quality=M||4,K.strength=T||8,K.firstRun=!0,K}return S.prototype.apply=function(M,L,F,D){if(this.firstRun){var B=M.renderer.gl,K=(0,y.default)(B);this.vertexSrc=(0,x.default)(K,!0),this.fragmentSrc=(0,v.default)(K),this.firstRun=!1}if(this.uniforms.strength=1/F.size.width*(F.size.width/L.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)M.applyFilter(this,L,F,D);else{for(var N=M.getRenderTarget(!0),V=L,J=N,se=0;se<this.passes-1;se++){M.applyFilter(this,V,J,!0);var ie=J;J=V,V=ie}M.applyFilter(this,V,F,D),M.returnRenderTarget(N)}},C(S,[{key:"blur",get:function(){return this.strength},set:function(M){this.padding=Math.abs(M)*2,this.strength=M}},{key:"quality",get:function(){return this._quality},set:function(M){this._quality=M,this.passes=M}}]),S}(g.Filter);E.default=p},7623:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function _(S,T){for(var M=0;M<T.length;M++){var L=T[M];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,L.key,L)}}return function(S,T,M){return T&&_(S.prototype,T),M&&_(S,M),S}}(),k=O(2321),g=o(k),b=O(7923),x=l(b),w=O(4576),v=l(w),m=O(9449),y=l(m);function l(_){return _&&_.__esModule?_:{default:_}}function o(_){if(_&&_.__esModule)return _;var S={};if(_!=null)for(var T in _)Object.prototype.hasOwnProperty.call(_,T)&&(S[T]=_[T]);return S.default=_,S}function d(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")}function f(_,S){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:_}function s(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);_.prototype=Object.create(S&&S.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(_,S):_.__proto__=S)}var p=function(_){s(S,_);function S(T,M,L,F){d(this,S),F=F||5;var D=(0,x.default)(F,!1),B=(0,v.default)(F),K=f(this,_.call(this,D,B));return K.resolution=L||g.settings.RESOLUTION,K._quality=0,K.quality=M||4,K.strength=T||8,K.firstRun=!0,K}return S.prototype.apply=function(M,L,F,D){if(this.firstRun){var B=M.renderer.gl,K=(0,y.default)(B);this.vertexSrc=(0,x.default)(K,!1),this.fragmentSrc=(0,v.default)(K),this.firstRun=!1}if(this.uniforms.strength=1/F.size.height*(F.size.height/L.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)M.applyFilter(this,L,F,D);else{for(var N=M.getRenderTarget(!0),V=L,J=N,se=0;se<this.passes-1;se++){M.applyFilter(this,V,J,!0);var ie=J;J=V,V=ie}M.applyFilter(this,V,F,D),M.returnRenderTarget(N)}},C(S,[{key:"blur",get:function(){return this.strength},set:function(M){this.padding=Math.abs(M)*2,this.strength=M}},{key:"quality",get:function(){return this._quality},set:function(M){this._quality=M,this.passes=M}}]),S}(g.Filter);E.default=p},4576:(de,E)=>{"use strict";E.__esModule=!0,E.default=k;var O={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},C=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function k(g){for(var b=O[g],x=b.length,w=C,v="",m="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",y=void 0,l=0;l<g;l++){var o=m.replace("%index%",l);y=l,l>=x&&(y=g-l-1),o=o.replace("%value%",b[y]),v+=o,v+=`
`}return w=w.replace("%blur%",v),w=w.replace("%size%",g),w}},7923:(de,E)=>{"use strict";E.__esModule=!0,E.default=C;var O=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join(`
`);function C(k,g){var b=Math.ceil(k/2),x=O,w="",v=void 0;g?v="vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":v="vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var m=0;m<k;m++){var y=v.replace("%index%",m);y=y.replace("%sampleIndex%",m-(b-1)+".0"),w+=y,w+=`
`}return x=x.replace("%blur%",w),x=x.replace("%size%",k),x}},9449:(de,E)=>{"use strict";E.__esModule=!0,E.default=O;function O(C){for(var k=C.getParameter(C.MAX_VARYING_VECTORS),g=15;g>k;)g-=2;return g}},7750:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function l(o,d){for(var f=0;f<d.length;f++){var s=d[f];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,s.key,s)}}return function(o,d,f){return d&&l(o.prototype,d),f&&l(o,f),o}}(),k=O(2321),g=x(k),b=O(6470);function x(l){if(l&&l.__esModule)return l;var o={};if(l!=null)for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(o[d]=l[d]);return o.default=l,o}function w(l,o){if(!(l instanceof o))throw new TypeError("Cannot call a class as a function")}function v(l,o){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:l}function m(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);l.prototype=Object.create(o&&o.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(l,o):l.__proto__=o)}var y=function(l){m(o,l);function o(){w(this,o);var d=v(this,l.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`));return d.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],d.alpha=1,d}return o.prototype._loadMatrix=function(f){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,p=f;s&&(this._multiply(p,this.uniforms.m,f),p=this._colorMatrix(p)),this.uniforms.m=p},o.prototype._multiply=function(f,s,p){return f[0]=s[0]*p[0]+s[1]*p[5]+s[2]*p[10]+s[3]*p[15],f[1]=s[0]*p[1]+s[1]*p[6]+s[2]*p[11]+s[3]*p[16],f[2]=s[0]*p[2]+s[1]*p[7]+s[2]*p[12]+s[3]*p[17],f[3]=s[0]*p[3]+s[1]*p[8]+s[2]*p[13]+s[3]*p[18],f[4]=s[0]*p[4]+s[1]*p[9]+s[2]*p[14]+s[3]*p[19]+s[4],f[5]=s[5]*p[0]+s[6]*p[5]+s[7]*p[10]+s[8]*p[15],f[6]=s[5]*p[1]+s[6]*p[6]+s[7]*p[11]+s[8]*p[16],f[7]=s[5]*p[2]+s[6]*p[7]+s[7]*p[12]+s[8]*p[17],f[8]=s[5]*p[3]+s[6]*p[8]+s[7]*p[13]+s[8]*p[18],f[9]=s[5]*p[4]+s[6]*p[9]+s[7]*p[14]+s[8]*p[19]+s[9],f[10]=s[10]*p[0]+s[11]*p[5]+s[12]*p[10]+s[13]*p[15],f[11]=s[10]*p[1]+s[11]*p[6]+s[12]*p[11]+s[13]*p[16],f[12]=s[10]*p[2]+s[11]*p[7]+s[12]*p[12]+s[13]*p[17],f[13]=s[10]*p[3]+s[11]*p[8]+s[12]*p[13]+s[13]*p[18],f[14]=s[10]*p[4]+s[11]*p[9]+s[12]*p[14]+s[13]*p[19]+s[14],f[15]=s[15]*p[0]+s[16]*p[5]+s[17]*p[10]+s[18]*p[15],f[16]=s[15]*p[1]+s[16]*p[6]+s[17]*p[11]+s[18]*p[16],f[17]=s[15]*p[2]+s[16]*p[7]+s[17]*p[12]+s[18]*p[17],f[18]=s[15]*p[3]+s[16]*p[8]+s[17]*p[13]+s[18]*p[18],f[19]=s[15]*p[4]+s[16]*p[9]+s[17]*p[14]+s[18]*p[19]+s[19],f},o.prototype._colorMatrix=function(f){var s=new Float32Array(f);return s[4]/=255,s[9]/=255,s[14]/=255,s[19]/=255,s},o.prototype.brightness=function(f,s){var p=[f,0,0,0,0,0,f,0,0,0,0,0,f,0,0,0,0,0,1,0];this._loadMatrix(p,s)},o.prototype.greyscale=function(f,s){var p=[f,f,f,0,0,f,f,f,0,0,f,f,f,0,0,0,0,0,1,0];this._loadMatrix(p,s)},o.prototype.blackAndWhite=function(f){var s=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(s,f)},o.prototype.hue=function(f,s){f=(f||0)/180*Math.PI;var p=Math.cos(f),_=Math.sin(f),S=Math.sqrt,T=1/3,M=S(T),L=p+(1-p)*T,F=T*(1-p)-M*_,D=T*(1-p)+M*_,B=T*(1-p)+M*_,K=p+T*(1-p),N=T*(1-p)-M*_,V=T*(1-p)-M*_,J=T*(1-p)+M*_,se=p+T*(1-p),ie=[L,F,D,0,0,B,K,N,0,0,V,J,se,0,0,0,0,0,1,0];this._loadMatrix(ie,s)},o.prototype.contrast=function(f,s){var p=(f||0)+1,_=-.5*(p-1),S=[p,0,0,0,_,0,p,0,0,_,0,0,p,0,_,0,0,0,1,0];this._loadMatrix(S,s)},o.prototype.saturate=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,s=arguments[1],p=f*2/3+1,_=(p-1)*-.5,S=[p,_,_,0,0,_,p,_,0,0,_,_,p,0,0,0,0,0,1,0];this._loadMatrix(S,s)},o.prototype.desaturate=function(){this.saturate(-1)},o.prototype.negative=function(f){var s=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(s,f)},o.prototype.sepia=function(f){var s=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(s,f)},o.prototype.technicolor=function(f){var s=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(s,f)},o.prototype.polaroid=function(f){var s=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(s,f)},o.prototype.toBGR=function(f){var s=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(s,f)},o.prototype.kodachrome=function(f){var s=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(s,f)},o.prototype.browni=function(f){var s=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(s,f)},o.prototype.vintage=function(f){var s=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(s,f)},o.prototype.colorTone=function(f,s,p,_,S){f=f||.2,s=s||.15,p=p||16770432,_=_||3375104;var T=(p>>16&255)/255,M=(p>>8&255)/255,L=(p&255)/255,F=(_>>16&255)/255,D=(_>>8&255)/255,B=(_&255)/255,K=[.3,.59,.11,0,0,T,M,L,f,0,F,D,B,s,0,T-F,M-D,L-B,0,0];this._loadMatrix(K,S)},o.prototype.night=function(f,s){f=f||.1;var p=[f*-2,-f,0,0,0,-f,0,f,0,0,0,f,f*2,0,0,0,0,0,1,0];this._loadMatrix(p,s)},o.prototype.predator=function(f,s){var p=[11.224130630493164*f,-4.794486999511719*f,-2.8746118545532227*f,0*f,.40342438220977783*f,-3.6330697536468506*f,9.193157196044922*f,-2.951810836791992*f,0*f,-1.316135048866272*f,-3.2184197902679443*f,-4.2375030517578125*f,7.476448059082031*f,0*f,.8044459223747253*f,0,0,0,1,0];this._loadMatrix(p,s)},o.prototype.lsd=function(f){var s=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(s,f)},o.prototype.reset=function(){var f=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(f,!1)},C(o,[{key:"matrix",get:function(){return this.uniforms.m},set:function(f){this.uniforms.m=f}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(f){this.uniforms.uAlpha=f}}]),o}(g.Filter);E.default=y,y.prototype.grayscale=y.prototype.greyscale},3276:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function l(o,d){for(var f=0;f<d.length;f++){var s=d[f];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,s.key,s)}}return function(o,d,f){return d&&l(o.prototype,d),f&&l(o,f),o}}(),k=O(2321),g=x(k),b=O(6470);function x(l){if(l&&l.__esModule)return l;var o={};if(l!=null)for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(o[d]=l[d]);return o.default=l,o}function w(l,o){if(!(l instanceof o))throw new TypeError("Cannot call a class as a function")}function v(l,o){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:l}function m(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);l.prototype=Object.create(o&&o.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(l,o):l.__proto__=o)}var y=function(l){m(o,l);function o(d,f){w(this,o);var s=new g.Matrix;d.renderable=!1;var p=v(this,l.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

void main(void)
{
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;
   vTextureCoord = aTextureCoord;
}`,`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;

uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy *= scale / filterArea.xy;

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));
}
`));return p.maskSprite=d,p.maskMatrix=s,p.uniforms.mapSampler=d._texture,p.uniforms.filterMatrix=s,p.uniforms.scale={x:1,y:1},f==null&&(f=20),p.scale=new g.Point(f,f),p}return o.prototype.apply=function(f,s,p){this.uniforms.filterMatrix=f.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,f.applyFilter(this,s,p)},C(o,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(f){this.uniforms.mapSampler=f}}]),o}(g.Filter);E.default=y},2113:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(2321),k=b(C),g=O(6470);function b(y){if(y&&y.__esModule)return y;var l={};if(y!=null)for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(l[o]=y[o]);return l.default=y,l}function x(y,l){if(!(y instanceof l))throw new TypeError("Cannot call a class as a function")}function w(y,l){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:y}function v(y,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);y.prototype=Object.create(l&&l.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(y,l):y.__proto__=l)}var m=function(y){v(l,y);function l(){return x(this,l),w(this,y.call(this,`
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

uniform vec4 filterArea;

varying vec2 vTextureCoord;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

void texcoords(vec2 fragCoord, vec2 resolution,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    vec2 inverseVP = 1.0 / resolution.xy;
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

   vTextureCoord = aTextureCoord;

   vec2 fragCoord = vTextureCoord * filterArea.xy;

   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}`,`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.
 
 --
 
 From:
 https://github.com/mitsuhiko/webgl-meincraft
 
 Copyright (c) 2011 by Armin Ronacher.
 
 Some rights reserved.
 
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:
 
 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.
 
 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.
 
 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.
 
 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));
    
    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));
    
    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);
    
    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;
    
    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);
    
    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec2 fragCoord = vTextureCoord * filterArea.xy;

      vec4 color;

    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`))}return l}(k.Filter);E.default=m},3430:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(2113);Object.defineProperty(E,"FXAAFilter",{enumerable:!0,get:function(){return y(C).default}});var k=O(5107);Object.defineProperty(E,"NoiseFilter",{enumerable:!0,get:function(){return y(k).default}});var g=O(3276);Object.defineProperty(E,"DisplacementFilter",{enumerable:!0,get:function(){return y(g).default}});var b=O(9216);Object.defineProperty(E,"BlurFilter",{enumerable:!0,get:function(){return y(b).default}});var x=O(8966);Object.defineProperty(E,"BlurXFilter",{enumerable:!0,get:function(){return y(x).default}});var w=O(7623);Object.defineProperty(E,"BlurYFilter",{enumerable:!0,get:function(){return y(w).default}});var v=O(7750);Object.defineProperty(E,"ColorMatrixFilter",{enumerable:!0,get:function(){return y(v).default}});var m=O(5541);Object.defineProperty(E,"AlphaFilter",{enumerable:!0,get:function(){return y(m).default}});function y(l){return l&&l.__esModule?l:{default:l}}},5107:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function l(o,d){for(var f=0;f<d.length;f++){var s=d[f];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,s.key,s)}}return function(o,d,f){return d&&l(o.prototype,d),f&&l(o,f),o}}(),k=O(2321),g=x(k),b=O(6470);function x(l){if(l&&l.__esModule)return l;var o={};if(l!=null)for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(o[d]=l[d]);return o.default=l,o}function w(l,o){if(!(l instanceof o))throw new TypeError("Cannot call a class as a function")}function v(l,o){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:l}function m(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);l.prototype=Object.create(o&&o.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(l,o):l.__proto__=o)}var y=function(l){m(o,l);function o(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:.5,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Math.random();w(this,o);var s=v(this,l.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`));return s.noise=d,s.seed=f,s}return C(o,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(f){this.uniforms.uNoise=f}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(f){this.uniforms.uSeed=f}}]),o}(g.Filter);E.default=y},8687:(de,E,O)=>{"use strict";E.__esModule=!0,E.loader=E.prepare=E.particles=E.mesh=E.loaders=E.interaction=E.filters=E.extras=E.extract=E.accessibility=void 0;var C=O(381);Object.keys(C).forEach(function(V){V==="default"||V==="__esModule"||Object.defineProperty(E,V,{enumerable:!0,get:function(){return C[V]}})});var k=O(2321);Object.keys(k).forEach(function(V){V==="default"||V==="__esModule"||Object.defineProperty(E,V,{enumerable:!0,get:function(){return k[V]}})});var g=O(6910),b=K(g),x=O(6807),w=B(x),v=O(4855),m=B(v),y=O(4601),l=B(y),o=O(3430),d=B(o),f=O(5798),s=B(f),p=O(3893),_=B(p),S=O(7601),T=B(S),M=O(4728),L=B(M),F=O(9878),D=B(F);function B(V){if(V&&V.__esModule)return V;var J={};if(V!=null)for(var se in V)Object.prototype.hasOwnProperty.call(V,se)&&(J[se]=V[se]);return J.default=V,J}function K(V){return V&&V.__esModule?V:{default:V}}k.utils.mixins.performMixins();var N=_.shared||null;E.accessibility=w,E.extract=m,E.extras=l,E.filters=d,E.interaction=s,E.loaders=_,E.mesh=T,E.particles=L,E.prepare=D,E.loader=N,typeof b.default=="function"&&(0,b.default)(E),O.g.PIXI=E},1422:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function v(m,y){for(var l=0;l<y.length;l++){var o=y[l];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(m,o.key,o)}}return function(m,y,l){return y&&v(m.prototype,y),l&&v(m,l),m}}(),k=O(2321),g=b(k);function b(v){if(v&&v.__esModule)return v;var m={};if(v!=null)for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(m[y]=v[y]);return m.default=v,m}function x(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}var w=function(){function v(){x(this,v),this.global=new g.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return v.prototype.getLocalPosition=function(y,l,o){return y.worldTransform.applyInverse(o||this.global,l)},v.prototype.copyEvent=function(y){y.isPrimary&&(this.isPrimary=!0),this.button=y.button,this.buttons=Number.isInteger(y.buttons)?y.buttons:y.which,this.width=y.width,this.height=y.height,this.tiltX=y.tiltX,this.tiltY=y.tiltY,this.pointerType=y.pointerType,this.pressure=y.pressure,this.rotationAngle=y.rotationAngle,this.twist=y.twist||0,this.tangentialPressure=y.tangentialPressure||0},v.prototype.reset=function(){this.isPrimary=!1},C(v,[{key:"pointerId",get:function(){return this.identifier}}]),v}();E.default=w},7308:(de,E)=>{"use strict";E.__esModule=!0;function O(k,g){if(!(k instanceof g))throw new TypeError("Cannot call a class as a function")}var C=function(){function k(){O(this,k),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return k.prototype.stopPropagation=function(){this.stopped=!0},k.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},k}();E.default=C},4515:(de,E,O)=>{"use strict";E.__esModule=!0;var C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},k=O(2321),g=p(k),b=O(1422),x=s(b),w=O(7308),v=s(w),m=O(6793),y=s(m),l=O(5323),o=s(l),d=O(5262),f=s(d);function s(D){return D&&D.__esModule?D:{default:D}}function p(D){if(D&&D.__esModule)return D;var B={};if(D!=null)for(var K in D)Object.prototype.hasOwnProperty.call(D,K)&&(B[K]=D[K]);return B.default=D,B}function _(D,B){if(!(D instanceof B))throw new TypeError("Cannot call a class as a function")}function S(D,B){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:D}function T(D,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);D.prototype=Object.create(B&&B.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(D,B):D.__proto__=B)}g.utils.mixins.delayMixin(g.DisplayObject.prototype,f.default);var M=1,L={target:null,data:{global:null}},F=function(D){T(B,D);function B(K,N){_(this,B);var V=S(this,D.call(this));return N=N||{},V.renderer=K,V.autoPreventDefault=N.autoPreventDefault!==void 0?N.autoPreventDefault:!0,V.interactionFrequency=N.interactionFrequency||10,V.mouse=new x.default,V.mouse.identifier=M,V.mouse.global.set(-999999),V.activeInteractionData={},V.activeInteractionData[M]=V.mouse,V.interactionDataPool=[],V.eventData=new v.default,V.interactionDOMElement=null,V.moveWhenInside=!1,V.eventsAdded=!1,V.mouseOverRenderer=!1,V.supportsTouchEvents="ontouchstart"in window,V.supportsPointerEvents=!!window.PointerEvent,V.onPointerUp=V.onPointerUp.bind(V),V.processPointerUp=V.processPointerUp.bind(V),V.onPointerCancel=V.onPointerCancel.bind(V),V.processPointerCancel=V.processPointerCancel.bind(V),V.onPointerDown=V.onPointerDown.bind(V),V.processPointerDown=V.processPointerDown.bind(V),V.onPointerMove=V.onPointerMove.bind(V),V.processPointerMove=V.processPointerMove.bind(V),V.onPointerOut=V.onPointerOut.bind(V),V.processPointerOverOut=V.processPointerOverOut.bind(V),V.onPointerOver=V.onPointerOver.bind(V),V.cursorStyles={default:"inherit",pointer:"pointer"},V.currentCursorMode=null,V.cursor=null,V._tempPoint=new g.Point,V.resolution=1,V.setTargetElement(V.renderer.view,V.renderer.resolution),V}return B.prototype.hitTest=function(N,V){return L.target=null,L.data.global=N,V||(V=this.renderer._lastObjectRendered),this.processInteractive(L,V,null,!0),L.target},B.prototype.setTargetElement=function(N){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=N,this.resolution=V,this.addEvents()},B.prototype.addEvents=function(){!this.interactionDOMElement||(g.ticker.shared.add(this.update,this,g.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},B.prototype.removeEvents=function(){!this.interactionDOMElement||(g.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},B.prototype.update=function(N){if(this._deltaTime+=N,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,!!this.interactionDOMElement)){if(this.didMove){this.didMove=!1;return}this.cursor=null;for(var V in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(V)){var J=this.activeInteractionData[V];if(J.originalEvent&&J.pointerType!=="touch"){var se=this.configureInteractionEventForDOMEvent(this.eventData,J.originalEvent,J);this.processInteractive(se,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},B.prototype.setCursorMode=function(N){if(N=N||"default",this.currentCursorMode!==N){this.currentCursorMode=N;var V=this.cursorStyles[N];if(V)switch(typeof V=="undefined"?"undefined":C(V)){case"string":this.interactionDOMElement.style.cursor=V;break;case"function":V(N);break;case"object":Object.assign(this.interactionDOMElement.style,V);break}else typeof N=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,N)&&(this.interactionDOMElement.style.cursor=N)}},B.prototype.dispatchEvent=function(N,V,J){J.stopped||(J.currentTarget=N,J.type=V,N.emit(V,J),N[V]&&N[V](J))},B.prototype.mapPositionToPoint=function(N,V,J){var se=void 0;this.interactionDOMElement.parentElement?se=this.interactionDOMElement.getBoundingClientRect():se={x:0,y:0,width:0,height:0};var ie=navigator.isCocoonJS?this.resolution:1/this.resolution;N.x=(V-se.left)*(this.interactionDOMElement.width/se.width)*ie,N.y=(J-se.top)*(this.interactionDOMElement.height/se.height)*ie},B.prototype.processInteractive=function(N,V,J,se,ie){if(!V||!V.visible)return!1;var ae=N.data.global;ie=V.interactive||ie;var W=!1,Q=ie,H=!0;if(V.hitArea?(se&&(V.worldTransform.applyInverse(ae,this._tempPoint),V.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?W=!0:(se=!1,H=!1)),Q=!1):V._mask&&se&&(V._mask.containsPoint(ae)||(se=!1,H=!1)),H&&V.interactiveChildren&&V.children)for(var Y=V.children,Z=Y.length-1;Z>=0;Z--){var $=Y[Z],ee=this.processInteractive(N,$,J,se,Q);if(ee){if(!$.parent)continue;Q=!1,ee&&(N.target&&(se=!1),W=!0)}}return ie&&(se&&!N.target&&!V.hitArea&&V.containsPoint&&V.containsPoint(ae)&&(W=!0),V.interactive&&(W&&!N.target&&(N.target=V),J&&J(N,V,!!W))),W},B.prototype.onPointerDown=function(N){if(!(this.supportsTouchEvents&&N.pointerType==="touch")){var V=this.normalizeToPointerData(N);this.autoPreventDefault&&V[0].isNormalized&&N.preventDefault();for(var J=V.length,se=0;se<J;se++){var ie=V[se],ae=this.getInteractionDataForPointerId(ie),W=this.configureInteractionEventForDOMEvent(this.eventData,ie,ae);if(W.data.originalEvent=N,this.processInteractive(W,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",W),ie.pointerType==="touch")this.emit("touchstart",W);else if(ie.pointerType==="mouse"||ie.pointerType==="pen"){var Q=ie.button===2;this.emit(Q?"rightdown":"mousedown",this.eventData)}}}},B.prototype.processPointerDown=function(N,V,J){var se=N.data,ie=N.data.identifier;if(J){if(V.trackedPointers[ie]||(V.trackedPointers[ie]=new y.default(ie)),this.dispatchEvent(V,"pointerdown",N),se.pointerType==="touch")this.dispatchEvent(V,"touchstart",N);else if(se.pointerType==="mouse"||se.pointerType==="pen"){var ae=se.button===2;ae?V.trackedPointers[ie].rightDown=!0:V.trackedPointers[ie].leftDown=!0,this.dispatchEvent(V,ae?"rightdown":"mousedown",N)}}},B.prototype.onPointerComplete=function(N,V,J){for(var se=this.normalizeToPointerData(N),ie=se.length,ae=N.target!==this.interactionDOMElement?"outside":"",W=0;W<ie;W++){var Q=se[W],H=this.getInteractionDataForPointerId(Q),Y=this.configureInteractionEventForDOMEvent(this.eventData,Q,H);if(Y.data.originalEvent=N,this.processInteractive(Y,this.renderer._lastObjectRendered,J,V||!ae),this.emit(V?"pointercancel":"pointerup"+ae,Y),Q.pointerType==="mouse"||Q.pointerType==="pen"){var Z=Q.button===2;this.emit(Z?"rightup"+ae:"mouseup"+ae,Y)}else Q.pointerType==="touch"&&(this.emit(V?"touchcancel":"touchend"+ae,Y),this.releaseInteractionDataForPointerId(Q.pointerId,H))}},B.prototype.onPointerCancel=function(N){this.supportsTouchEvents&&N.pointerType==="touch"||this.onPointerComplete(N,!0,this.processPointerCancel)},B.prototype.processPointerCancel=function(N,V){var J=N.data,se=N.data.identifier;V.trackedPointers[se]!==void 0&&(delete V.trackedPointers[se],this.dispatchEvent(V,"pointercancel",N),J.pointerType==="touch"&&this.dispatchEvent(V,"touchcancel",N))},B.prototype.onPointerUp=function(N){this.supportsTouchEvents&&N.pointerType==="touch"||this.onPointerComplete(N,!1,this.processPointerUp)},B.prototype.processPointerUp=function(N,V,J){var se=N.data,ie=N.data.identifier,ae=V.trackedPointers[ie],W=se.pointerType==="touch",Q=se.pointerType==="mouse"||se.pointerType==="pen",H=!1;if(Q){var Y=se.button===2,Z=y.default.FLAGS,$=Y?Z.RIGHT_DOWN:Z.LEFT_DOWN,ee=ae!==void 0&&ae.flags&$;J?(this.dispatchEvent(V,Y?"rightup":"mouseup",N),ee&&(this.dispatchEvent(V,Y?"rightclick":"click",N),H=!0)):ee&&this.dispatchEvent(V,Y?"rightupoutside":"mouseupoutside",N),ae&&(Y?ae.rightDown=!1:ae.leftDown=!1)}J?(this.dispatchEvent(V,"pointerup",N),W&&this.dispatchEvent(V,"touchend",N),ae&&((!Q||H)&&this.dispatchEvent(V,"pointertap",N),W&&(this.dispatchEvent(V,"tap",N),ae.over=!1))):ae&&(this.dispatchEvent(V,"pointerupoutside",N),W&&this.dispatchEvent(V,"touchendoutside",N)),ae&&ae.none&&delete V.trackedPointers[ie]},B.prototype.onPointerMove=function(N){if(!(this.supportsTouchEvents&&N.pointerType==="touch")){var V=this.normalizeToPointerData(N);(V[0].pointerType==="mouse"||V[0].pointerType==="pen")&&(this.didMove=!0,this.cursor=null);for(var J=V.length,se=0;se<J;se++){var ie=V[se],ae=this.getInteractionDataForPointerId(ie),W=this.configureInteractionEventForDOMEvent(this.eventData,ie,ae);W.data.originalEvent=N;var Q=ie.pointerType==="touch"?this.moveWhenInside:!0;this.processInteractive(W,this.renderer._lastObjectRendered,this.processPointerMove,Q),this.emit("pointermove",W),ie.pointerType==="touch"&&this.emit("touchmove",W),(ie.pointerType==="mouse"||ie.pointerType==="pen")&&this.emit("mousemove",W)}V[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},B.prototype.processPointerMove=function(N,V,J){var se=N.data,ie=se.pointerType==="touch",ae=se.pointerType==="mouse"||se.pointerType==="pen";ae&&this.processPointerOverOut(N,V,J),(!this.moveWhenInside||J)&&(this.dispatchEvent(V,"pointermove",N),ie&&this.dispatchEvent(V,"touchmove",N),ae&&this.dispatchEvent(V,"mousemove",N))},B.prototype.onPointerOut=function(N){if(!(this.supportsTouchEvents&&N.pointerType==="touch")){var V=this.normalizeToPointerData(N),J=V[0];J.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var se=this.getInteractionDataForPointerId(J),ie=this.configureInteractionEventForDOMEvent(this.eventData,J,se);ie.data.originalEvent=J,this.processInteractive(ie,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",ie),J.pointerType==="mouse"||J.pointerType==="pen"?this.emit("mouseout",ie):this.releaseInteractionDataForPointerId(se.identifier)}},B.prototype.processPointerOverOut=function(N,V,J){var se=N.data,ie=N.data.identifier,ae=se.pointerType==="mouse"||se.pointerType==="pen",W=V.trackedPointers[ie];J&&!W&&(W=V.trackedPointers[ie]=new y.default(ie)),W!==void 0&&(J&&this.mouseOverRenderer?(W.over||(W.over=!0,this.dispatchEvent(V,"pointerover",N),ae&&this.dispatchEvent(V,"mouseover",N)),ae&&this.cursor===null&&(this.cursor=V.cursor)):W.over&&(W.over=!1,this.dispatchEvent(V,"pointerout",this.eventData),ae&&this.dispatchEvent(V,"mouseout",N),W.none&&delete V.trackedPointers[ie]))},B.prototype.onPointerOver=function(N){var V=this.normalizeToPointerData(N),J=V[0],se=this.getInteractionDataForPointerId(J),ie=this.configureInteractionEventForDOMEvent(this.eventData,J,se);ie.data.originalEvent=J,J.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",ie),(J.pointerType==="mouse"||J.pointerType==="pen")&&this.emit("mouseover",ie)},B.prototype.getInteractionDataForPointerId=function(N){var V=N.pointerId,J=void 0;return V===M||N.pointerType==="mouse"?J=this.mouse:this.activeInteractionData[V]?J=this.activeInteractionData[V]:(J=this.interactionDataPool.pop()||new x.default,J.identifier=V,this.activeInteractionData[V]=J),J.copyEvent(N),J},B.prototype.releaseInteractionDataForPointerId=function(N){var V=this.activeInteractionData[N];V&&(delete this.activeInteractionData[N],V.reset(),this.interactionDataPool.push(V))},B.prototype.configureInteractionEventForDOMEvent=function(N,V,J){return N.data=J,this.mapPositionToPoint(J.global,V.clientX,V.clientY),navigator.isCocoonJS&&V.pointerType==="touch"&&(J.global.x=J.global.x/this.resolution,J.global.y=J.global.y/this.resolution),V.pointerType==="touch"&&(V.globalX=J.global.x,V.globalY=J.global.y),J.originalEvent=V,N.reset(),N},B.prototype.normalizeToPointerData=function(N){var V=[];if(this.supportsTouchEvents&&N instanceof TouchEvent)for(var J=0,se=N.changedTouches.length;J<se;J++){var ie=N.changedTouches[J];typeof ie.button=="undefined"&&(ie.button=N.touches.length?1:0),typeof ie.buttons=="undefined"&&(ie.buttons=N.touches.length?1:0),typeof ie.isPrimary=="undefined"&&(ie.isPrimary=N.touches.length===1&&N.type==="touchstart"),typeof ie.width=="undefined"&&(ie.width=ie.radiusX||1),typeof ie.height=="undefined"&&(ie.height=ie.radiusY||1),typeof ie.tiltX=="undefined"&&(ie.tiltX=0),typeof ie.tiltY=="undefined"&&(ie.tiltY=0),typeof ie.pointerType=="undefined"&&(ie.pointerType="touch"),typeof ie.pointerId=="undefined"&&(ie.pointerId=ie.identifier||0),typeof ie.pressure=="undefined"&&(ie.pressure=ie.force||.5),typeof ie.twist=="undefined"&&(ie.twist=0),typeof ie.tangentialPressure=="undefined"&&(ie.tangentialPressure=0),typeof ie.layerX=="undefined"&&(ie.layerX=ie.offsetX=ie.clientX),typeof ie.layerY=="undefined"&&(ie.layerY=ie.offsetY=ie.clientY),ie.isNormalized=!0,V.push(ie)}else N instanceof MouseEvent&&(!this.supportsPointerEvents||!(N instanceof window.PointerEvent))&&(typeof N.isPrimary=="undefined"&&(N.isPrimary=!0),typeof N.width=="undefined"&&(N.width=1),typeof N.height=="undefined"&&(N.height=1),typeof N.tiltX=="undefined"&&(N.tiltX=0),typeof N.tiltY=="undefined"&&(N.tiltY=0),typeof N.pointerType=="undefined"&&(N.pointerType="mouse"),typeof N.pointerId=="undefined"&&(N.pointerId=M),typeof N.pressure=="undefined"&&(N.pressure=.5),typeof N.twist=="undefined"&&(N.twist=0),typeof N.tangentialPressure=="undefined"&&(N.tangentialPressure=0),N.isNormalized=!0),V.push(N);return V},B.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},B}(o.default);E.default=F,g.WebGLRenderer.registerPlugin("interaction",F),g.CanvasRenderer.registerPlugin("interaction",F)},6793:(de,E)=>{"use strict";E.__esModule=!0;var O=function(){function g(b,x){for(var w=0;w<x.length;w++){var v=x[w];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(b,v.key,v)}}return function(b,x,w){return x&&g(b.prototype,x),w&&g(b,w),b}}();function C(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}var k=function(){function g(b){C(this,g),this._pointerId=b,this._flags=g.FLAGS.NONE}return g.prototype._doSet=function(x,w){w?this._flags=this._flags|x:this._flags=this._flags&~x},O(g,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(x){this._flags=x}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return(this._flags&this.constructor.FLAGS.OVER)!=0},set:function(x){this._doSet(this.constructor.FLAGS.OVER,x)}},{key:"rightDown",get:function(){return(this._flags&this.constructor.FLAGS.RIGHT_DOWN)!=0},set:function(x){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,x)}},{key:"leftDown",get:function(){return(this._flags&this.constructor.FLAGS.LEFT_DOWN)!=0},set:function(x){this._doSet(this.constructor.FLAGS.LEFT_DOWN,x)}}]),g}();E.default=k,k.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2})},5798:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(1422);Object.defineProperty(E,"InteractionData",{enumerable:!0,get:function(){return w(C).default}});var k=O(4515);Object.defineProperty(E,"InteractionManager",{enumerable:!0,get:function(){return w(k).default}});var g=O(5262);Object.defineProperty(E,"interactiveTarget",{enumerable:!0,get:function(){return w(g).default}});var b=O(6793);Object.defineProperty(E,"InteractionTrackingData",{enumerable:!0,get:function(){return w(b).default}});var x=O(7308);Object.defineProperty(E,"InteractionEvent",{enumerable:!0,get:function(){return w(x).default}});function w(v){return v&&v.__esModule?v:{default:v}}},5262:(de,E)=>{"use strict";E.__esModule=!0,E.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(O){O?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},7916:(de,E,O)=>{"use strict";E.__esModule=!0,E.parse=w,E.default=function(){return function(m,y){if(!m.data||m.type!==g.Resource.TYPE.XML){y();return}if(m.data.getElementsByTagName("page").length===0||m.data.getElementsByTagName("info").length===0||m.data.getElementsByTagName("info")[0].getAttribute("face")===null){y();return}var l=m.isDataUrl?"":k.dirname(m.url);m.isDataUrl&&(l==="."&&(l=""),this.baseUrl&&l&&this.baseUrl.charAt(this.baseUrl.length-1)==="/"&&(l+="/")),l=l.replace(this.baseUrl,""),l&&l.charAt(l.length-1)!=="/"&&(l+="/");for(var o=m.data.getElementsByTagName("page"),d={},f=function(D){d[D.metadata.pageFile]=D.texture,Object.keys(d).length===o.length&&(w(m,d),y())},s=0;s<o.length;++s){var p=o[s].getAttribute("file"),_=l+p,S=!1;for(var T in this.resources){var M=this.resources[T];if(M.url===_){M.metadata.pageFile=p,M.texture?f(M):M.onAfterMiddleware.add(f),S=!0;break}}if(!S){var L={crossOrigin:m.crossOrigin,loadType:g.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:p},m.metadata.imageMetadata),parentResource:m};this.add(_,L,f)}}}};var C=O(6470),k=x(C),g=O(9177),b=O(4601);function x(v){if(v&&v.__esModule)return v;var m={};if(v!=null)for(var y in v)Object.prototype.hasOwnProperty.call(v,y)&&(m[y]=v[y]);return m.default=v,m}function w(v,m){v.bitmapFont=b.BitmapText.registerFont(v.data,m)}},3893:(de,E,O)=>{"use strict";E.__esModule=!0,E.shared=E.Resource=E.textureParser=E.getResourcePath=E.spritesheetParser=E.parseBitmapFontData=E.bitmapFontParser=E.Loader=void 0;var C=O(7916);Object.defineProperty(E,"bitmapFontParser",{enumerable:!0,get:function(){return y(C).default}}),Object.defineProperty(E,"parseBitmapFontData",{enumerable:!0,get:function(){return C.parse}});var k=O(4951);Object.defineProperty(E,"spritesheetParser",{enumerable:!0,get:function(){return y(k).default}}),Object.defineProperty(E,"getResourcePath",{enumerable:!0,get:function(){return k.getResourcePath}});var g=O(7681);Object.defineProperty(E,"textureParser",{enumerable:!0,get:function(){return y(g).default}});var b=O(9177);Object.defineProperty(E,"Resource",{enumerable:!0,get:function(){return b.Resource}});var x=O(5328),w=y(x),v=O(8185),m=y(v);function y(d){return d&&d.__esModule?d:{default:d}}E.Loader=m.default;var l=new m.default;l.destroy=function(){},E.shared=l;var o=w.default.prototype;o._loader=null,Object.defineProperty(o,"loader",{get:function(){if(!this._loader){var f=this._options.sharedLoader;this._loader=f?l:new m.default}return this._loader}}),o._parentDestroy=o.destroy,o.destroy=function(f,s){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(f,s)}},8185:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(9177),k=d(C),g=O(4055),b=O(5323),x=d(b),w=O(7681),v=d(w),m=O(4951),y=d(m),l=O(7916),o=d(l);function d(M){return M&&M.__esModule?M:{default:M}}function f(M,L){if(!(M instanceof L))throw new TypeError("Cannot call a class as a function")}function s(M,L){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:M}function p(M,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);M.prototype=Object.create(L&&L.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(M,L):M.__proto__=L)}var _=function(M){p(L,M);function L(F,D){f(this,L);var B=s(this,M.call(this,F,D));x.default.call(B);for(var K=0;K<L._pixiMiddleware.length;++K)B.use(L._pixiMiddleware[K]());return B.onStart.add(function(N){return B.emit("start",N)}),B.onProgress.add(function(N,V){return B.emit("progress",N,V)}),B.onError.add(function(N,V,J){return B.emit("error",N,V,J)}),B.onLoad.add(function(N,V){return B.emit("load",N,V)}),B.onComplete.add(function(N,V){return B.emit("complete",N,V)}),B}return L.addPixiMiddleware=function(D){L._pixiMiddleware.push(D)},L.prototype.destroy=function(){this.removeAllListeners(),this.reset()},L}(k.default);E.default=_;for(var S in x.default.prototype)_.prototype[S]=x.default.prototype[S];_._pixiMiddleware=[g.blobMiddlewareFactory,v.default,y.default,o.default];var T=k.default.Resource;T.setExtensionXhrType("fnt",T.XHR_RESPONSE_TYPE.DOCUMENT)},4951:(de,E,O)=>{"use strict";E.__esModule=!0,E.default=function(){return function(m,y){var l=m.name+"_image";if(!m.data||m.type!==C.Resource.TYPE.JSON||!m.data.frames||this.resources[l]){y();return}var o={crossOrigin:m.crossOrigin,metadata:m.metadata.imageMetadata,parentResource:m},d=w(m,this.baseUrl);this.add(l,d,o,function(s){if(s.error){y(s.error);return}var p=new b.Spritesheet(s.texture.baseTexture,m.data,m.url);p.parse(function(){m.spritesheet=p,m.textures=p.textures,y()})})}},E.getResourcePath=w;var C=O(9177),k=O(8575),g=x(k),b=O(2321);function x(v){return v&&v.__esModule?v:{default:v}}function w(v,m){return v.isDataUrl?v.data.meta.image:g.default.resolve(v.url.replace(m,""),v.data.meta.image)}},7681:(de,E,O)=>{"use strict";E.__esModule=!0,E.default=function(){return function(w,v){w.data&&w.type===C.Resource.TYPE.IMAGE&&(w.texture=g.default.fromLoader(w.data,w.url,w.name)),v()}};var C=O(9177),k=O(2631),g=b(k);function b(x){return x&&x.__esModule?x:{default:x}}},863:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function s(p,_){for(var S=0;S<_.length;S++){var T=_[S];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(p,T.key,T)}}return function(p,_,S){return _&&s(p.prototype,_),S&&s(p,S),p}}(),k=O(2321),g=v(k),b=O(2631),x=w(b);function w(s){return s&&s.__esModule?s:{default:s}}function v(s){if(s&&s.__esModule)return s;var p={};if(s!=null)for(var _ in s)Object.prototype.hasOwnProperty.call(s,_)&&(p[_]=s[_]);return p.default=s,p}function m(s,p){if(!(s instanceof p))throw new TypeError("Cannot call a class as a function")}function y(s,p){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:s}function l(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(s,p):s.__proto__=p)}var o=new g.Point,d=new g.Polygon,f=function(s){l(p,s);function p(_,S,T,M,L){m(this,p);var F=y(this,s.call(this));return F._texture=_||x.default.EMPTY,F.uvs=T||new Float32Array([0,0,1,0,1,1,0,1]),F.vertices=S||new Float32Array([0,0,100,0,100,100,0,100]),F.indices=M||new Uint16Array([0,1,3,2]),F.dirty=0,F.indexDirty=0,F.vertexDirty=0,F.autoUpdate=!0,F.blendMode=g.BLEND_MODES.NORMAL,F.canvasPadding=g.settings.MESH_CANVAS_PADDING,F.drawMode=L||p.DRAW_MODES.TRIANGLE_MESH,F.shader=null,F.tintRgb=new Float32Array([1,1,1]),F._glDatas={},F._uvTransform=new g.TextureMatrix(F._texture),F.uploadUvTransform=!1,F.pluginName="mesh",F}return p.prototype._renderWebGL=function(S){this.refresh(),S.setObjectRenderer(S.plugins[this.pluginName]),S.plugins[this.pluginName].render(this)},p.prototype._renderCanvas=function(S){this.refresh(),S.plugins[this.pluginName].render(this)},p.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},p.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},p.prototype.refresh=function(S){this.autoUpdate&&this.vertexDirty++,this._uvTransform.update(S)&&this._refresh()},p.prototype._refresh=function(){},p.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},p.prototype.containsPoint=function(S){if(!this.getBounds().contains(S.x,S.y))return!1;this.worldTransform.applyInverse(S,o);for(var T=this.vertices,M=d.points,L=this.indices,F=this.indices.length,D=this.drawMode===p.DRAW_MODES.TRIANGLES?3:1,B=0;B+2<F;B+=D){var K=L[B]*2,N=L[B+1]*2,V=L[B+2]*2;if(M[0]=T[K],M[1]=T[K+1],M[2]=T[N],M[3]=T[N+1],M[4]=T[V],M[5]=T[V+1],d.contains(o.x,o.y))return!0}return!1},p.prototype.destroy=function(S){for(var T in this._glDatas){var M=this._glDatas[T];M.destroy?M.destroy():(M.vertexBuffer&&(M.vertexBuffer.destroy(),M.vertexBuffer=null),M.indexBuffer&&(M.indexBuffer.destroy(),M.indexBuffer=null),M.uvBuffer&&(M.uvBuffer.destroy(),M.uvBuffer=null),M.vao&&(M.vao.destroy(),M.vao=null))}this._glDatas=null,s.prototype.destroy.call(this,S)},C(p,[{key:"texture",get:function(){return this._texture},set:function(S){this._texture!==S&&(this._texture=S,S&&(S.baseTexture.hasLoaded?this._onTextureUpdate():S.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return g.utils.rgb2hex(this.tintRgb)},set:function(S){this.tintRgb=g.utils.hex2rgb(S,this.tintRgb)}}]),p}(g.Container);E.default=f,f.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},2715:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function d(f,s){for(var p=0;p<s.length;p++){var _=s[p];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(f,_.key,_)}}return function(f,s,p){return s&&d(f.prototype,s),p&&d(f,p),f}}(),k=O(7660),g=w(k),b=O(4099),x=w(b);function w(d){return d&&d.__esModule?d:{default:d}}function v(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function m(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function y(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var l=10,o=function(d){y(f,d);function f(s,p,_,S,T){v(this,f);var M=m(this,d.call(this,s,4,4));return M._origWidth=s.orig.width,M._origHeight=s.orig.height,M._width=M._origWidth,M._height=M._origHeight,M._leftWidth=typeof p!="undefined"?p:l,M._rightWidth=typeof S!="undefined"?S:l,M._topHeight=typeof _!="undefined"?_:l,M._bottomHeight=typeof T!="undefined"?T:l,M._cachedTint=16777215,M._tintedTexture=null,M._canvasUvs=null,M.refresh(!0),M}return f.prototype.updateHorizontalVertices=function(){var p=this.vertices,_=this._topHeight+this._bottomHeight,S=this._height>_?1:this._height/_;p[9]=p[11]=p[13]=p[15]=this._topHeight*S,p[17]=p[19]=p[21]=p[23]=this._height-this._bottomHeight*S,p[25]=p[27]=p[29]=p[31]=this._height},f.prototype.updateVerticalVertices=function(){var p=this.vertices,_=this._leftWidth+this._rightWidth,S=this._width>_?1:this._width/_;p[2]=p[10]=p[18]=p[26]=this._leftWidth*S,p[4]=p[12]=p[20]=p[28]=this._width-this._rightWidth*S,p[6]=p[14]=p[22]=p[30]=this._width},f.prototype._renderCanvas=function(p){var _=p.context,S=this.worldTransform,T=p.resolution,M=this.tint!==16777215,L=this._texture;M&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedTexture=x.default.getTintedTexture(this,this.tint));var F=M?this._tintedTexture:L.baseTexture.source;this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var D=this.vertices,B=this._canvasUvs,K=M?0:L.frame.x,N=M?0:L.frame.y,V=K+L.frame.width,J=N+L.frame.height;B[0]=K,B[1]=K+this._leftWidth,B[2]=V-this._rightWidth,B[3]=V,B[4]=N,B[5]=N+this._topHeight,B[6]=J-this._bottomHeight,B[7]=J;for(var se=0;se<8;se++)B[se]*=L.baseTexture.resolution;_.globalAlpha=this.worldAlpha,p.setBlendMode(this.blendMode),p.roundPixels?_.setTransform(S.a*T,S.b*T,S.c*T,S.d*T,S.tx*T|0,S.ty*T|0):_.setTransform(S.a*T,S.b*T,S.c*T,S.d*T,S.tx*T,S.ty*T);for(var ie=0;ie<3;ie++)for(var ae=0;ae<3;ae++){var W=ae*2+ie*8,Q=Math.max(1,B[ae+1]-B[ae]),H=Math.max(1,B[ie+5]-B[ie+4]),Y=Math.max(1,D[W+10]-D[W]),Z=Math.max(1,D[W+11]-D[W+1]);_.drawImage(F,B[ae],B[ie+4],Q,H,D[W],D[W+1],Y,Z)}},f.prototype._refresh=function(){d.prototype._refresh.call(this);var p=this.uvs,_=this._texture;this._origWidth=_.orig.width,this._origHeight=_.orig.height;var S=1/this._origWidth,T=1/this._origHeight;p[0]=p[8]=p[16]=p[24]=0,p[1]=p[3]=p[5]=p[7]=0,p[6]=p[14]=p[22]=p[30]=1,p[25]=p[27]=p[29]=p[31]=1,p[2]=p[10]=p[18]=p[26]=S*this._leftWidth,p[4]=p[12]=p[20]=p[28]=1-S*this._rightWidth,p[9]=p[11]=p[13]=p[15]=T*this._topHeight,p[17]=p[19]=p[21]=p[23]=1-T*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},C(f,[{key:"width",get:function(){return this._width},set:function(p){this._width=p,this._refresh()}},{key:"height",get:function(){return this._height},set:function(p){this._height=p,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(p){this._leftWidth=p,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(p){this._rightWidth=p,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(p){this._topHeight=p,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(p){this._bottomHeight=p,this._refresh()}}]),f}(g.default);E.default=o},7660:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(863),k=g(C);function g(m){return m&&m.__esModule?m:{default:m}}function b(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function x(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function w(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var v=function(m){w(y,m);function y(l,o,d){b(this,y);var f=x(this,m.call(this,l));return f._ready=!0,f.verticesX=o||10,f.verticesY=d||10,f.drawMode=k.default.DRAW_MODES.TRIANGLES,f.refresh(),f}return y.prototype._refresh=function(){for(var o=this._texture,d=this.verticesX*this.verticesY,f=[],s=[],p=[],_=[],S=this.verticesX-1,T=this.verticesY-1,M=o.width/S,L=o.height/T,F=0;F<d;F++){var D=F%this.verticesX,B=F/this.verticesX|0;f.push(D*M,B*L),p.push(D/S,B/T)}for(var K=S*T,N=0;N<K;N++){var V=N%S,J=N/S|0,se=J*this.verticesX+V,ie=J*this.verticesX+V+1,ae=(J+1)*this.verticesX+V,W=(J+1)*this.verticesX+V+1;_.push(se,ie,ae),_.push(ie,W,ae)}this.vertices=new Float32Array(f),this.uvs=new Float32Array(p),this.colors=new Float32Array(s),this.indices=new Uint16Array(_),this.dirty++,this.indexDirty++,this.multiplyUvs()},y.prototype._onTextureUpdate=function(){k.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},y}(k.default);E.default=v},5010:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(863),k=g(C);function g(m){return m&&m.__esModule?m:{default:m}}function b(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function x(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function w(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var v=function(m){w(y,m);function y(l,o){b(this,y);var d=x(this,m.call(this,l));return d.points=o,d.vertices=new Float32Array(o.length*4),d.uvs=new Float32Array(o.length*4),d.colors=new Float32Array(o.length*2),d.indices=new Uint16Array(o.length*2),d.autoUpdate=!0,d.refresh(),d}return y.prototype._refresh=function(){var o=this.points;if(!(o.length<1||!this._texture._uvs)){this.vertices.length/4!==o.length&&(this.vertices=new Float32Array(o.length*4),this.uvs=new Float32Array(o.length*4),this.colors=new Float32Array(o.length*2),this.indices=new Uint16Array(o.length*2));var d=this.uvs,f=this.indices,s=this.colors;d[0]=0,d[1]=0,d[2]=0,d[3]=1,s[0]=1,s[1]=1,f[0]=0,f[1]=1;for(var p=o.length,_=1;_<p;_++){var S=_*4,T=_/(p-1);d[S]=T,d[S+1]=0,d[S+2]=T,d[S+3]=1,S=_*2,s[S]=1,s[S+1]=1,S=_*2,f[S]=S,f[S+1]=S+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},y.prototype.refreshVertices=function(){var o=this.points;if(!(o.length<1))for(var d=o[0],f=void 0,s=0,p=0,_=this.vertices,S=o.length,T=0;T<S;T++){var M=o[T],L=T*4;T<o.length-1?f=o[T+1]:f=M,p=-(f.x-d.x),s=f.y-d.y;var F=(1-T/(S-1))*10;F>1&&(F=1);var D=Math.sqrt(s*s+p*p),B=this._texture.height/2;s/=D,p/=D,s*=B,p*=B,_[L]=M.x+s,_[L+1]=M.y+p,_[L+2]=M.x-s,_[L+3]=M.y-p,d=M}},y.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},y}(k.default);E.default=v},266:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(2321),k=w(C),g=O(863),b=x(g);function x(y){return y&&y.__esModule?y:{default:y}}function w(y){if(y&&y.__esModule)return y;var l={};if(y!=null)for(var o in y)Object.prototype.hasOwnProperty.call(y,o)&&(l[o]=y[o]);return l.default=y,l}function v(y,l){if(!(y instanceof l))throw new TypeError("Cannot call a class as a function")}var m=function(){function y(l){v(this,y),this.renderer=l}return y.prototype.render=function(o){var d=this.renderer,f=d.context,s=o.worldTransform,p=d.resolution;d.roundPixels?f.setTransform(s.a*p,s.b*p,s.c*p,s.d*p,s.tx*p|0,s.ty*p|0):f.setTransform(s.a*p,s.b*p,s.c*p,s.d*p,s.tx*p,s.ty*p),d.context.globalAlpha=o.worldAlpha,d.setBlendMode(o.blendMode),o.drawMode===b.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(o):this._renderTriangles(o)},y.prototype._renderTriangleMesh=function(o){for(var d=o.vertices.length/2,f=0;f<d-2;f++){var s=f*2;this._renderDrawTriangle(o,s,s+2,s+4)}},y.prototype._renderTriangles=function(o){for(var d=o.indices,f=d.length,s=0;s<f;s+=3){var p=d[s]*2,_=d[s+1]*2,S=d[s+2]*2;this._renderDrawTriangle(o,p,_,S)}},y.prototype._renderDrawTriangle=function(o,d,f,s){var p=this.renderer.context,_=o.uvs,S=o.vertices,T=o._texture;if(!!T.valid){var M=T.baseTexture,L=M.source,F=M.width,D=M.height,B=void 0,K=void 0,N=void 0,V=void 0,J=void 0,se=void 0;if(o.uploadUvTransform){var ie=o._uvTransform.mapCoord;B=(_[d]*ie.a+_[d+1]*ie.c+ie.tx)*M.width,K=(_[f]*ie.a+_[f+1]*ie.c+ie.tx)*M.width,N=(_[s]*ie.a+_[s+1]*ie.c+ie.tx)*M.width,V=(_[d]*ie.b+_[d+1]*ie.d+ie.ty)*M.height,J=(_[f]*ie.b+_[f+1]*ie.d+ie.ty)*M.height,se=(_[s]*ie.b+_[s+1]*ie.d+ie.ty)*M.height}else B=_[d]*M.width,K=_[f]*M.width,N=_[s]*M.width,V=_[d+1]*M.height,J=_[f+1]*M.height,se=_[s+1]*M.height;var ae=S[d],W=S[f],Q=S[s],H=S[d+1],Y=S[f+1],Z=S[s+1],$=o.canvasPadding/this.renderer.resolution;if($>0){var ee=$/Math.abs(o.worldTransform.a),oe=$/Math.abs(o.worldTransform.d),ge=(ae+W+Q)/3,ve=(H+Y+Z)/3,we=ae-ge,Se=H-ve,_e=Math.sqrt(we*we+Se*Se);ae=ge+we/_e*(_e+ee),H=ve+Se/_e*(_e+oe),we=W-ge,Se=Y-ve,_e=Math.sqrt(we*we+Se*Se),W=ge+we/_e*(_e+ee),Y=ve+Se/_e*(_e+oe),we=Q-ge,Se=Z-ve,_e=Math.sqrt(we*we+Se*Se),Q=ge+we/_e*(_e+ee),Z=ve+Se/_e*(_e+oe)}p.save(),p.beginPath(),p.moveTo(ae,H),p.lineTo(W,Y),p.lineTo(Q,Z),p.closePath(),p.clip();var Te=B*J+V*N+K*se-J*N-V*K-B*se,Ce=ae*J+V*Q+W*se-J*Q-V*W-ae*se,We=B*W+ae*N+K*Q-W*N-ae*K-B*Q,Fe=B*J*Q+V*W*N+ae*K*se-ae*J*N-V*K*Q-B*W*se,Ge=H*J+V*Z+Y*se-J*Z-V*Y-H*se,ze=B*Y+H*N+K*Z-Y*N-H*K-B*Z,Ae=B*J*Z+V*Y*N+H*K*se-H*J*N-V*K*Z-B*Y*se;p.transform(Ce/Te,Ge/Te,We/Te,ze/Te,Fe/Te,Ae/Te),p.drawImage(L,0,0,F*M.resolution,D*M.resolution,0,0,F,D),p.restore(),this.renderer.invalidateBlendMode()}},y.prototype.renderMeshFlat=function(o){var d=this.renderer.context,f=o.vertices,s=f.length/2;d.beginPath();for(var p=1;p<s-2;++p){var _=p*2,S=f[_],T=f[_+1],M=f[_+2],L=f[_+3],F=f[_+4],D=f[_+5];d.moveTo(S,T),d.lineTo(M,L),d.lineTo(F,D)}d.fillStyle="#FF0000",d.fill(),d.closePath()},y.prototype.destroy=function(){this.renderer=null},y}();E.default=m,k.CanvasRenderer.registerPlugin("mesh",m)},7601:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(863);Object.defineProperty(E,"Mesh",{enumerable:!0,get:function(){return v(C).default}});var k=O(1324);Object.defineProperty(E,"MeshRenderer",{enumerable:!0,get:function(){return v(k).default}});var g=O(266);Object.defineProperty(E,"CanvasMeshRenderer",{enumerable:!0,get:function(){return v(g).default}});var b=O(7660);Object.defineProperty(E,"Plane",{enumerable:!0,get:function(){return v(b).default}});var x=O(2715);Object.defineProperty(E,"NineSlicePlane",{enumerable:!0,get:function(){return v(x).default}});var w=O(5010);Object.defineProperty(E,"Rope",{enumerable:!0,get:function(){return v(w).default}});function v(m){return m&&m.__esModule?m:{default:m}}},1324:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(2321),k=y(C),g=O(3070),b=m(g),x=O(863),w=m(x),v=O(6470);function m(p){return p&&p.__esModule?p:{default:p}}function y(p){if(p&&p.__esModule)return p;var _={};if(p!=null)for(var S in p)Object.prototype.hasOwnProperty.call(p,S)&&(_[S]=p[S]);return _.default=p,_}function l(p,_){if(!(p instanceof _))throw new TypeError("Cannot call a class as a function")}function o(p,_){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:p}function d(p,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);p.prototype=Object.create(_&&_.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(p,_):p.__proto__=_)}var f=k.Matrix.IDENTITY,s=function(p){d(_,p);function _(S){l(this,_);var T=o(this,p.call(this,S));return T.shader=null,T}return _.prototype.onContextChange=function(){var T=this.renderer.gl;this.shader=new k.Shader(T,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`)},_.prototype.render=function(T){var M=this.renderer,L=M.gl,F=T._texture;if(!!F.valid){var D=T._glDatas[M.CONTEXT_UID];D||(M.bindVao(null),D={shader:this.shader,vertexBuffer:b.default.GLBuffer.createVertexBuffer(L,T.vertices,L.STREAM_DRAW),uvBuffer:b.default.GLBuffer.createVertexBuffer(L,T.uvs,L.STREAM_DRAW),indexBuffer:b.default.GLBuffer.createIndexBuffer(L,T.indices,L.STATIC_DRAW),vao:null,dirty:T.dirty,indexDirty:T.indexDirty,vertexDirty:T.vertexDirty},D.vao=new b.default.VertexArrayObject(L).addIndex(D.indexBuffer).addAttribute(D.vertexBuffer,D.shader.attributes.aVertexPosition,L.FLOAT,!1,2*4,0).addAttribute(D.uvBuffer,D.shader.attributes.aTextureCoord,L.FLOAT,!1,2*4,0),T._glDatas[M.CONTEXT_UID]=D),M.bindVao(D.vao),T.dirty!==D.dirty&&(D.dirty=T.dirty,D.uvBuffer.upload(T.uvs)),T.indexDirty!==D.indexDirty&&(D.indexDirty=T.indexDirty,D.indexBuffer.upload(T.indices)),T.vertexDirty!==D.vertexDirty&&(D.vertexDirty=T.vertexDirty,D.vertexBuffer.upload(T.vertices)),M.bindShader(D.shader),D.shader.uniforms.uSampler=M.bindTexture(F),M.state.setBlendMode(k.utils.correctBlendMode(T.blendMode,F.baseTexture.premultipliedAlpha)),D.shader.uniforms.uTransform&&(T.uploadUvTransform?D.shader.uniforms.uTransform=T._uvTransform.mapCoord.toArray(!0):D.shader.uniforms.uTransform=f.toArray(!0)),D.shader.uniforms.translationMatrix=T.worldTransform.toArray(!0),D.shader.uniforms.uColor=k.utils.premultiplyRgba(T.tintRgb,T.worldAlpha,D.shader.uniforms.uColor,F.baseTexture.premultipliedAlpha);var B=T.drawMode===w.default.DRAW_MODES.TRIANGLE_MESH?L.TRIANGLE_STRIP:L.TRIANGLES;D.vao.draw(B,T.indices.length,0)}},_}(k.ObjectRenderer);E.default=s,k.WebGLRenderer.registerPlugin("mesh",s)},2268:(de,E,O)=>{"use strict";E.__esModule=!0;var C=function(){function l(o,d){for(var f=0;f<d.length;f++){var s=d[f];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,s.key,s)}}return function(o,d,f){return d&&l(o.prototype,d),f&&l(o,f),o}}(),k=O(2321),g=x(k),b=O(7768);function x(l){if(l&&l.__esModule)return l;var o={};if(l!=null)for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(o[d]=l[d]);return o.default=l,o}function w(l,o){if(!(l instanceof o))throw new TypeError("Cannot call a class as a function")}function v(l,o){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:l}function m(l,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);l.prototype=Object.create(o&&o.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(l,o):l.__proto__=o)}var y=function(l){m(o,l);function o(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1500,f=arguments[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:16384,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;w(this,o);var _=v(this,l.call(this)),S=16384;return s>S&&(s=S),s>d&&(s=d),_._properties=[!1,!0,!1,!1,!1],_._maxSize=d,_._batchSize=s,_._glBuffers={},_._bufferUpdateIDs=[],_._updateID=0,_.interactiveChildren=!1,_.blendMode=g.BLEND_MODES.NORMAL,_.autoResize=p,_.roundPixels=!0,_.baseTexture=null,_.setProperties(f),_._tint=0,_.tintRgb=new Float32Array(4),_.tint=16777215,_}return o.prototype.setProperties=function(f){f&&(this._properties[0]="vertices"in f||"scale"in f?!!f.vertices||!!f.scale:this._properties[0],this._properties[1]="position"in f?!!f.position:this._properties[1],this._properties[2]="rotation"in f?!!f.rotation:this._properties[2],this._properties[3]="uvs"in f?!!f.uvs:this._properties[3],this._properties[4]="tint"in f||"alpha"in f?!!f.tint||!!f.alpha:this._properties[4])},o.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},o.prototype.renderWebGL=function(f){var s=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return s.onChildrenChange(0)})),f.setObjectRenderer(f.plugins.particle),f.plugins.particle.render(this))},o.prototype.onChildrenChange=function(f){for(var s=Math.floor(f/this._batchSize);this._bufferUpdateIDs.length<s;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[s]=++this._updateID},o.prototype.renderCanvas=function(f){if(!(!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable)){var s=f.context,p=this.worldTransform,_=!0,S=0,T=0,M=0,L=0;f.setBlendMode(this.blendMode),s.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var F=0;F<this.children.length;++F){var D=this.children[F];if(!!D.visible){var B=D._texture.frame;if(s.globalAlpha=this.worldAlpha*D.alpha,D.rotation%(Math.PI*2)==0)_&&(s.setTransform(p.a,p.b,p.c,p.d,p.tx*f.resolution,p.ty*f.resolution),_=!1),S=D.anchor.x*(-B.width*D.scale.x)+D.position.x+.5,T=D.anchor.y*(-B.height*D.scale.y)+D.position.y+.5,M=B.width*D.scale.x,L=B.height*D.scale.y;else{_||(_=!0),D.displayObjectUpdateTransform();var K=D.worldTransform;f.roundPixels?s.setTransform(K.a,K.b,K.c,K.d,K.tx*f.resolution|0,K.ty*f.resolution|0):s.setTransform(K.a,K.b,K.c,K.d,K.tx*f.resolution,K.ty*f.resolution),S=D.anchor.x*-B.width+.5,T=D.anchor.y*-B.height+.5,M=B.width,L=B.height}var N=D._texture.baseTexture.resolution;s.drawImage(D._texture.baseTexture.source,B.x*N,B.y*N,B.width*N,B.height*N,S*f.resolution,T*f.resolution,M*f.resolution,L*f.resolution)}}}},o.prototype.destroy=function(f){if(l.prototype.destroy.call(this,f),this._buffers)for(var s=0;s<this._buffers.length;++s)this._buffers[s].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},C(o,[{key:"tint",get:function(){return this._tint},set:function(f){this._tint=f,(0,b.hex2rgb)(f,this.tintRgb)}}]),o}(g.Container);E.default=y},4728:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(2268);Object.defineProperty(E,"ParticleContainer",{enumerable:!0,get:function(){return g(C).default}});var k=O(6856);Object.defineProperty(E,"ParticleRenderer",{enumerable:!0,get:function(){return g(k).default}});function g(b){return b&&b.__esModule?b:{default:b}}},809:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(3070),k=x(C),g=O(4014),b=x(g);function x(m){return m&&m.__esModule?m:{default:m}}function w(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}var v=function(){function m(y,l,o,d){w(this,m),this.gl=y,this.size=d,this.dynamicProperties=[],this.staticProperties=[];for(var f=0;f<l.length;++f){var s=l[f];s={attribute:s.attribute,size:s.size,uploadFunction:s.uploadFunction,unsignedByte:s.unsignedByte,offset:s.offset},o[f]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return m.prototype.initBuffers=function(){var l=this.gl,o=0;this.indices=(0,b.default)(this.size),this.indexBuffer=k.default.GLBuffer.createIndexBuffer(l,this.indices,l.STATIC_DRAW),this.dynamicStride=0;for(var d=0;d<this.dynamicProperties.length;++d){var f=this.dynamicProperties[d];f.offset=o,o+=f.size,this.dynamicStride+=f.size}var s=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(s),this.dynamicDataUint32=new Uint32Array(s),this.dynamicBuffer=k.default.GLBuffer.createVertexBuffer(l,s,l.STREAM_DRAW);var p=0;this.staticStride=0;for(var _=0;_<this.staticProperties.length;++_){var S=this.staticProperties[_];S.offset=p,p+=S.size,this.staticStride+=S.size}var T=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(T),this.staticDataUint32=new Uint32Array(T),this.staticBuffer=k.default.GLBuffer.createVertexBuffer(l,T,l.STATIC_DRAW),this.vao=new k.default.VertexArrayObject(l).addIndex(this.indexBuffer);for(var M=0;M<this.dynamicProperties.length;++M){var L=this.dynamicProperties[M];L.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,L.attribute,l.UNSIGNED_BYTE,!0,this.dynamicStride*4,L.offset*4):this.vao.addAttribute(this.dynamicBuffer,L.attribute,l.FLOAT,!1,this.dynamicStride*4,L.offset*4)}for(var F=0;F<this.staticProperties.length;++F){var D=this.staticProperties[F];D.unsignedByte?this.vao.addAttribute(this.staticBuffer,D.attribute,l.UNSIGNED_BYTE,!0,this.staticStride*4,D.offset*4):this.vao.addAttribute(this.staticBuffer,D.attribute,l.FLOAT,!1,this.staticStride*4,D.offset*4)}},m.prototype.uploadDynamic=function(l,o,d){for(var f=0;f<this.dynamicProperties.length;f++){var s=this.dynamicProperties[f];s.uploadFunction(l,o,d,s.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer.upload()},m.prototype.uploadStatic=function(l,o,d){for(var f=0;f<this.staticProperties.length;f++){var s=this.staticProperties[f];s.uploadFunction(l,o,d,s.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer.upload()},m.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},m}();E.default=v},6856:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(2321),k=y(C),g=O(7326),b=m(g),x=O(809),w=m(x),v=O(7768);function m(s){return s&&s.__esModule?s:{default:s}}function y(s){if(s&&s.__esModule)return s;var p={};if(s!=null)for(var _ in s)Object.prototype.hasOwnProperty.call(s,_)&&(p[_]=s[_]);return p.default=s,p}function l(s,p){if(!(s instanceof p))throw new TypeError("Cannot call a class as a function")}function o(s,p){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:s}function d(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(s,p):s.__proto__=p)}var f=function(s){d(p,s);function p(_){l(this,p);var S=o(this,s.call(this,_));return S.shader=null,S.indexBuffer=null,S.properties=null,S.tempMatrix=new k.Matrix,S.CONTEXT_UID=0,S}return p.prototype.onContextChange=function(){var S=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new b.default(S),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},p.prototype.start=function(){this.renderer.bindShader(this.shader)},p.prototype.render=function(S){var T=S.children,M=S._maxSize,L=S._batchSize,F=this.renderer,D=T.length;if(D!==0){D>M&&(D=M);var B=S._glBuffers[F.CONTEXT_UID];B||(B=S._glBuffers[F.CONTEXT_UID]=this.generateBuffers(S));var K=T[0]._texture.baseTexture;this.renderer.setBlendMode(k.utils.correctBlendMode(S.blendMode,K.premultipliedAlpha));var N=F.gl,V=S.worldTransform.copy(this.tempMatrix);V.prepend(F._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=V.toArray(!0),this.shader.uniforms.uColor=k.utils.premultiplyRgba(S.tintRgb,S.worldAlpha,this.shader.uniforms.uColor,K.premultipliedAlpha),this.shader.uniforms.uSampler=F.bindTexture(K);for(var J=!1,se=0,ie=0;se<D;se+=L,ie+=1){var ae=D-se;if(ae>L&&(ae=L),ie>=B.length){if(!S.autoResize)break;B.push(this._generateOneMoreBuffer(S))}var W=B[ie];W.uploadDynamic(T,se,ae);var Q=S._bufferUpdateIDs[ie]||0;J=J||W._updateID<Q,J&&(W._updateID=S._updateID,W.uploadStatic(T,se,ae)),F.bindVao(W.vao),W.vao.draw(N.TRIANGLES,ae*6)}}},p.prototype.generateBuffers=function(S){for(var T=this.renderer.gl,M=[],L=S._maxSize,F=S._batchSize,D=S._properties,B=0;B<L;B+=F)M.push(new w.default(T,this.properties,D,F));return M},p.prototype._generateOneMoreBuffer=function(S){var T=this.renderer.gl,M=S._batchSize,L=S._properties;return new w.default(T,this.properties,L,M)},p.prototype.uploadVertices=function(S,T,M,L,F,D){for(var B=0,K=0,N=0,V=0,J=0;J<M;++J){var se=S[T+J],ie=se._texture,ae=se.scale.x,W=se.scale.y,Q=ie.trim,H=ie.orig;Q?(K=Q.x-se.anchor.x*H.width,B=K+Q.width,V=Q.y-se.anchor.y*H.height,N=V+Q.height):(B=H.width*(1-se.anchor.x),K=H.width*-se.anchor.x,N=H.height*(1-se.anchor.y),V=H.height*-se.anchor.y),L[D]=K*ae,L[D+1]=V*W,L[D+F]=B*ae,L[D+F+1]=V*W,L[D+F*2]=B*ae,L[D+F*2+1]=N*W,L[D+F*3]=K*ae,L[D+F*3+1]=N*W,D+=F*4}},p.prototype.uploadPosition=function(S,T,M,L,F,D){for(var B=0;B<M;B++){var K=S[T+B].position;L[D]=K.x,L[D+1]=K.y,L[D+F]=K.x,L[D+F+1]=K.y,L[D+F*2]=K.x,L[D+F*2+1]=K.y,L[D+F*3]=K.x,L[D+F*3+1]=K.y,D+=F*4}},p.prototype.uploadRotation=function(S,T,M,L,F,D){for(var B=0;B<M;B++){var K=S[T+B].rotation;L[D]=K,L[D+F]=K,L[D+F*2]=K,L[D+F*3]=K,D+=F*4}},p.prototype.uploadUvs=function(S,T,M,L,F,D){for(var B=0;B<M;++B){var K=S[T+B]._texture._uvs;K?(L[D]=K.x0,L[D+1]=K.y0,L[D+F]=K.x1,L[D+F+1]=K.y1,L[D+F*2]=K.x2,L[D+F*2+1]=K.y2,L[D+F*3]=K.x3,L[D+F*3+1]=K.y3,D+=F*4):(L[D]=0,L[D+1]=0,L[D+F]=0,L[D+F+1]=0,L[D+F*2]=0,L[D+F*2+1]=0,L[D+F*3]=0,L[D+F*3+1]=0,D+=F*4)}},p.prototype.uploadTint=function(S,T,M,L,F,D){for(var B=0;B<M;++B){var K=S[T+B],N=K._texture.baseTexture.premultipliedAlpha,V=K.alpha,J=V<1&&N?(0,v.premultiplyTint)(K._tintRGB,V):K._tintRGB+(V*255<<24);L[D]=J,L[D+F]=J,L[D+F*2]=J,L[D+F*3]=J,D+=F*4}},p.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),s.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},p}(k.ObjectRenderer);E.default=f,k.WebGLRenderer.registerPlugin("particle",f)},7326:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(2916),k=g(C);function g(m){return m&&m.__esModule?m:{default:m}}function b(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function x(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function w(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var v=function(m){w(y,m);function y(l){return b(this,y),x(this,m.call(this,l,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join(`
`),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join(`
`)))}return y}(k.default);E.default=v},3495:()=>{"use strict";Math.sign||(Math.sign=function(E){return E=Number(E),E===0||isNaN(E)?E:E>0?1:-1})},8778:()=>{"use strict";Number.isInteger||(Number.isInteger=function(E){return typeof E=="number"&&isFinite(E)&&Math.floor(E)===E})},8705:(de,E,O)=>{"use strict";var C=O(7418),k=g(C);function g(b){return b&&b.__esModule?b:{default:b}}Object.assign||(Object.assign=k.default)},381:(de,E,O)=>{"use strict";O(8705),O(1430),O(3495),O(8778),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},1430:(de,E,O)=>{"use strict";var C=16;if(Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()}),!(O.g.performance&&O.g.performance.now)){var k=Date.now();O.g.performance||(O.g.performance={}),O.g.performance.now=function(){return Date.now()-k}}for(var g=Date.now(),b=["ms","moz","webkit","o"],x=0;x<b.length&&!O.g.requestAnimationFrame;++x){var w=b[x];O.g.requestAnimationFrame=O.g[w+"RequestAnimationFrame"],O.g.cancelAnimationFrame=O.g[w+"CancelAnimationFrame"]||O.g[w+"CancelRequestAnimationFrame"]}O.g.requestAnimationFrame||(O.g.requestAnimationFrame=function(v){if(typeof v!="function")throw new TypeError(v+"is not a function");var m=Date.now(),y=C+g-m;return y<0&&(y=0),g=m,setTimeout(function(){g=Date.now(),v(performance.now())},y)}),O.g.cancelAnimationFrame||(O.g.cancelAnimationFrame=function(v){return clearTimeout(v)})},9176:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(2321),k=w(C),g=O(7311),b=x(g);function x(S){return S&&S.__esModule?S:{default:S}}function w(S){if(S&&S.__esModule)return S;var T={};if(S!=null)for(var M in S)Object.prototype.hasOwnProperty.call(S,M)&&(T[M]=S[M]);return T.default=S,T}function v(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}var m=k.ticker.shared;k.settings.UPLOADS_PER_FRAME=4;var y=function(){function S(T){var M=this;v(this,S),this.limiter=new b.default(k.settings.UPLOADS_PER_FRAME),this.renderer=T,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!M.queue||M.prepareItems()},this.registerFindHook(p),this.registerFindHook(_),this.registerFindHook(l),this.registerFindHook(o),this.registerFindHook(d),this.registerUploadHook(f),this.registerUploadHook(s)}return S.prototype.upload=function(M,L){typeof M=="function"&&(L=M,M=null),M&&this.add(M),this.queue.length?(L&&this.completes.push(L),this.ticking||(this.ticking=!0,m.addOnce(this.tick,this,k.UPDATE_PRIORITY.UTILITY))):L&&L()},S.prototype.tick=function(){setTimeout(this.delayedTick,0)},S.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var M=this.queue[0],L=!1;if(M&&!M._destroyed){for(var F=0,D=this.uploadHooks.length;F<D;F++)if(this.uploadHooks[F](this.uploadHookHelper,M)){this.queue.shift(),L=!0;break}}L||this.queue.shift()}if(this.queue.length)m.addOnce(this.tick,this,k.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var B=this.completes.slice(0);this.completes.length=0;for(var K=0,N=B.length;K<N;K++)B[K]()}},S.prototype.registerFindHook=function(M){return M&&this.addHooks.push(M),this},S.prototype.registerUploadHook=function(M){return M&&this.uploadHooks.push(M),this},S.prototype.add=function(M){for(var L=0,F=this.addHooks.length;L<F&&!this.addHooks[L](M,this.queue);L++);if(M instanceof k.Container)for(var D=M.children.length-1;D>=0;D--)this.add(M.children[D]);return this},S.prototype.destroy=function(){this.ticking&&m.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},S}();E.default=y;function l(S,T){var M=!1;if(S&&S._textures&&S._textures.length){for(var L=0;L<S._textures.length;L++)if(S._textures[L]instanceof k.Texture){var F=S._textures[L].baseTexture;T.indexOf(F)===-1&&(T.push(F),M=!0)}}return M}function o(S,T){return S instanceof k.BaseTexture?(T.indexOf(S)===-1&&T.push(S),!0):!1}function d(S,T){if(S._texture&&S._texture instanceof k.Texture){var M=S._texture.baseTexture;return T.indexOf(M)===-1&&T.push(M),!0}return!1}function f(S,T){return T instanceof k.Text?(T.updateText(!0),!0):!1}function s(S,T){if(T instanceof k.TextStyle){var M=T.toFontString();return k.TextMetrics.measureFont(M),!0}return!1}function p(S,T){if(S instanceof k.Text){T.indexOf(S.style)===-1&&T.push(S.style),T.indexOf(S)===-1&&T.push(S);var M=S._texture.baseTexture;return T.indexOf(M)===-1&&T.push(M),!0}return!1}function _(S,T){return S instanceof k.TextStyle?(T.indexOf(S)===-1&&T.push(S),!0):!1}},9208:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(2321),k=w(C),g=O(9176),b=x(g);function x(f){return f&&f.__esModule?f:{default:f}}function w(f){if(f&&f.__esModule)return f;var s={};if(f!=null)for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(s[p]=f[p]);return s.default=f,s}function v(f,s){if(!(f instanceof s))throw new TypeError("Cannot call a class as a function")}function m(f,s){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:f}function y(f,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);f.prototype=Object.create(s&&s.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(f,s):f.__proto__=s)}var l=16,o=function(f){y(s,f);function s(p){v(this,s);var _=m(this,f.call(this,p));return _.uploadHookHelper=_,_.canvas=document.createElement("canvas"),_.canvas.width=l,_.canvas.height=l,_.ctx=_.canvas.getContext("2d"),_.registerUploadHook(d),_}return s.prototype.destroy=function(){f.prototype.destroy.call(this),this.ctx=null,this.canvas=null},s}(b.default);E.default=o;function d(f,s){if(s instanceof k.BaseTexture){var p=s.source,_=p.width===0?f.canvas.width:Math.min(f.canvas.width,p.width),S=p.height===0?f.canvas.height:Math.min(f.canvas.height,p.height);return f.ctx.drawImage(p,0,0,_,S,0,0,f.canvas.width,f.canvas.height),!0}return!1}k.CanvasRenderer.registerPlugin("prepare",o)},9878:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(973);Object.defineProperty(E,"webgl",{enumerable:!0,get:function(){return w(C).default}});var k=O(9208);Object.defineProperty(E,"canvas",{enumerable:!0,get:function(){return w(k).default}});var g=O(9176);Object.defineProperty(E,"BasePrepare",{enumerable:!0,get:function(){return w(g).default}});var b=O(7311);Object.defineProperty(E,"CountLimiter",{enumerable:!0,get:function(){return w(b).default}});var x=O(686);Object.defineProperty(E,"TimeLimiter",{enumerable:!0,get:function(){return w(x).default}});function w(v){return v&&v.__esModule?v:{default:v}}},7311:(de,E)=>{"use strict";E.__esModule=!0;function O(k,g){if(!(k instanceof g))throw new TypeError("Cannot call a class as a function")}var C=function(){function k(g){O(this,k),this.maxItemsPerFrame=g,this.itemsLeft=0}return k.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},k.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},k}();E.default=C},686:(de,E)=>{"use strict";E.__esModule=!0;function O(k,g){if(!(k instanceof g))throw new TypeError("Cannot call a class as a function")}var C=function(){function k(g){O(this,k),this.maxMilliseconds=g,this.frameStart=0}return k.prototype.beginFrame=function(){this.frameStart=Date.now()},k.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},k}();E.default=C},973:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(2321),k=w(C),g=O(9176),b=x(g);function x(s){return s&&s.__esModule?s:{default:s}}function w(s){if(s&&s.__esModule)return s;var p={};if(s!=null)for(var _ in s)Object.prototype.hasOwnProperty.call(s,_)&&(p[_]=s[_]);return p.default=s,p}function v(s,p){if(!(s instanceof p))throw new TypeError("Cannot call a class as a function")}function m(s,p){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:s}function y(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(s,p):s.__proto__=p)}var l=function(s){y(p,s);function p(_){v(this,p);var S=m(this,s.call(this,_));return S.uploadHookHelper=S.renderer,S.registerFindHook(f),S.registerUploadHook(o),S.registerUploadHook(d),S}return p}(b.default);E.default=l;function o(s,p){return p instanceof k.BaseTexture?(p._glTextures[s.CONTEXT_UID]||s.textureManager.updateTexture(p),!0):!1}function d(s,p){return p instanceof k.Graphics?((p.dirty||p.clearDirty||!p._webGL[s.plugins.graphics.CONTEXT_UID])&&s.plugins.graphics.updateGraphics(p),!0):!1}function f(s,p){return s instanceof k.Graphics?(p.push(s),!0):!1}k.WebGLRenderer.registerPlugin("prepare",l)},5323:de=>{"use strict";var E=Object.prototype.hasOwnProperty,O="~";function C(){}Object.create&&(C.prototype=Object.create(null),new C().__proto__||(O=!1));function k(b,x,w){this.fn=b,this.context=x,this.once=w||!1}function g(){this._events=new C,this._eventsCount=0}g.prototype.eventNames=function(){var x=[],w,v;if(this._eventsCount===0)return x;for(v in w=this._events)E.call(w,v)&&x.push(O?v.slice(1):v);return Object.getOwnPropertySymbols?x.concat(Object.getOwnPropertySymbols(w)):x},g.prototype.listeners=function(x,w){var v=O?O+x:x,m=this._events[v];if(w)return!!m;if(!m)return[];if(m.fn)return[m.fn];for(var y=0,l=m.length,o=new Array(l);y<l;y++)o[y]=m[y].fn;return o},g.prototype.emit=function(x,w,v,m,y,l){var o=O?O+x:x;if(!this._events[o])return!1;var d=this._events[o],f=arguments.length,s,p;if(d.fn){switch(d.once&&this.removeListener(x,d.fn,void 0,!0),f){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,w),!0;case 3:return d.fn.call(d.context,w,v),!0;case 4:return d.fn.call(d.context,w,v,m),!0;case 5:return d.fn.call(d.context,w,v,m,y),!0;case 6:return d.fn.call(d.context,w,v,m,y,l),!0}for(p=1,s=new Array(f-1);p<f;p++)s[p-1]=arguments[p];d.fn.apply(d.context,s)}else{var _=d.length,S;for(p=0;p<_;p++)switch(d[p].once&&this.removeListener(x,d[p].fn,void 0,!0),f){case 1:d[p].fn.call(d[p].context);break;case 2:d[p].fn.call(d[p].context,w);break;case 3:d[p].fn.call(d[p].context,w,v);break;case 4:d[p].fn.call(d[p].context,w,v,m);break;default:if(!s)for(S=1,s=new Array(f-1);S<f;S++)s[S-1]=arguments[S];d[p].fn.apply(d[p].context,s)}}return!0},g.prototype.on=function(x,w,v){var m=new k(w,v||this),y=O?O+x:x;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],m]:this._events[y].push(m):(this._events[y]=m,this._eventsCount++),this},g.prototype.once=function(x,w,v){var m=new k(w,v||this,!0),y=O?O+x:x;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],m]:this._events[y].push(m):(this._events[y]=m,this._eventsCount++),this},g.prototype.removeListener=function(x,w,v,m){var y=O?O+x:x;if(!this._events[y])return this;if(!w)return--this._eventsCount==0?this._events=new C:delete this._events[y],this;var l=this._events[y];if(l.fn)l.fn===w&&(!m||l.once)&&(!v||l.context===v)&&(--this._eventsCount==0?this._events=new C:delete this._events[y]);else{for(var o=0,d=[],f=l.length;o<f;o++)(l[o].fn!==w||m&&!l[o].once||v&&l[o].context!==v)&&d.push(l[o]);d.length?this._events[y]=d.length===1?d[0]:d:--this._eventsCount==0?this._events=new C:delete this._events[y]}return this},g.prototype.removeAllListeners=function(x){var w;return x?(w=O?O+x:x,this._events[w]&&(--this._eventsCount==0?this._events=new C:delete this._events[w])):(this._events=new C,this._eventsCount=0),this},g.prototype.off=g.prototype.removeListener,g.prototype.addListener=g.prototype.on,g.prototype.setMaxListeners=function(){return this},g.prefixed=O,g.EventEmitter=g,de.exports=g},2925:(de,E,O)=>{"use strict";var C;C=!0,E.a=void 0;var k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},g=function(){function S(T,M){for(var L=0;L<M.length;L++){var F=M[L];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(T,F.key,F)}}return function(T,M,L){return M&&S(T.prototype,M),L&&S(T,L),T}}(),b=O(2940),x=d(b),w=O(9571),v=d(w),m=O(8099),y=o(m),l=O(6364);function o(S){if(S&&S.__esModule)return S;var T={};if(S!=null)for(var M in S)Object.prototype.hasOwnProperty.call(S,M)&&(T[M]=S[M]);return T.default=S,T}function d(S){return S&&S.__esModule?S:{default:S}}function f(S,T){if(!(S instanceof T))throw new TypeError("Cannot call a class as a function")}var s=100,p=/(#[\w-]+)?$/,_=E.a=function(){function S(){var T=this,M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10;f(this,S),this.baseUrl=M,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(B,K){return T._loadResource(B,K)},this._queue=y.queue(this._boundLoadResource,L),this._queue.pause(),this.resources={},this.onProgress=new x.default,this.onError=new x.default,this.onLoad=new x.default,this.onStart=new x.default,this.onComplete=new x.default;for(var F=0;F<S._defaultBeforeMiddleware.length;++F)this.pre(S._defaultBeforeMiddleware[F]);for(var D=0;D<S._defaultAfterMiddleware.length;++D)this.use(S._defaultAfterMiddleware[D])}return S.prototype.add=function(M,L,F,D){if(Array.isArray(M)){for(var B=0;B<M.length;++B)this.add(M[B]);return this}if((typeof M=="undefined"?"undefined":k(M))==="object"&&(D=L||M.callback||M.onComplete,F=M,L=M.url,M=M.name||M.key||M.url),typeof L!="string"&&(D=F,F=L,L=M),typeof L!="string")throw new Error("No url passed to add resource to loader.");if(typeof F=="function"&&(D=F,F=null),this.loading&&(!F||!F.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[M])throw new Error('Resource named "'+M+'" already exists.');if(L=this._prepareUrl(L),this.resources[M]=new l.Resource(M,L,F),typeof D=="function"&&this.resources[M].onAfterMiddleware.once(D),this.loading){for(var K=F.parentResource,N=[],V=0;V<K.children.length;++V)K.children[V].isComplete||N.push(K.children[V]);var J=K.progressChunk*(N.length+1),se=J/(N.length+2);K.children.push(this.resources[M]),K.progressChunk=se;for(var ie=0;ie<N.length;++ie)N[ie].progressChunk=se;this.resources[M].progressChunk=se}return this._queue.push(this.resources[M]),this},S.prototype.pre=function(M){return this._beforeMiddleware.push(M),this},S.prototype.use=function(M){return this._afterMiddleware.push(M),this},S.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var M in this.resources){var L=this.resources[M];L._onLoadBinding&&L._onLoadBinding.detach(),L.isLoading&&L.abort()}return this.resources={},this},S.prototype.load=function(M){if(typeof M=="function"&&this.onComplete.once(M),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var L=this._queue._tasks.length,F=s/L,D=0;D<this._queue._tasks.length;++D)this._queue._tasks[D].data.progressChunk=F;this._onStart(),this._queue.resume()}return this},S.prototype._prepareUrl=function(M){var L=(0,v.default)(M,{strictMode:!0}),F=void 0;if(L.protocol||!L.path||M.indexOf("//")===0?F=M:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&M.charAt(0)!=="/"?F=this.baseUrl+"/"+M:F=this.baseUrl+M,this.defaultQueryString){var D=p.exec(F)[0];F=F.substr(0,F.length-D.length),F.indexOf("?")!==-1?F+="&"+this.defaultQueryString:F+="?"+this.defaultQueryString,F+=D}return F},S.prototype._loadResource=function(M,L){var F=this;M._dequeue=L,y.eachSeries(this._beforeMiddleware,function(D,B){D.call(F,M,function(){B(M.isComplete?{}:null)})},function(){M.isComplete?F._onLoad(M):(M._onLoadBinding=M.onComplete.once(F._onLoad,F),M.load())},!0)},S.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},S.prototype._onComplete=function(){this.progress=s,this.loading=!1,this.onComplete.dispatch(this,this.resources)},S.prototype._onLoad=function(M){var L=this;M._onLoadBinding=null,this._resourcesParsing.push(M),M._dequeue(),y.eachSeries(this._afterMiddleware,function(F,D){F.call(L,M,D)},function(){M.onAfterMiddleware.dispatch(M),L.progress=Math.min(s,L.progress+M.progressChunk),L.onProgress.dispatch(L,M),M.error?L.onError.dispatch(M.error,L,M):L.onLoad.dispatch(L,M),L._resourcesParsing.splice(L._resourcesParsing.indexOf(M),1),L._queue.idle()&&L._resourcesParsing.length===0&&L._onComplete()},!0)},g(S,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(M){this._queue.concurrency=M}}]),S}();_._defaultBeforeMiddleware=[],_._defaultAfterMiddleware=[],_.pre=function(T){return _._defaultBeforeMiddleware.push(T),_},_.use=function(T){return _._defaultAfterMiddleware.push(T),_}},6364:(de,E,O)=>{"use strict";E.__esModule=!0,E.Resource=void 0;var C=function(){function M(L,F){for(var D=0;D<F.length;D++){var B=F[D];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(L,B.key,B)}}return function(L,F,D){return F&&M(L.prototype,F),D&&M(L,D),L}}(),k=O(9571),g=w(k),b=O(2940),x=w(b);function w(M){return M&&M.__esModule?M:{default:M}}function v(M,L){if(!(M instanceof L))throw new TypeError("Cannot call a class as a function")}var m=!!(window.XDomainRequest&&!("withCredentials"in new XMLHttpRequest)),y=null,l=0,o=200,d=204,f=1223,s=2;function p(){}var _=E.Resource=function(){M.setExtensionLoadType=function(F,D){S(M._loadTypeMap,F,D)},M.setExtensionXhrType=function(F,D){S(M._xhrTypeMap,F,D)};function M(L,F,D){if(v(this,M),typeof L!="string"||typeof F!="string")throw new Error("Both name and url are required for constructing a resource.");D=D||{},this._flags=0,this._setFlag(M.STATUS_FLAGS.DATA_URL,F.indexOf("data:")===0),this.name=L,this.url=F,this.extension=this._getExtension(),this.data=null,this.crossOrigin=D.crossOrigin===!0?"anonymous":D.crossOrigin,this.timeout=D.timeout||0,this.loadType=D.loadType||this._determineLoadType(),this.xhrType=D.xhrType,this.metadata=D.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=M.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=p,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new x.default,this.onProgress=new x.default,this.onComplete=new x.default,this.onAfterMiddleware=new x.default}return M.prototype.complete=function(){this._clearEvents(),this._finish()},M.prototype.abort=function(F){if(!this.error){if(this.error=new Error(F),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=M.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},M.prototype.load=function(F){var D=this;if(!this.isLoading){if(this.isComplete){F&&setTimeout(function(){return F(D)},1);return}else F&&this.onComplete.once(F);switch(this._setFlag(M.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case M.LOAD_TYPE.IMAGE:this.type=M.TYPE.IMAGE,this._loadElement("image");break;case M.LOAD_TYPE.AUDIO:this.type=M.TYPE.AUDIO,this._loadSourceElement("audio");break;case M.LOAD_TYPE.VIDEO:this.type=M.TYPE.VIDEO,this._loadSourceElement("video");break;case M.LOAD_TYPE.XHR:default:m&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},M.prototype._hasFlag=function(F){return(this._flags&F)!=0},M.prototype._setFlag=function(F,D){this._flags=D?this._flags|F:this._flags&~F},M.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},M.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(M.STATUS_FLAGS.COMPLETE,!0),this._setFlag(M.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},M.prototype._loadElement=function(F){this.metadata.loadElement?this.data=this.metadata.loadElement:F==="image"&&typeof window.Image!="undefined"?this.data=new Image:this.data=document.createElement(F),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},M.prototype._loadSourceElement=function(F){if(this.metadata.loadElement?this.data=this.metadata.loadElement:F==="audio"&&typeof window.Audio!="undefined"?this.data=new Audio:this.data=document.createElement(F),this.data===null){this.abort("Unsupported element: "+F);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var D=this.metadata.mimeType,B=0;B<this.url.length;++B)this.data.appendChild(this._createSource(F,this.url[B],Array.isArray(D)?D[B]:D));else{var K=this.metadata.mimeType;this.data.appendChild(this._createSource(F,this.url,Array.isArray(K)?K[0]:K))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},M.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var F=this.xhr=new XMLHttpRequest;F.open("GET",this.url,!0),F.timeout=this.timeout,this.xhrType===M.XHR_RESPONSE_TYPE.JSON||this.xhrType===M.XHR_RESPONSE_TYPE.DOCUMENT?F.responseType=M.XHR_RESPONSE_TYPE.TEXT:F.responseType=this.xhrType,F.addEventListener("error",this._boundXhrOnError,!1),F.addEventListener("timeout",this._boundXhrOnTimeout,!1),F.addEventListener("abort",this._boundXhrOnAbort,!1),F.addEventListener("progress",this._boundOnProgress,!1),F.addEventListener("load",this._boundXhrOnLoad,!1),F.send()},M.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var F=this.xhr=new XDomainRequest;F.timeout=this.timeout||5e3,F.onerror=this._boundXhrOnError,F.ontimeout=this._boundXhrOnTimeout,F.onprogress=this._boundOnProgress,F.onload=this._boundXhrOnLoad,F.open("GET",this.url,!0),setTimeout(function(){return F.send()},1)},M.prototype._createSource=function(F,D,B){B||(B=F+"/"+this._getExtension(D));var K=document.createElement("source");return K.src=D,K.type=B,K},M.prototype._onError=function(F){this.abort("Failed to load element using: "+F.target.nodeName)},M.prototype._onProgress=function(F){F&&F.lengthComputable&&this.onProgress.dispatch(this,F.loaded/F.total)},M.prototype._onTimeout=function(){this.abort("Load timed out.")},M.prototype._xhrOnError=function(){var F=this.xhr;this.abort(T(F)+" Request failed. Status: "+F.status+', text: "'+F.statusText+'"')},M.prototype._xhrOnTimeout=function(){var F=this.xhr;this.abort(T(F)+" Request timed out.")},M.prototype._xhrOnAbort=function(){var F=this.xhr;this.abort(T(F)+" Request was aborted by the user.")},M.prototype._xhrOnLoad=function(){var F=this.xhr,D="",B=typeof F.status=="undefined"?o:F.status;(F.responseType===""||F.responseType==="text"||typeof F.responseType=="undefined")&&(D=F.responseText),B===l&&(D.length>0||F.responseType===M.XHR_RESPONSE_TYPE.BUFFER)?B=o:B===f&&(B=d);var K=B/100|0;if(K===s)if(this.xhrType===M.XHR_RESPONSE_TYPE.TEXT)this.data=D,this.type=M.TYPE.TEXT;else if(this.xhrType===M.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(D),this.type=M.TYPE.JSON}catch(J){this.abort("Error trying to parse loaded json: "+J);return}else if(this.xhrType===M.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var N=new DOMParser;this.data=N.parseFromString(D,"text/xml")}else{var V=document.createElement("div");V.innerHTML=D,this.data=V}this.type=M.TYPE.XML}catch(J){this.abort("Error trying to parse loaded xml: "+J);return}else this.data=F.response||D;else{this.abort("["+F.status+"] "+F.statusText+": "+F.responseURL);return}this.complete()},M.prototype._determineCrossOrigin=function(F,D){if(F.indexOf("data:")===0)return"";if(window.origin!==window.location.origin)return"anonymous";D=D||window.location,y||(y=document.createElement("a")),y.href=F,F=(0,g.default)(y.href,{strictMode:!0});var B=!F.port&&D.port===""||F.port===D.port,K=F.protocol?F.protocol+":":"";return F.host!==D.hostname||!B||K!==D.protocol?"anonymous":""},M.prototype._determineXhrType=function(){return M._xhrTypeMap[this.extension]||M.XHR_RESPONSE_TYPE.TEXT},M.prototype._determineLoadType=function(){return M._loadTypeMap[this.extension]||M.LOAD_TYPE.XHR},M.prototype._getExtension=function(){var F=this.url,D="";if(this.isDataUrl){var B=F.indexOf("/");D=F.substring(B+1,F.indexOf(";",B))}else{var K=F.indexOf("?"),N=F.indexOf("#"),V=Math.min(K>-1?K:F.length,N>-1?N:F.length);F=F.substring(0,V),D=F.substring(F.lastIndexOf(".")+1)}return D.toLowerCase()},M.prototype._getMimeFromXhrType=function(F){switch(F){case M.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case M.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case M.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case M.XHR_RESPONSE_TYPE.JSON:return"application/json";case M.XHR_RESPONSE_TYPE.DEFAULT:case M.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},C(M,[{key:"isDataUrl",get:function(){return this._hasFlag(M.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(M.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(M.STATUS_FLAGS.LOADING)}}]),M}();_.STATUS_FLAGS={NONE:0,DATA_URL:1<<0,COMPLETE:1<<1,LOADING:1<<2},_.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},_.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},_.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},_._loadTypeMap={gif:_.LOAD_TYPE.IMAGE,png:_.LOAD_TYPE.IMAGE,bmp:_.LOAD_TYPE.IMAGE,jpg:_.LOAD_TYPE.IMAGE,jpeg:_.LOAD_TYPE.IMAGE,tif:_.LOAD_TYPE.IMAGE,tiff:_.LOAD_TYPE.IMAGE,webp:_.LOAD_TYPE.IMAGE,tga:_.LOAD_TYPE.IMAGE,svg:_.LOAD_TYPE.IMAGE,"svg+xml":_.LOAD_TYPE.IMAGE,mp3:_.LOAD_TYPE.AUDIO,ogg:_.LOAD_TYPE.AUDIO,wav:_.LOAD_TYPE.AUDIO,mp4:_.LOAD_TYPE.VIDEO,webm:_.LOAD_TYPE.VIDEO},_._xhrTypeMap={xhtml:_.XHR_RESPONSE_TYPE.DOCUMENT,html:_.XHR_RESPONSE_TYPE.DOCUMENT,htm:_.XHR_RESPONSE_TYPE.DOCUMENT,xml:_.XHR_RESPONSE_TYPE.DOCUMENT,tmx:_.XHR_RESPONSE_TYPE.DOCUMENT,svg:_.XHR_RESPONSE_TYPE.DOCUMENT,tsx:_.XHR_RESPONSE_TYPE.DOCUMENT,gif:_.XHR_RESPONSE_TYPE.BLOB,png:_.XHR_RESPONSE_TYPE.BLOB,bmp:_.XHR_RESPONSE_TYPE.BLOB,jpg:_.XHR_RESPONSE_TYPE.BLOB,jpeg:_.XHR_RESPONSE_TYPE.BLOB,tif:_.XHR_RESPONSE_TYPE.BLOB,tiff:_.XHR_RESPONSE_TYPE.BLOB,webp:_.XHR_RESPONSE_TYPE.BLOB,tga:_.XHR_RESPONSE_TYPE.BLOB,json:_.XHR_RESPONSE_TYPE.JSON,text:_.XHR_RESPONSE_TYPE.TEXT,txt:_.XHR_RESPONSE_TYPE.TEXT,ttf:_.XHR_RESPONSE_TYPE.BUFFER,otf:_.XHR_RESPONSE_TYPE.BUFFER},_.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";function S(M,L,F){L&&L.indexOf(".")===0&&(L=L.substring(1)),!!L&&(M[L]=F)}function T(M){return M.toString().replace("object ","")}de.exports.default=_},8099:(de,E)=>{"use strict";E.__esModule=!0,E.eachSeries=C,E.queue=g;function O(){}function C(b,x,w,v){var m=0,y=b.length;(function l(o){if(o||m===y){w&&w(o);return}v?setTimeout(function(){x(b[m++],l)},1):x(b[m++],l)})()}function k(b){return function(){if(b===null)throw new Error("Callback was already called.");var w=b;b=null,w.apply(this,arguments)}}function g(b,x){if(x==null)x=1;else if(x===0)throw new Error("Concurrency must not be zero");var w=0,v={_tasks:[],concurrency:x,saturated:O,unsaturated:O,buffer:x/4,empty:O,drain:O,error:O,started:!1,paused:!1,push:function(o,d){m(o,!1,d)},kill:function(){w=0,v.drain=O,v.started=!1,v._tasks=[]},unshift:function(o,d){m(o,!0,d)},process:function(){for(;!v.paused&&w<v.concurrency&&v._tasks.length;){var o=v._tasks.shift();v._tasks.length===0&&v.empty(),w+=1,w===v.concurrency&&v.saturated(),b(o.data,k(y(o)))}},length:function(){return v._tasks.length},running:function(){return w},idle:function(){return v._tasks.length+w===0},pause:function(){v.paused!==!0&&(v.paused=!0)},resume:function(){if(v.paused!==!1){v.paused=!1;for(var o=1;o<=v.concurrency;o++)v.process()}}};function m(l,o,d){if(d!=null&&typeof d!="function")throw new Error("task callback must be a function");if(v.started=!0,l==null&&v.idle()){setTimeout(function(){return v.drain()},1);return}var f={data:l,callback:typeof d=="function"?d:O};o?v._tasks.unshift(f):v._tasks.push(f),setTimeout(function(){return v.process()},1)}function y(l){return function(){w-=1,l.callback.apply(l,arguments),arguments[0]!=null&&v.error(arguments[0],l.data),w<=v.concurrency-v.buffer&&v.unsaturated(),v.idle()&&v.drain(),v.process()}}return v}},402:(de,E)=>{"use strict";E.__esModule=!0,E.encodeBinary=C;var O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function C(k){for(var g="",b=0;b<k.length;){for(var x=[0,0,0],w=[0,0,0,0],v=0;v<x.length;++v)b<k.length?x[v]=k.charCodeAt(b++)&255:x[v]=0;w[0]=x[0]>>2,w[1]=(x[0]&3)<<4|x[1]>>4,w[2]=(x[1]&15)<<2|x[2]>>6,w[3]=x[2]&63;var m=b-(k.length-1);switch(m){case 2:w[3]=64,w[2]=64;break;case 1:w[3]=64;break;default:break}for(var y=0;y<w.length;++y)g+=O.charAt(w[y])}return g}de.exports.default=C},9177:(de,E,O)=>{"use strict";var C=O(2925).a,k=O(6364).Resource,g=O(8099),b=O(402);C.Resource=k,C.async=g,C.encodeBinary=b,C.base64=b,de.exports=C,de.exports.Loader=C,de.exports.default=C},4055:(de,E,O)=>{"use strict";E.__esModule=!0,E.blobMiddlewareFactory=b;var C=O(6364),k=O(402),g=window.URL||window.webkitURL;function b(){return function(w,v){if(!w.data){v();return}if(w.xhr&&w.xhrType===C.Resource.XHR_RESPONSE_TYPE.BLOB){if(!window.Blob||typeof w.data=="string"){var m=w.xhr.getResponseHeader("content-type");if(m&&m.indexOf("image")===0){w.data=new Image,w.data.src="data:"+m+";base64,"+(0,k.encodeBinary)(w.xhr.responseText),w.type=C.Resource.TYPE.IMAGE,w.data.onload=function(){w.data.onload=null,v()};return}}else if(w.data.type.indexOf("image")===0){var y=g.createObjectURL(w.data);w.blob=w.data,w.data=new Image,w.data.src=y,w.type=C.Resource.TYPE.IMAGE,w.data.onload=function(){g.revokeObjectURL(y),w.data.onload=null,v()};return}}v()}}},1513:de=>{de.exports={decomp:D,quickDecomp:V,isSimple:K,removeCollinearPoints:J,removeDuplicatePoints:se,makeCCW:f};function E(W,Q,H){H=H||0;var Y=[0,0],Z,$,ee,oe,ge,ve,we;return Z=W[1][1]-W[0][1],$=W[0][0]-W[1][0],ee=Z*W[0][0]+$*W[0][1],oe=Q[1][1]-Q[0][1],ge=Q[0][0]-Q[1][0],ve=oe*Q[0][0]+ge*Q[0][1],we=Z*ge-oe*$,ie(we,0,H)||(Y[0]=(ge*ee-$*ve)/we,Y[1]=(Z*ve-oe*ee)/we),Y}function O(W,Q,H,Y){var Z=Q[0]-W[0],$=Q[1]-W[1],ee=Y[0]-H[0],oe=Y[1]-H[1];if(ee*$-oe*Z==0)return!1;var ge=(Z*(H[1]-W[1])+$*(W[0]-H[0]))/(ee*$-oe*Z),ve=(ee*(W[1]-H[1])+oe*(H[0]-W[0]))/(oe*Z-ee*$);return ge>=0&&ge<=1&&ve>=0&&ve<=1}function C(W,Q,H){return(Q[0]-W[0])*(H[1]-W[1])-(H[0]-W[0])*(Q[1]-W[1])}function k(W,Q,H){return C(W,Q,H)>0}function g(W,Q,H){return C(W,Q,H)>=0}function b(W,Q,H){return C(W,Q,H)<0}function x(W,Q,H){return C(W,Q,H)<=0}var w=[],v=[];function m(W,Q,H,Y){if(Y){var Z=w,$=v;Z[0]=Q[0]-W[0],Z[1]=Q[1]-W[1],$[0]=H[0]-Q[0],$[1]=H[1]-Q[1];var ee=Z[0]*$[0]+Z[1]*$[1],oe=Math.sqrt(Z[0]*Z[0]+Z[1]*Z[1]),ge=Math.sqrt($[0]*$[0]+$[1]*$[1]),ve=Math.acos(ee/(oe*ge));return ve<Y}else return C(W,Q,H)===0}function y(W,Q){var H=Q[0]-W[0],Y=Q[1]-W[1];return H*H+Y*Y}function l(W,Q){var H=W.length;return W[Q<0?Q%H+H:Q%H]}function o(W){W.length=0}function d(W,Q,H,Y){for(var Z=H;Z<Y;Z++)W.push(Q[Z])}function f(W){for(var Q=0,H=W,Y=1;Y<W.length;++Y)(H[Y][1]<H[Q][1]||H[Y][1]===H[Q][1]&&H[Y][0]>H[Q][0])&&(Q=Y);return k(l(W,Q-1),l(W,Q),l(W,Q+1))?!1:(s(W),!0)}function s(W){for(var Q=[],H=W.length,Y=0;Y!==H;Y++)Q.push(W.pop());for(var Y=0;Y!==H;Y++)W[Y]=Q[Y]}function p(W,Q){return b(l(W,Q-1),l(W,Q),l(W,Q+1))}var _=[],S=[];function T(W,Q,H){var Y,Z,$=_,ee=S;if(g(l(W,Q+1),l(W,Q),l(W,H))&&x(l(W,Q-1),l(W,Q),l(W,H)))return!1;Z=y(l(W,Q),l(W,H));for(var oe=0;oe!==W.length;++oe)if(!((oe+1)%W.length===Q||oe===Q)&&g(l(W,Q),l(W,H),l(W,oe+1))&&x(l(W,Q),l(W,H),l(W,oe))&&($[0]=l(W,Q),$[1]=l(W,H),ee[0]=l(W,oe),ee[1]=l(W,oe+1),Y=E($,ee),y(l(W,Q),Y)<Z))return!1;return!0}function M(W,Q,H){for(var Y=0;Y!==W.length;++Y)if(!(Y===Q||Y===H||(Y+1)%W.length===Q||(Y+1)%W.length===H)&&O(l(W,Q),l(W,H),l(W,Y),l(W,Y+1)))return!1;return!0}function L(W,Q,H,Y){var Z=Y||[];if(o(Z),Q<H)for(var $=Q;$<=H;$++)Z.push(W[$]);else{for(var $=0;$<=H;$++)Z.push(W[$]);for(var $=Q;$<W.length;$++)Z.push(W[$])}return Z}function F(W){for(var Q=[],H=[],Y=[],Z=[],$=Number.MAX_VALUE,ee=0;ee<W.length;++ee)if(p(W,ee)){for(var oe=0;oe<W.length;++oe)if(T(W,ee,oe)){H=F(L(W,ee,oe,Z)),Y=F(L(W,oe,ee,Z));for(var ge=0;ge<Y.length;ge++)H.push(Y[ge]);H.length<$&&(Q=H,$=H.length,Q.push([l(W,ee),l(W,oe)]))}}return Q}function D(W){var Q=F(W);return Q.length>0?B(W,Q):[W]}function B(W,Q){if(Q.length===0)return[W];if(Q instanceof Array&&Q.length&&Q[0]instanceof Array&&Q[0].length===2&&Q[0][0]instanceof Array){for(var H=[W],Y=0;Y<Q.length;Y++)for(var Z=Q[Y],$=0;$<H.length;$++){var ee=H[$],oe=B(ee,Z);if(oe){H.splice($,1),H.push(oe[0],oe[1]);break}}return H}else{var Z=Q,Y=W.indexOf(Z[0]),$=W.indexOf(Z[1]);return Y!==-1&&$!==-1?[L(W,Y,$),L(W,$,Y)]:!1}}function K(W){var Q=W,H;for(H=0;H<Q.length-1;H++)for(var Y=0;Y<H-1;Y++)if(O(Q[H],Q[H+1],Q[Y],Q[Y+1]))return!1;for(H=1;H<Q.length-2;H++)if(O(Q[0],Q[Q.length-1],Q[H],Q[H+1]))return!1;return!0}function N(W,Q,H,Y,Z){Z=Z||0;var $=Q[1]-W[1],ee=W[0]-Q[0],oe=$*W[0]+ee*W[1],ge=Y[1]-H[1],ve=H[0]-Y[0],we=ge*H[0]+ve*H[1],Se=$*ve-ge*ee;return ie(Se,0,Z)?[0,0]:[(ve*oe-ee*we)/Se,($*we-ge*oe)/Se]}function V(W,Q,H,Y,Z,$,ee){$=$||100,ee=ee||0,Z=Z||25,Q=typeof Q!="undefined"?Q:[],H=H||[],Y=Y||[];var oe=[0,0],ge=[0,0],ve=[0,0],we=0,Se=0,_e=0,Te=0,Ce=0,We=0,Fe=0,Ge=[],ze=[],Ae=W,ke=W;if(ke.length<3)return Q;if(ee++,ee>$)return console.warn("quickDecomp: max level ("+$+") reached."),Q;for(var He=0;He<W.length;++He)if(p(Ae,He)){H.push(Ae[He]),we=Se=Number.MAX_VALUE;for(var $e=0;$e<W.length;++$e)k(l(Ae,He-1),l(Ae,He),l(Ae,$e))&&x(l(Ae,He-1),l(Ae,He),l(Ae,$e-1))&&(ve=N(l(Ae,He-1),l(Ae,He),l(Ae,$e),l(Ae,$e-1)),b(l(Ae,He+1),l(Ae,He),ve)&&(_e=y(Ae[He],ve),_e<Se&&(Se=_e,ge=ve,We=$e))),k(l(Ae,He+1),l(Ae,He),l(Ae,$e+1))&&x(l(Ae,He+1),l(Ae,He),l(Ae,$e))&&(ve=N(l(Ae,He+1),l(Ae,He),l(Ae,$e),l(Ae,$e+1)),k(l(Ae,He-1),l(Ae,He),ve)&&(_e=y(Ae[He],ve),_e<we&&(we=_e,oe=ve,Ce=$e)));if(We===(Ce+1)%W.length)ve[0]=(ge[0]+oe[0])/2,ve[1]=(ge[1]+oe[1])/2,Y.push(ve),He<Ce?(d(Ge,Ae,He,Ce+1),Ge.push(ve),ze.push(ve),We!==0&&d(ze,Ae,We,Ae.length),d(ze,Ae,0,He+1)):(He!==0&&d(Ge,Ae,He,Ae.length),d(Ge,Ae,0,Ce+1),Ge.push(ve),ze.push(ve),d(ze,Ae,We,He+1));else{if(We>Ce&&(Ce+=W.length),Te=Number.MAX_VALUE,Ce<We)return Q;for(var $e=We;$e<=Ce;++$e)g(l(Ae,He-1),l(Ae,He),l(Ae,$e))&&x(l(Ae,He+1),l(Ae,He),l(Ae,$e))&&(_e=y(l(Ae,He),l(Ae,$e)),_e<Te&&M(Ae,He,$e)&&(Te=_e,Fe=$e%W.length));He<Fe?(d(Ge,Ae,He,Fe+1),Fe!==0&&d(ze,Ae,Fe,ke.length),d(ze,Ae,0,He+1)):(He!==0&&d(Ge,Ae,He,ke.length),d(Ge,Ae,0,Fe+1),d(ze,Ae,Fe,He+1))}return Ge.length<ze.length?(V(Ge,Q,H,Y,Z,$,ee),V(ze,Q,H,Y,Z,$,ee)):(V(ze,Q,H,Y,Z,$,ee),V(Ge,Q,H,Y,Z,$,ee)),Q}return Q.push(W),Q}function J(W,Q){for(var H=0,Y=W.length-1;W.length>3&&Y>=0;--Y)m(l(W,Y-1),l(W,Y),l(W,Y+1),Q)&&(W.splice(Y%W.length,1),H++);return H}function se(W,Q){for(var H=W.length-1;H>=1;--H)for(var Y=W[H],Z=H-1;Z>=0;--Z)if(ae(Y,W[Z],Q)){W.splice(H,1);continue}}function ie(W,Q,H){return H=H||0,Math.abs(W-Q)<=H}function ae(W,Q,H){return ie(W[0],Q[0],H)&&ie(W[1],Q[1],H)}},2587:de=>{"use strict";function E(O,C){return Object.prototype.hasOwnProperty.call(O,C)}de.exports=function(O,C,k,g){C=C||"&",k=k||"=";var b={};if(typeof O!="string"||O.length===0)return b;var x=/\+/g;O=O.split(C);var w=1e3;g&&typeof g.maxKeys=="number"&&(w=g.maxKeys);var v=O.length;w>0&&v>w&&(v=w);for(var m=0;m<v;++m){var y=O[m].replace(x,"%20"),l=y.indexOf(k),o,d,f,s;l>=0?(o=y.substr(0,l),d=y.substr(l+1)):(o=y,d=""),f=decodeURIComponent(o),s=decodeURIComponent(d),E(b,f)?Array.isArray(b[f])?b[f].push(s):b[f]=[b[f],s]:b[f]=s}return b}},2361:de=>{"use strict";var E=function(O){switch(typeof O){case"string":return O;case"boolean":return O?"true":"false";case"number":return isFinite(O)?O:"";default:return""}};de.exports=function(O,C,k,g){return C=C||"&",k=k||"=",O===null&&(O=void 0),typeof O=="object"?Object.keys(O).map(function(b){var x=encodeURIComponent(E(b))+k;return Array.isArray(O[b])?O[b].map(function(w){return x+encodeURIComponent(E(w))}).join(C):x+encodeURIComponent(E(O[b]))}).join(C):g?encodeURIComponent(E(g))+k+encodeURIComponent(E(O)):""}},7673:(de,E,O)=>{"use strict";E.decode=E.parse=O(2587),E.encode=E.stringify=O(2361)},4448:(de,E,O)=>{"use strict";var C;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k=O(7294),g=O(7418),b=O(3840);function x(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,u=1;u<arguments.length;u++)r+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!k)throw Error(x(227));var w=new Set,v={};function m(e,r){y(e,r),y(e+"Capture",r)}function y(e,r){for(v[e]=r,e=0;e<r.length;e++)w.add(r[e])}var l=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),o=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,f={},s={};function p(e){return d.call(s,e)?!0:d.call(f,e)?!1:o.test(e)?s[e]=!0:(f[e]=!0,!1)}function _(e,r,u,R){if(u!==null&&u.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return R?!1:u!==null?!u.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function S(e,r,u,R){if(r===null||typeof r=="undefined"||_(e,r,u,R))return!0;if(R)return!1;if(u!==null)switch(u.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function T(e,r,u,R,z,te,ue){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=R,this.attributeNamespace=z,this.mustUseProperty=u,this.propertyName=e,this.type=r,this.sanitizeURL=te,this.removeEmptyString=ue}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){M[e]=new T(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];M[r]=new T(r,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){M[e]=new T(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){M[e]=new T(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){M[e]=new T(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){M[e]=new T(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){M[e]=new T(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){M[e]=new T(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){M[e]=new T(e,5,!1,e.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function F(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(L,F);M[r]=new T(r,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(L,F);M[r]=new T(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(L,F);M[r]=new T(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){M[e]=new T(e,1,!1,e.toLowerCase(),null,!1,!1)}),M.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){M[e]=new T(e,1,!1,e.toLowerCase(),null,!0,!0)});function D(e,r,u,R){var z=M.hasOwnProperty(r)?M[r]:null,te=z!==null?z.type===0:R?!1:!(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N");te||(S(r,u,z,R)&&(u=null),R||z===null?p(r)&&(u===null?e.removeAttribute(r):e.setAttribute(r,""+u)):z.mustUseProperty?e[z.propertyName]=u===null?z.type===3?!1:"":u:(r=z.attributeName,R=z.attributeNamespace,u===null?e.removeAttribute(r):(z=z.type,u=z===3||z===4&&u===!0?"":""+u,R?e.setAttributeNS(R,r,u):e.setAttribute(r,u))))}var B=k.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=60103,N=60106,V=60107,J=60108,se=60114,ie=60109,ae=60110,W=60112,Q=60113,H=60120,Y=60115,Z=60116,$=60121,ee=60128,oe=60129,ge=60130,ve=60131;if(typeof Symbol=="function"&&Symbol.for){var we=Symbol.for;K=we("react.element"),N=we("react.portal"),V=we("react.fragment"),J=we("react.strict_mode"),se=we("react.profiler"),ie=we("react.provider"),ae=we("react.context"),W=we("react.forward_ref"),Q=we("react.suspense"),H=we("react.suspense_list"),Y=we("react.memo"),Z=we("react.lazy"),$=we("react.block"),we("react.scope"),ee=we("react.opaque.id"),oe=we("react.debug_trace_mode"),ge=we("react.offscreen"),ve=we("react.legacy_hidden")}var Se=typeof Symbol=="function"&&Symbol.iterator;function _e(e){return e===null||typeof e!="object"?null:(e=Se&&e[Se]||e["@@iterator"],typeof e=="function"?e:null)}var Te;function Ce(e){if(Te===void 0)try{throw Error()}catch(u){var r=u.stack.trim().match(/\n( *(at )?)/);Te=r&&r[1]||""}return`
`+Te+e}var We=!1;function Fe(e,r){if(!e||We)return"";We=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(Ee){var R=Ee}Reflect.construct(e,[],r)}else{try{r.call()}catch(Ee){R=Ee}e.call(r.prototype)}else{try{throw Error()}catch(Ee){R=Ee}e()}}catch(Ee){if(Ee&&R&&typeof Ee.stack=="string"){for(var z=Ee.stack.split(`
`),te=R.stack.split(`
`),ue=z.length-1,me=te.length-1;1<=ue&&0<=me&&z[ue]!==te[me];)me--;for(;1<=ue&&0<=me;ue--,me--)if(z[ue]!==te[me]){if(ue!==1||me!==1)do if(ue--,me--,0>me||z[ue]!==te[me])return`
`+z[ue].replace(" at new "," at ");while(1<=ue&&0<=me);break}}}finally{We=!1,Error.prepareStackTrace=u}return(e=e?e.displayName||e.name:"")?Ce(e):""}function Ge(e){switch(e.tag){case 5:return Ce(e.type);case 16:return Ce("Lazy");case 13:return Ce("Suspense");case 19:return Ce("SuspenseList");case 0:case 2:case 15:return e=Fe(e.type,!1),e;case 11:return e=Fe(e.type.render,!1),e;case 22:return e=Fe(e.type._render,!1),e;case 1:return e=Fe(e.type,!0),e;default:return""}}function ze(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case V:return"Fragment";case N:return"Portal";case se:return"Profiler";case J:return"StrictMode";case Q:return"Suspense";case H:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ae:return(e.displayName||"Context")+".Consumer";case ie:return(e._context.displayName||"Context")+".Provider";case W:var r=e.render;return r=r.displayName||r.name||"",e.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case Y:return ze(e.type);case $:return ze(e._render);case Z:r=e._payload,e=e._init;try{return ze(e(r))}catch(u){}}return null}function Ae(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ke(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function He(e){var r=ke(e)?"checked":"value",u=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),R=""+e[r];if(!e.hasOwnProperty(r)&&typeof u!="undefined"&&typeof u.get=="function"&&typeof u.set=="function"){var z=u.get,te=u.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return z.call(this)},set:function(ue){R=""+ue,te.call(this,ue)}}),Object.defineProperty(e,r,{enumerable:u.enumerable}),{getValue:function(){return R},setValue:function(ue){R=""+ue},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function $e(e){e._valueTracker||(e._valueTracker=He(e))}function gt(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var u=r.getValue(),R="";return e&&(R=ke(e)?e.checked?"true":"false":e.value),e=R,e!==u?(r.setValue(e),!0):!1}function ft(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(r){return e.body}}function Mt(e,r){var u=r.checked;return g({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??e._wrapperState.initialChecked})}function jt(e,r){var u=r.defaultValue==null?"":r.defaultValue,R=r.checked!=null?r.checked:r.defaultChecked;u=Ae(r.value!=null?r.value:u),e._wrapperState={initialChecked:R,initialValue:u,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function vt(e,r){r=r.checked,r!=null&&D(e,"checked",r,!1)}function Dr(e,r){vt(e,r);var u=Ae(r.value),R=r.type;if(u!=null)R==="number"?(u===0&&e.value===""||e.value!=u)&&(e.value=""+u):e.value!==""+u&&(e.value=""+u);else if(R==="submit"||R==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?Lr(e,r.type,u):r.hasOwnProperty("defaultValue")&&Lr(e,r.type,Ae(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function Wn(e,r,u){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var R=r.type;if(!(R!=="submit"&&R!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,u||r===e.value||(e.value=r),e.defaultValue=r}u=e.name,u!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,u!==""&&(e.name=u)}function Lr(e,r,u){(r!=="number"||ft(e.ownerDocument)!==e)&&(u==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+u&&(e.defaultValue=""+u))}function yn(e){var r="";return k.Children.forEach(e,function(u){u!=null&&(r+=u)}),r}function Xn(e,r){return e=g({children:void 0},r),(r=yn(r.children))&&(e.children=r),e}function At(e,r,u,R){if(e=e.options,r){r={};for(var z=0;z<u.length;z++)r["$"+u[z]]=!0;for(u=0;u<e.length;u++)z=r.hasOwnProperty("$"+e[u].value),e[u].selected!==z&&(e[u].selected=z),z&&R&&(e[u].defaultSelected=!0)}else{for(u=""+Ae(u),r=null,z=0;z<e.length;z++){if(e[z].value===u){e[z].selected=!0,R&&(e[z].defaultSelected=!0);return}r!==null||e[z].disabled||(r=e[z])}r!==null&&(r.selected=!0)}}function mi(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(x(91));return g({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Tr(e,r){var u=r.value;if(u==null){if(u=r.children,r=r.defaultValue,u!=null){if(r!=null)throw Error(x(92));if(Array.isArray(u)){if(!(1>=u.length))throw Error(x(93));u=u[0]}r=u}r==null&&(r=""),u=r}e._wrapperState={initialValue:Ae(u)}}function Zs(e,r){var u=Ae(r.value),R=Ae(r.defaultValue);u!=null&&(u=""+u,u!==e.value&&(e.value=u),r.defaultValue==null&&e.defaultValue!==u&&(e.defaultValue=u)),R!=null&&(e.defaultValue=""+R)}function Js(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}var ya={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function qs(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _a(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?qs(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gi,eu=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(r,u,R,z){MSApp.execUnsafeLocalFunction(function(){return e(r,u,R,z)})}:e}(function(e,r){if(e.namespaceURI!==ya.svg||"innerHTML"in e)e.innerHTML=r;else{for(gi=gi||document.createElement("div"),gi.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=gi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function _n(e,r){if(r){var u=e.firstChild;if(u&&u===e.lastChild&&u.nodeType===3){u.nodeValue=r;return}}e.textContent=r}var Hn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bl=["Webkit","ms","Moz","O"];Object.keys(Hn).forEach(function(e){Bl.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),Hn[r]=Hn[e]})});function tu(e,r,u){return r==null||typeof r=="boolean"||r===""?"":u||typeof r!="number"||r===0||Hn.hasOwnProperty(e)&&Hn[e]?(""+r).trim():r+"px"}function ru(e,r){e=e.style;for(var u in r)if(r.hasOwnProperty(u)){var R=u.indexOf("--")===0,z=tu(u,r[u],R);u==="float"&&(u="cssFloat"),R?e.setProperty(u,z):e[u]=z}}var Ul=g({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xa(e,r){if(r){if(Ul[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(x(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(x(60));if(!(typeof r.dangerouslySetInnerHTML=="object"&&"__html"in r.dangerouslySetInnerHTML))throw Error(x(61))}if(r.style!=null&&typeof r.style!="object")throw Error(x(62))}}function Fr(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function wa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ta=null,zn=null,Vn=null;function nu(e){if(e=ri(e)){if(typeof Ta!="function")throw Error(x(280));var r=e.stateNode;r&&(r=Gi(r),Ta(e.stateNode,e.type,r))}}function iu(e){zn?Vn?Vn.push(e):Vn=[e]:zn=e}function ou(){if(zn){var e=zn,r=Vn;if(Vn=zn=null,nu(e),r)for(e=0;e<r.length;e++)nu(r[e])}}function Sa(e,r){return e(r)}function au(e,r,u,R,z){return e(r,u,R,z)}function Ea(){}var su=Sa,xn=!1,Jr=!1;function Pa(){(zn!==null||Vn!==null)&&(Ea(),ou())}function yi(e,r,u){if(Jr)return e(r,u);Jr=!0;try{return su(e,r,u)}finally{Jr=!1,Pa()}}function _i(e,r){var u=e.stateNode;if(u===null)return null;var R=Gi(u);if(R===null)return null;u=R[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(e=e.type,R=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!R;break e;default:e=!1}if(e)return null;if(u&&typeof u!="function")throw Error(x(231,r,typeof u));return u}var wn=!1;if(l)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){wn=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch(e){wn=!1}function Gl(e,r,u,R,z,te,ue,me,Ee){var Ie=Array.prototype.slice.call(arguments,3);try{r.apply(u,Ie)}catch(Ve){this.onError(Ve)}}var wi=!1,po=null,vo=!1,Ma=null,Wl={onError:function(e){wi=!0,po=e}};function Xl(e,r,u,R,z,te,ue,me,Ee){wi=!1,po=null,Gl.apply(Wl,arguments)}function Hl(e,r,u,R,z,te,ue,me,Ee){if(Xl.apply(this,arguments),wi){if(wi){var Ie=po;wi=!1,po=null}else throw Error(x(198));vo||(vo=!0,Ma=Ie)}}function Tn(e){var r=e,u=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&1026)!=0&&(u=r.return),e=r.return;while(e)}return r.tag===3?u:null}function uu(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function lu(e){if(Tn(e)!==e)throw Error(x(188))}function zl(e){var r=e.alternate;if(!r){if(r=Tn(e),r===null)throw Error(x(188));return r!==e?null:e}for(var u=e,R=r;;){var z=u.return;if(z===null)break;var te=z.alternate;if(te===null){if(R=z.return,R!==null){u=R;continue}break}if(z.child===te.child){for(te=z.child;te;){if(te===u)return lu(z),e;if(te===R)return lu(z),r;te=te.sibling}throw Error(x(188))}if(u.return!==R.return)u=z,R=te;else{for(var ue=!1,me=z.child;me;){if(me===u){ue=!0,u=z,R=te;break}if(me===R){ue=!0,R=z,u=te;break}me=me.sibling}if(!ue){for(me=te.child;me;){if(me===u){ue=!0,u=te,R=z;break}if(me===R){ue=!0,R=te,u=z;break}me=me.sibling}if(!ue)throw Error(x(189))}}if(u.alternate!==R)throw Error(x(190))}if(u.tag!==3)throw Error(x(188));return u.stateNode.current===u?e:r}function fu(e){if(e=zl(e),!e)return null;for(var r=e;;){if(r.tag===5||r.tag===6)return r;if(r.child)r.child.return=r,r=r.child;else{if(r===e)break;for(;!r.sibling;){if(!r.return||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}}return null}function cu(e,r){for(var u=e.alternate;r!==null;){if(r===e||r===u)return!0;r=r.return}return!1}var hu,qr,ba,du,Oa=!1,Sr=[],en=null,tn=null,dr=null,Ti=new Map,Si=new Map,Ei=[],pu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ra(e,r,u,R,z){return{blockedOn:e,domEventName:r,eventSystemFlags:u|16,nativeEvent:z,targetContainers:[R]}}function vu(e,r){switch(e){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":tn=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":Ti.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Si.delete(r.pointerId)}}function Pi(e,r,u,R,z,te){return e===null||e.nativeEvent!==te?(e=Ra(r,u,R,z,te),r!==null&&(r=ri(r),r!==null&&qr(r)),e):(e.eventSystemFlags|=R,r=e.targetContainers,z!==null&&r.indexOf(z)===-1&&r.push(z),e)}function Vl(e,r,u,R,z){switch(r){case"focusin":return en=Pi(en,e,r,u,R,z),!0;case"dragenter":return tn=Pi(tn,e,r,u,R,z),!0;case"mouseover":return dr=Pi(dr,e,r,u,R,z),!0;case"pointerover":var te=z.pointerId;return Ti.set(te,Pi(Ti.get(te)||null,e,r,u,R,z)),!0;case"gotpointercapture":return te=z.pointerId,Si.set(te,Pi(Si.get(te)||null,e,r,u,R,z)),!0}return!1}function Yn(e){var r=Mn(e.target);if(r!==null){var u=Tn(r);if(u!==null){if(r=u.tag,r===13){if(r=uu(u),r!==null){e.blockedOn=r,du(e.lanePriority,function(){b.unstable_runWithPriority(e.priority,function(){ba(u)})});return}}else if(r===3&&u.stateNode.hydrate){e.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mi(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var u=Fa(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(u!==null)return r=ri(u),r!==null&&qr(r),e.blockedOn=u,!1;r.shift()}return!0}function mu(e,r,u){Mi(e)&&u.delete(r)}function Yl(){for(Oa=!1;0<Sr.length;){var e=Sr[0];if(e.blockedOn!==null){e=ri(e.blockedOn),e!==null&&hu(e);break}for(var r=e.targetContainers;0<r.length;){var u=Fa(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(u!==null){e.blockedOn=u;break}r.shift()}e.blockedOn===null&&Sr.shift()}en!==null&&Mi(en)&&(en=null),tn!==null&&Mi(tn)&&(tn=null),dr!==null&&Mi(dr)&&(dr=null),Ti.forEach(mu),Si.forEach(mu)}function bi(e,r){e.blockedOn===r&&(e.blockedOn=null,Oa||(Oa=!0,b.unstable_scheduleCallback(b.unstable_NormalPriority,Yl)))}function Sn(e){function r(z){return bi(z,e)}if(0<Sr.length){bi(Sr[0],e);for(var u=1;u<Sr.length;u++){var R=Sr[u];R.blockedOn===e&&(R.blockedOn=null)}}for(en!==null&&bi(en,e),tn!==null&&bi(tn,e),dr!==null&&bi(dr,e),Ti.forEach(r),Si.forEach(r),u=0;u<Ei.length;u++)R=Ei[u],R.blockedOn===e&&(R.blockedOn=null);for(;0<Ei.length&&(u=Ei[0],u.blockedOn===null);)Yn(u),u.blockedOn===null&&Ei.shift()}function jn(e,r){var u={};return u[e.toLowerCase()]=r.toLowerCase(),u["Webkit"+e]="webkit"+r,u["Moz"+e]="moz"+r,u}var Kn={animationend:jn("Animation","AnimationEnd"),animationiteration:jn("Animation","AnimationIteration"),animationstart:jn("Animation","AnimationStart"),transitionend:jn("Transition","TransitionEnd")},Ca={},gu={};l&&(gu=document.createElement("div").style,"AnimationEvent"in window||(delete Kn.animationend.animation,delete Kn.animationiteration.animation,delete Kn.animationstart.animation),"TransitionEvent"in window||delete Kn.transitionend.transition);function mo(e){if(Ca[e])return Ca[e];if(!Kn[e])return e;var r=Kn[e],u;for(u in r)if(r.hasOwnProperty(u)&&u in gu)return Ca[e]=r[u];return e}var yu=mo("animationend"),Oi=mo("animationiteration"),_u=mo("animationstart"),xu=mo("transitionend"),wu=new Map,Aa=new Map,jl=["abort","abort",yu,"animationEnd",Oi,"animationIteration",_u,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",xu,"transitionEnd","waiting","waiting"];function Ia(e,r){for(var u=0;u<e.length;u+=2){var R=e[u],z=e[u+1];z="on"+(z[0].toUpperCase()+z.slice(1)),Aa.set(R,r),wu.set(R,z),m(z,[R])}}var Kl=b.unstable_now;Kl();var mt=8;function En(e){if((1&e)!=0)return mt=15,1;if((2&e)!=0)return mt=14,2;if((4&e)!=0)return mt=13,4;var r=24&e;return r!==0?(mt=12,r):(e&32)!=0?(mt=11,32):(r=192&e,r!==0?(mt=10,r):(e&256)!=0?(mt=9,256):(r=3584&e,r!==0?(mt=8,r):(e&4096)!=0?(mt=7,4096):(r=4186112&e,r!==0?(mt=6,r):(r=62914560&e,r!==0?(mt=5,r):e&67108864?(mt=4,67108864):(e&134217728)!=0?(mt=3,134217728):(r=805306368&e,r!==0?(mt=2,r):(1073741824&e)!=0?(mt=1,1073741824):(mt=8,e))))))}function $l(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Tu(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(x(358,e))}}function Ri(e,r){var u=e.pendingLanes;if(u===0)return mt=0;var R=0,z=0,te=e.expiredLanes,ue=e.suspendedLanes,me=e.pingedLanes;if(te!==0)R=te,z=mt=15;else if(te=u&134217727,te!==0){var Ee=te&~ue;Ee!==0?(R=En(Ee),z=mt):(me&=te,me!==0&&(R=En(me),z=mt))}else te=u&~ue,te!==0?(R=En(te),z=mt):me!==0&&(R=En(me),z=mt);if(R===0)return 0;if(R=31-rn(R),R=u&((0>R?0:1<<R)<<1)-1,r!==0&&r!==R&&(r&ue)==0){if(En(r),z<=mt)return r;mt=z}if(r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=R;0<r;)u=31-rn(r),z=1<<u,R|=e[u],r&=~z;return R}function Su(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function go(e,r){switch(e){case 15:return 1;case 14:return 2;case 12:return e=$n(24&~r),e===0?go(10,r):e;case 10:return e=$n(192&~r),e===0?go(8,r):e;case 8:return e=$n(3584&~r),e===0&&(e=$n(4186112&~r),e===0&&(e=512)),e;case 2:return r=$n(805306368&~r),r===0&&(r=268435456),r}throw Error(x(358,e))}function $n(e){return e&-e}function Da(e){for(var r=[],u=0;31>u;u++)r.push(e);return r}function yo(e,r,u){e.pendingLanes|=r;var R=r-1;e.suspendedLanes&=R,e.pingedLanes&=R,e=e.eventTimes,r=31-rn(r),e[r]=u}var rn=Math.clz32?Math.clz32:Jl,Ql=Math.log,Zl=Math.LN2;function Jl(e){return e===0?32:31-(Ql(e)/Zl|0)|0}var ql=b.unstable_UserBlockingPriority,ef=b.unstable_runWithPriority,_o=!0;function tf(e,r,u,R){xn||Ea();var z=La,te=xn;xn=!0;try{au(z,e,r,u,R)}finally{(xn=te)||Pa()}}function rf(e,r,u,R){ef(ql,La.bind(null,e,r,u,R))}function La(e,r,u,R){if(_o){var z;if((z=(r&4)==0)&&0<Sr.length&&-1<pu.indexOf(e))e=Ra(null,e,r,u,R),Sr.push(e);else{var te=Fa(e,r,u,R);if(te===null)z&&vu(e,R);else{if(z){if(-1<pu.indexOf(e)){e=Ra(te,e,r,u,R),Sr.push(e);return}if(Vl(te,e,r,u,R))return;vu(e,R)}Ju(e,r,R,null,u)}}}}function Fa(e,r,u,R){var z=wa(R);if(z=Mn(z),z!==null){var te=Tn(z);if(te===null)z=null;else{var ue=te.tag;if(ue===13){if(z=uu(te),z!==null)return z;z=null}else if(ue===3){if(te.stateNode.hydrate)return te.tag===3?te.stateNode.containerInfo:null;z=null}else te!==z&&(z=null)}}return Ju(e,r,R,z,u),null}var kr=null,Ci=null,xo=null;function Eu(){if(xo)return xo;var e,r=Ci,u=r.length,R,z="value"in kr?kr.value:kr.textContent,te=z.length;for(e=0;e<u&&r[e]===z[e];e++);var ue=u-e;for(R=1;R<=ue&&r[u-R]===z[te-R];R++);return xo=z.slice(e,1<R?1-R:void 0)}function wo(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function To(){return!0}function Pu(){return!1}function Ut(e){function r(u,R,z,te,ue){this._reactName=u,this._targetInst=z,this.type=R,this.nativeEvent=te,this.target=ue,this.currentTarget=null;for(var me in e)e.hasOwnProperty(me)&&(u=e[me],this[me]=u?u(te):te[me]);return this.isDefaultPrevented=(te.defaultPrevented!=null?te.defaultPrevented:te.returnValue===!1)?To:Pu,this.isPropagationStopped=Pu,this}return g(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=To)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=To)},persist:function(){},isPersistent:To}),r}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ka=Ut(Qn),Ai=g({},Qn,{view:0,detail:0}),nf=Ut(Ai),Na,Ba,Ii,So=g({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ii&&(Ii&&e.type==="mousemove"?(Na=e.screenX-Ii.screenX,Ba=e.screenY-Ii.screenY):Ba=Na=0,Ii=e),Na)},movementY:function(e){return"movementY"in e?e.movementY:Ba}}),Ua=Ut(So),of=g({},So,{dataTransfer:0}),af=Ut(of),sf=g({},Ai,{relatedTarget:0}),Ga=Ut(sf),uf=g({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Di=Ut(uf),lf=g({},Qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ff=Ut(lf),Mu=g({},Qn,{data:0}),Wa=Ut(Mu),cf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},df={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pf(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=df[e])?!!r[e]:!1}function Xa(){return pf}var vf=g({},Ai,{key:function(e){if(e.key){var r=cf[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=wo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xa,charCode:function(e){return e.type==="keypress"?wo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bu=Ut(vf),Ou=g({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ru=Ut(Ou),Cu=g({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xa}),mf=Ut(Cu),gf=g({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ha=Ut(gf),yf=g({},So,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_f=Ut(yf),xf=[9,13,27,32],za=l&&"CompositionEvent"in window,Li=null;l&&"documentMode"in document&&(Li=document.documentMode);var wf=l&&"TextEvent"in window&&!Li,Va=l&&(!za||Li&&8<Li&&11>=Li),Au=String.fromCharCode(32),Iu=!1;function Du(e,r){switch(e){case"keyup":return xf.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zn=!1;function Tf(e,r){switch(e){case"compositionend":return Lu(r);case"keypress":return r.which!==32?null:(Iu=!0,Au);case"textInput":return e=r.data,e===Au&&Iu?null:e;default:return null}}function Sf(e,r){if(Zn)return e==="compositionend"||!za&&Du(e,r)?(e=Eu(),xo=Ci=kr=null,Zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Va&&r.locale!=="ko"?null:r.data;default:return null}}var Ef={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fu(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Ef[e.type]:r==="textarea"}function ku(e,r,u,R){iu(R),r=Mo(r,"onChange"),0<r.length&&(u=new ka("onChange","change",null,u,R),e.push({event:u,listeners:r}))}var Fi=null,ki=null;function Pf(e){ju(e,0)}function Eo(e){var r=bn(e);if(gt(r))return e}function Mf(e,r){if(e==="change")return r}var Nu=!1;if(l){var Ya;if(l){var ja="oninput"in document;if(!ja){var Bu=document.createElement("div");Bu.setAttribute("oninput","return;"),ja=typeof Bu.oninput=="function"}Ya=ja}else Ya=!1;Nu=Ya&&(!document.documentMode||9<document.documentMode)}function Uu(){Fi&&(Fi.detachEvent("onpropertychange",Gu),ki=Fi=null)}function Gu(e){if(e.propertyName==="value"&&Eo(ki)){var r=[];if(ku(r,ki,e,wa(e)),e=Pf,xn)e(r);else{xn=!0;try{Sa(e,r)}finally{xn=!1,Pa()}}}}function bf(e,r,u){e==="focusin"?(Uu(),Fi=r,ki=u,Fi.attachEvent("onpropertychange",Gu)):e==="focusout"&&Uu()}function Of(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Eo(ki)}function Rf(e,r){if(e==="click")return Eo(r)}function yt(e,r){if(e==="input"||e==="change")return Eo(r)}function Cf(e,r){return e===r&&(e!==0||1/e==1/r)||e!==e&&r!==r}var ar=typeof Object.is=="function"?Object.is:Cf,Af=Object.prototype.hasOwnProperty;function Ni(e,r){if(ar(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var u=Object.keys(e),R=Object.keys(r);if(u.length!==R.length)return!1;for(R=0;R<u.length;R++)if(!Af.call(r,u[R])||!ar(e[u[R]],r[u[R]]))return!1;return!0}function Ka(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,r){var u=Ka(e);e=0;for(var R;u;){if(u.nodeType===3){if(R=e+u.textContent.length,e<=r&&R>=r)return{node:u,offset:r-e};e=R}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Ka(u)}}function Wu(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Wu(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function Po(){for(var e=window,r=ft();r instanceof e.HTMLIFrameElement;){try{var u=typeof r.contentWindow.location.href=="string"}catch(R){u=!1}if(u)e=r.contentWindow;else break;r=ft(e.document)}return r}function $a(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var Xu=l&&"documentMode"in document&&11>=document.documentMode,Pn=null,Qa=null,qn=null,Za=!1;function Hu(e,r,u){var R=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Za||Pn==null||Pn!==ft(R)||(R=Pn,"selectionStart"in R&&$a(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),qn&&Ni(qn,R)||(qn=R,R=Mo(Qa,"onSelect"),0<R.length&&(r=new ka("onSelect","select",null,r,u),e.push({event:r,listeners:R}),r.target=Pn)))}Ia("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ia("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ia(jl,2);for(var zu="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ja=0;Ja<zu.length;Ja++)Aa.set(zu[Ja],0);y("onMouseEnter",["mouseout","mouseover"]),y("onMouseLeave",["mouseout","mouseover"]),y("onPointerEnter",["pointerout","pointerover"]),y("onPointerLeave",["pointerout","pointerover"]),m("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),m("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),m("onBeforeInput",["compositionend","keypress","textInput","paste"]),m("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vu=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bi));function Yu(e,r,u){var R=e.type||"unknown-event";e.currentTarget=u,Hl(R,r,void 0,e),e.currentTarget=null}function ju(e,r){r=(r&4)!=0;for(var u=0;u<e.length;u++){var R=e[u],z=R.event;R=R.listeners;e:{var te=void 0;if(r)for(var ue=R.length-1;0<=ue;ue--){var me=R[ue],Ee=me.instance,Ie=me.currentTarget;if(me=me.listener,Ee!==te&&z.isPropagationStopped())break e;Yu(z,me,Ie),te=Ee}else for(ue=0;ue<R.length;ue++){if(me=R[ue],Ee=me.instance,Ie=me.currentTarget,me=me.listener,Ee!==te&&z.isPropagationStopped())break e;Yu(z,me,Ie),te=Ee}}}if(vo)throw e=Ma,vo=!1,Ma=null,e}function xt(e,r){var u=os(r),R=e+"__bubble";u.has(R)||(Zu(r,e,2,!1),u.add(R))}var Ku="_reactListening"+Math.random().toString(36).slice(2);function $u(e){e[Ku]||(e[Ku]=!0,w.forEach(function(r){Vu.has(r)||Qu(r,!1,e,null),Qu(r,!0,e,null)}))}function Qu(e,r,u,R){var z=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,te=u;if(e==="selectionchange"&&u.nodeType!==9&&(te=u.ownerDocument),R!==null&&!r&&Vu.has(e)){if(e!=="scroll")return;z|=2,te=R}var ue=os(te),me=e+"__"+(r?"capture":"bubble");ue.has(me)||(r&&(z|=4),Zu(te,e,z,r),ue.add(me))}function Zu(e,r,u,R){var z=Aa.get(r);switch(z===void 0?2:z){case 0:z=tf;break;case 1:z=rf;break;default:z=La}u=z.bind(null,r,u,e),z=void 0,!wn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(z=!0),R?z!==void 0?e.addEventListener(r,u,{capture:!0,passive:z}):e.addEventListener(r,u,!0):z!==void 0?e.addEventListener(r,u,{passive:z}):e.addEventListener(r,u,!1)}function Ju(e,r,u,R,z){var te=R;if((r&1)==0&&(r&2)==0&&R!==null)e:for(;;){if(R===null)return;var ue=R.tag;if(ue===3||ue===4){var me=R.stateNode.containerInfo;if(me===z||me.nodeType===8&&me.parentNode===z)break;if(ue===4)for(ue=R.return;ue!==null;){var Ee=ue.tag;if((Ee===3||Ee===4)&&(Ee=ue.stateNode.containerInfo,Ee===z||Ee.nodeType===8&&Ee.parentNode===z))return;ue=ue.return}for(;me!==null;){if(ue=Mn(me),ue===null)return;if(Ee=ue.tag,Ee===5||Ee===6){R=te=ue;continue e}me=me.parentNode}}R=R.return}yi(function(){var Ie=te,Ve=wa(u),rt=[];e:{var Ue=wu.get(e);if(Ue!==void 0){var Qe=ka,nt=e;switch(e){case"keypress":if(wo(u)===0)break e;case"keydown":case"keyup":Qe=bu;break;case"focusin":nt="focus",Qe=Ga;break;case"focusout":nt="blur",Qe=Ga;break;case"beforeblur":case"afterblur":Qe=Ga;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Qe=Ua;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Qe=af;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Qe=mf;break;case yu:case Oi:case _u:Qe=Di;break;case xu:Qe=Ha;break;case"scroll":Qe=nf;break;case"wheel":Qe=_f;break;case"copy":case"cut":case"paste":Qe=ff;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Qe=Ru}var qe=(r&4)!=0,Re=!qe&&e==="scroll",Pe=qe?Ue!==null?Ue+"Capture":null:Ue;qe=[];for(var Oe=Ie,Le;Oe!==null;){Le=Oe;var Ne=Le.stateNode;if(Le.tag===5&&Ne!==null&&(Le=Ne,Pe!==null&&(Ne=_i(Oe,Pe),Ne!=null&&qe.push(Ui(Oe,Ne,Le)))),Re)break;Oe=Oe.return}0<qe.length&&(Ue=new Qe(Ue,nt,null,u,Ve),rt.push({event:Ue,listeners:qe}))}}if((r&7)==0){e:{if(Ue=e==="mouseover"||e==="pointerover",Qe=e==="mouseout"||e==="pointerout",Ue&&(r&16)==0&&(nt=u.relatedTarget||u.fromElement)&&(Mn(nt)||nt[nn]))break e;if((Qe||Ue)&&(Ue=Ve.window===Ve?Ve:(Ue=Ve.ownerDocument)?Ue.defaultView||Ue.parentWindow:window,Qe?(nt=u.relatedTarget||u.toElement,Qe=Ie,nt=nt?Mn(nt):null,nt!==null&&(Re=Tn(nt),nt!==Re||nt.tag!==5&&nt.tag!==6)&&(nt=null)):(Qe=null,nt=Ie),Qe!==nt)){if(qe=Ua,Ne="onMouseLeave",Pe="onMouseEnter",Oe="mouse",(e==="pointerout"||e==="pointerover")&&(qe=Ru,Ne="onPointerLeave",Pe="onPointerEnter",Oe="pointer"),Re=Qe==null?Ue:bn(Qe),Le=nt==null?Ue:bn(nt),Ue=new qe(Ne,Oe+"leave",Qe,u,Ve),Ue.target=Re,Ue.relatedTarget=Le,Ne=null,Mn(Ve)===Ie&&(qe=new qe(Pe,Oe+"enter",nt,u,Ve),qe.target=Le,qe.relatedTarget=Re,Ne=qe),Re=Ne,Qe&&nt)t:{for(qe=Qe,Pe=nt,Oe=0,Le=qe;Le;Le=ei(Le))Oe++;for(Le=0,Ne=Pe;Ne;Ne=ei(Ne))Le++;for(;0<Oe-Le;)qe=ei(qe),Oe--;for(;0<Le-Oe;)Pe=ei(Pe),Le--;for(;Oe--;){if(qe===Pe||Pe!==null&&qe===Pe.alternate)break t;qe=ei(qe),Pe=ei(Pe)}qe=null}else qe=null;Qe!==null&&qu(rt,Ue,Qe,qe,!1),nt!==null&&Re!==null&&qu(rt,Re,nt,qe,!0)}}e:{if(Ue=Ie?bn(Ie):window,Qe=Ue.nodeName&&Ue.nodeName.toLowerCase(),Qe==="select"||Qe==="input"&&Ue.type==="file")var it=Mf;else if(Fu(Ue))if(Nu)it=yt;else{it=Of;var Ke=bf}else(Qe=Ue.nodeName)&&Qe.toLowerCase()==="input"&&(Ue.type==="checkbox"||Ue.type==="radio")&&(it=Rf);if(it&&(it=it(e,Ie))){ku(rt,it,u,Ve);break e}Ke&&Ke(e,Ue,Ie),e==="focusout"&&(Ke=Ue._wrapperState)&&Ke.controlled&&Ue.type==="number"&&Lr(Ue,"number",Ue.value)}switch(Ke=Ie?bn(Ie):window,e){case"focusin":(Fu(Ke)||Ke.contentEditable==="true")&&(Pn=Ke,Qa=Ie,qn=null);break;case"focusout":qn=Qa=Pn=null;break;case"mousedown":Za=!0;break;case"contextmenu":case"mouseup":case"dragend":Za=!1,Hu(rt,u,Ve);break;case"selectionchange":if(Xu)break;case"keydown":case"keyup":Hu(rt,u,Ve)}var ot;if(za)e:{switch(e){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else Zn?Du(e,u)&&(ut="onCompositionEnd"):e==="keydown"&&u.keyCode===229&&(ut="onCompositionStart");ut&&(Va&&u.locale!=="ko"&&(Zn||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&Zn&&(ot=Eu()):(kr=Ve,Ci="value"in kr?kr.value:kr.textContent,Zn=!0)),Ke=Mo(Ie,ut),0<Ke.length&&(ut=new Wa(ut,e,null,u,Ve),rt.push({event:ut,listeners:Ke}),ot?ut.data=ot:(ot=Lu(u),ot!==null&&(ut.data=ot)))),(ot=wf?Tf(e,u):Sf(e,u))&&(Ie=Mo(Ie,"onBeforeInput"),0<Ie.length&&(Ve=new Wa("onBeforeInput","beforeinput",null,u,Ve),rt.push({event:Ve,listeners:Ie}),Ve.data=ot))}ju(rt,r)})}function Ui(e,r,u){return{instance:e,listener:r,currentTarget:u}}function Mo(e,r){for(var u=r+"Capture",R=[];e!==null;){var z=e,te=z.stateNode;z.tag===5&&te!==null&&(z=te,te=_i(e,u),te!=null&&R.unshift(Ui(e,te,z)),te=_i(e,r),te!=null&&R.push(Ui(e,te,z))),e=e.return}return R}function ei(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qu(e,r,u,R,z){for(var te=r._reactName,ue=[];u!==null&&u!==R;){var me=u,Ee=me.alternate,Ie=me.stateNode;if(Ee!==null&&Ee===R)break;me.tag===5&&Ie!==null&&(me=Ie,z?(Ee=_i(u,te),Ee!=null&&ue.unshift(Ui(u,Ee,me))):z||(Ee=_i(u,te),Ee!=null&&ue.push(Ui(u,Ee,me)))),u=u.return}ue.length!==0&&e.push({event:r,listeners:ue})}function bo(){}var qa=null,Oo=null;function el(e,r){switch(e){case"button":case"input":case"select":case"textarea":return!!r.autoFocus}return!1}function es(e,r){return e==="textarea"||e==="option"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var tl=typeof setTimeout=="function"?setTimeout:void 0,If=typeof clearTimeout=="function"?clearTimeout:void 0;function ts(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function ti(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break}return e}function Ro(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var u=e.data;if(u==="$"||u==="$!"||u==="$?"){if(r===0)return e;r--}else u==="/$"&&r++}e=e.previousSibling}return null}var rs=0;function ns(e){return{$$typeof:ee,toString:e,valueOf:e}}var Co=Math.random().toString(36).slice(2),Er="__reactFiber$"+Co,Ao="__reactProps$"+Co,nn="__reactContainer$"+Co,is="__reactEvents$"+Co;function Mn(e){var r=e[Er];if(r)return r;for(var u=e.parentNode;u;){if(r=u[nn]||u[Er]){if(u=r.alternate,r.child!==null||u!==null&&u.child!==null)for(e=Ro(e);e!==null;){if(u=e[Er])return u;e=Ro(e)}return r}e=u,u=e.parentNode}return null}function ri(e){return e=e[Er]||e[nn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(x(33))}function Gi(e){return e[Ao]||null}function os(e){var r=e[is];return r===void 0&&(r=e[is]=new Set),r}var as=[],ni=-1;function on(e){return{current:e}}function _t(e){0>ni||(e.current=as[ni],as[ni]=null,ni--)}function Et(e,r){ni++,as[ni]=e.current,e.current=r}var Kt={},Lt=on(Kt),$t=on(!1),an=Kt;function On(e,r){var u=e.type.contextTypes;if(!u)return Kt;var R=e.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===r)return R.__reactInternalMemoizedMaskedChildContext;var z={},te;for(te in u)z[te]=r[te];return R&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=z),z}function Ft(e){return e=e.childContextTypes,e!=null}function Io(){_t($t),_t(Lt)}function ss(e,r,u){if(Lt.current!==Kt)throw Error(x(168));Et(Lt,r),Et($t,u)}function rl(e,r,u){var R=e.stateNode;if(e=r.childContextTypes,typeof R.getChildContext!="function")return u;R=R.getChildContext();for(var z in R)if(!(z in e))throw Error(x(108,ze(r)||"Unknown",z));return g({},u,R)}function Do(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kt,an=Lt.current,Et(Lt,e),Et($t,$t.current),!0}function us(e,r,u){var R=e.stateNode;if(!R)throw Error(x(169));u?(e=rl(e,r,an),R.__reactInternalMemoizedMergedChildContext=e,_t($t),_t(Lt),Et(Lt,e)):_t($t),Et($t,u)}var ls=null,Rn=null,Lo=b.unstable_runWithPriority,Fo=b.unstable_scheduleCallback,Ot=b.unstable_cancelCallback,Df=b.unstable_shouldYield,ko=b.unstable_requestPaint,Wi=b.unstable_now,fs=b.unstable_getCurrentPriorityLevel,sn=b.unstable_ImmediatePriority,nl=b.unstable_UserBlockingPriority,No=b.unstable_NormalPriority,cs=b.unstable_LowPriority,Qt=b.unstable_IdlePriority,Pr={},il=ko!==void 0?ko:function(){},pr=null,Bo=null,kt=!1,Xi=Wi(),Rt=1e4>Xi?Wi:function(){return Wi()-Xi};function Je(){switch(fs()){case sn:return 99;case nl:return 98;case No:return 97;case cs:return 96;case Qt:return 95;default:throw Error(x(332))}}function Uo(e){switch(e){case 99:return sn;case 98:return nl;case 97:return No;case 96:return cs;case 95:return Qt;default:throw Error(x(332))}}function It(e,r){return e=Uo(e),Lo(e,r)}function Hi(e,r,u){return e=Uo(e),Fo(e,r,u)}function Mr(){if(Bo!==null){var e=Bo;Bo=null,Ot(e)}ol()}function ol(){if(!kt&&pr!==null){kt=!0;var e=0;try{var r=pr;It(99,function(){for(;e<r.length;e++){var u=r[e];do u=u(!0);while(u!==null)}}),pr=null}catch(u){throw pr!==null&&(pr=pr.slice(e+1)),Fo(sn,Mr),u}finally{kt=!1}}}var Lf=B.ReactCurrentBatchConfig;function nr(e,r){if(e&&e.defaultProps){r=g({},r),e=e.defaultProps;for(var u in e)r[u]===void 0&&(r[u]=e[u]);return r}return r}var Go=on(null),Wo=null,un=null,Nr=null;function Br(){Nr=un=Wo=null}function Ur(e){var r=Go.current;_t(Go),e.type._context._currentValue=r}function ln(e,r){for(;e!==null;){var u=e.alternate;if((e.childLanes&r)===r){if(u===null||(u.childLanes&r)===r)break;u.childLanes|=r}else e.childLanes|=r,u!==null&&(u.childLanes|=r);e=e.return}}function ct(e,r){Wo=e,Nr=un=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&r)!=0&&(_r=!0),e.firstContext=null)}function sr(e,r){if(Nr!==e&&r!==!1&&r!==0)if((typeof r!="number"||r===1073741823)&&(Nr=e,r=1073741823),r={context:e,observedBits:r,next:null},un===null){if(Wo===null)throw Error(x(308));un=r,Wo.dependencies={lanes:0,firstContext:r,responders:null}}else un=un.next=r;return e._currentValue}var vr=!1;function hs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ds(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ht(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function st(e,r){if(e=e.updateQueue,e!==null){e=e.shared;var u=e.pending;u===null?r.next=r:(r.next=u.next,u.next=r),e.pending=r}}function zi(e,r){var u=e.updateQueue,R=e.alternate;if(R!==null&&(R=R.updateQueue,u===R)){var z=null,te=null;if(u=u.firstBaseUpdate,u!==null){do{var ue={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};te===null?z=te=ue:te=te.next=ue,u=u.next}while(u!==null);te===null?z=te=r:te=te.next=r}else z=te=r;u={baseState:R.baseState,firstBaseUpdate:z,lastBaseUpdate:te,shared:R.shared,effects:R.effects},e.updateQueue=u;return}e=u.lastBaseUpdate,e===null?u.firstBaseUpdate=r:e.next=r,u.lastBaseUpdate=r}function fn(e,r,u,R){var z=e.updateQueue;vr=!1;var te=z.firstBaseUpdate,ue=z.lastBaseUpdate,me=z.shared.pending;if(me!==null){z.shared.pending=null;var Ee=me,Ie=Ee.next;Ee.next=null,ue===null?te=Ie:ue.next=Ie,ue=Ee;var Ve=e.alternate;if(Ve!==null){Ve=Ve.updateQueue;var rt=Ve.lastBaseUpdate;rt!==ue&&(rt===null?Ve.firstBaseUpdate=Ie:rt.next=Ie,Ve.lastBaseUpdate=Ee)}}if(te!==null){rt=z.baseState,ue=0,Ve=Ie=Ee=null;do{me=te.lane;var Ue=te.eventTime;if((R&me)===me){Ve!==null&&(Ve=Ve.next={eventTime:Ue,lane:0,tag:te.tag,payload:te.payload,callback:te.callback,next:null});e:{var Qe=e,nt=te;switch(me=r,Ue=u,nt.tag){case 1:if(Qe=nt.payload,typeof Qe=="function"){rt=Qe.call(Ue,rt,me);break e}rt=Qe;break e;case 3:Qe.flags=Qe.flags&-4097|64;case 0:if(Qe=nt.payload,me=typeof Qe=="function"?Qe.call(Ue,rt,me):Qe,me==null)break e;rt=g({},rt,me);break e;case 2:vr=!0}}te.callback!==null&&(e.flags|=32,me=z.effects,me===null?z.effects=[te]:me.push(te))}else Ue={eventTime:Ue,lane:me,tag:te.tag,payload:te.payload,callback:te.callback,next:null},Ve===null?(Ie=Ve=Ue,Ee=rt):Ve=Ve.next=Ue,ue|=me;if(te=te.next,te===null){if(me=z.shared.pending,me===null)break;te=me.next,me.next=null,z.lastBaseUpdate=me,z.shared.pending=null}}while(1);Ve===null&&(Ee=rt),z.baseState=Ee,z.firstBaseUpdate=Ie,z.lastBaseUpdate=Ve,Nn|=ue,e.lanes=ue,e.memoizedState=rt}}function cn(e,r,u){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var R=e[r],z=R.callback;if(z!==null){if(R.callback=null,R=u,typeof z!="function")throw Error(x(191,z));z.call(R)}}}var Cn=new k.Component().refs;function Xo(e,r,u,R){r=e.memoizedState,u=u(R,r),u=u==null?r:g({},r,u),e.memoizedState=u,e.lanes===0&&(e.updateQueue.baseState=u)}var Ho={isMounted:function(e){return(e=e._reactInternals)?Tn(e)===e:!1},enqueueSetState:function(e,r,u){e=e._reactInternals;var R=er(),z=Ar(e),te=ht(R,z);te.payload=r,u!=null&&(te.callback=u),st(e,te),jr(e,z,R)},enqueueReplaceState:function(e,r,u){e=e._reactInternals;var R=er(),z=Ar(e),te=ht(R,z);te.tag=1,te.payload=r,u!=null&&(te.callback=u),st(e,te),jr(e,z,R)},enqueueForceUpdate:function(e,r){e=e._reactInternals;var u=er(),R=Ar(e),z=ht(u,R);z.tag=2,r!=null&&(z.callback=r),st(e,z),jr(e,R,u)}};function al(e,r,u,R,z,te,ue){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(R,te,ue):r.prototype&&r.prototype.isPureReactComponent?!Ni(u,R)||!Ni(z,te):!0}function sl(e,r,u){var R=!1,z=Kt,te=r.contextType;return typeof te=="object"&&te!==null?te=sr(te):(z=Ft(r)?an:Lt.current,R=r.contextTypes,te=(R=R!=null)?On(e,z):Kt),r=new r(u,te),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Ho,e.stateNode=r,r._reactInternals=e,R&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=z,e.__reactInternalMemoizedMaskedChildContext=te),r}function ps(e,r,u,R){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(u,R),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(u,R),r.state!==e&&Ho.enqueueReplaceState(r,r.state,null)}function vs(e,r,u,R){var z=e.stateNode;z.props=u,z.state=e.memoizedState,z.refs=Cn,hs(e);var te=r.contextType;typeof te=="object"&&te!==null?z.context=sr(te):(te=Ft(r)?an:Lt.current,z.context=On(e,te)),fn(e,u,z,R),z.state=e.memoizedState,te=r.getDerivedStateFromProps,typeof te=="function"&&(Xo(e,r,te,u),z.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof z.getSnapshotBeforeUpdate=="function"||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(r=z.state,typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount(),r!==z.state&&Ho.enqueueReplaceState(z,z.state,null),fn(e,u,z,R),z.state=e.memoizedState),typeof z.componentDidMount=="function"&&(e.flags|=4)}var zo=Array.isArray;function Vi(e,r,u){if(e=u.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(x(309));var R=u.stateNode}if(!R)throw Error(x(147,e));var z=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===z?r.ref:(r=function(te){var ue=R.refs;ue===Cn&&(ue=R.refs={}),te===null?delete ue[z]:ue[z]=te},r._stringRef=z,r)}if(typeof e!="string")throw Error(x(284));if(!u._owner)throw Error(x(290,e))}return e}function Vo(e,r){if(e.type!=="textarea")throw Error(x(31,Object.prototype.toString.call(r)==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":r))}function ul(e){function r(Re,Pe){if(e){var Oe=Re.lastEffect;Oe!==null?(Oe.nextEffect=Pe,Re.lastEffect=Pe):Re.firstEffect=Re.lastEffect=Pe,Pe.nextEffect=null,Pe.flags=8}}function u(Re,Pe){if(!e)return null;for(;Pe!==null;)r(Re,Pe),Pe=Pe.sibling;return null}function R(Re,Pe){for(Re=new Map;Pe!==null;)Pe.key!==null?Re.set(Pe.key,Pe):Re.set(Pe.index,Pe),Pe=Pe.sibling;return Re}function z(Re,Pe){return Re=Bn(Re,Pe),Re.index=0,Re.sibling=null,Re}function te(Re,Pe,Oe){return Re.index=Oe,e?(Oe=Re.alternate,Oe!==null?(Oe=Oe.index,Oe<Pe?(Re.flags=2,Pe):Oe):(Re.flags=2,Pe)):Pe}function ue(Re){return e&&Re.alternate===null&&(Re.flags=2),Re}function me(Re,Pe,Oe,Le){return Pe===null||Pe.tag!==6?(Pe=tr(Oe,Re.mode,Le),Pe.return=Re,Pe):(Pe=z(Pe,Oe),Pe.return=Re,Pe)}function Ee(Re,Pe,Oe,Le){return Pe!==null&&Pe.elementType===Oe.type?(Le=z(Pe,Oe.props),Le.ref=Vi(Re,Pe,Oe),Le.return=Re,Le):(Le=Hs(Oe.type,Oe.key,Oe.props,null,Re.mode,Le),Le.ref=Vi(Re,Pe,Oe),Le.return=Re,Le)}function Ie(Re,Pe,Oe,Le){return Pe===null||Pe.tag!==4||Pe.stateNode.containerInfo!==Oe.containerInfo||Pe.stateNode.implementation!==Oe.implementation?(Pe=Un(Oe,Re.mode,Le),Pe.return=Re,Pe):(Pe=z(Pe,Oe.children||[]),Pe.return=Re,Pe)}function Ve(Re,Pe,Oe,Le,Ne){return Pe===null||Pe.tag!==7?(Pe=vi(Oe,Re.mode,Le,Ne),Pe.return=Re,Pe):(Pe=z(Pe,Oe),Pe.return=Re,Pe)}function rt(Re,Pe,Oe){if(typeof Pe=="string"||typeof Pe=="number")return Pe=tr(""+Pe,Re.mode,Oe),Pe.return=Re,Pe;if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case K:return Oe=Hs(Pe.type,Pe.key,Pe.props,null,Re.mode,Oe),Oe.ref=Vi(Re,null,Pe),Oe.return=Re,Oe;case N:return Pe=Un(Pe,Re.mode,Oe),Pe.return=Re,Pe}if(zo(Pe)||_e(Pe))return Pe=vi(Pe,Re.mode,Oe,null),Pe.return=Re,Pe;Vo(Re,Pe)}return null}function Ue(Re,Pe,Oe,Le){var Ne=Pe!==null?Pe.key:null;if(typeof Oe=="string"||typeof Oe=="number")return Ne!==null?null:me(Re,Pe,""+Oe,Le);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case K:return Oe.key===Ne?Oe.type===V?Ve(Re,Pe,Oe.props.children,Le,Ne):Ee(Re,Pe,Oe,Le):null;case N:return Oe.key===Ne?Ie(Re,Pe,Oe,Le):null}if(zo(Oe)||_e(Oe))return Ne!==null?null:Ve(Re,Pe,Oe,Le,null);Vo(Re,Oe)}return null}function Qe(Re,Pe,Oe,Le,Ne){if(typeof Le=="string"||typeof Le=="number")return Re=Re.get(Oe)||null,me(Pe,Re,""+Le,Ne);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case K:return Re=Re.get(Le.key===null?Oe:Le.key)||null,Le.type===V?Ve(Pe,Re,Le.props.children,Ne,Le.key):Ee(Pe,Re,Le,Ne);case N:return Re=Re.get(Le.key===null?Oe:Le.key)||null,Ie(Pe,Re,Le,Ne)}if(zo(Le)||_e(Le))return Re=Re.get(Oe)||null,Ve(Pe,Re,Le,Ne,null);Vo(Pe,Le)}return null}function nt(Re,Pe,Oe,Le){for(var Ne=null,it=null,Ke=Pe,ot=Pe=0,ut=null;Ke!==null&&ot<Oe.length;ot++){Ke.index>ot?(ut=Ke,Ke=null):ut=Ke.sibling;var at=Ue(Re,Ke,Oe[ot],Le);if(at===null){Ke===null&&(Ke=ut);break}e&&Ke&&at.alternate===null&&r(Re,Ke),Pe=te(at,Pe,ot),it===null?Ne=at:it.sibling=at,it=at,Ke=ut}if(ot===Oe.length)return u(Re,Ke),Ne;if(Ke===null){for(;ot<Oe.length;ot++)Ke=rt(Re,Oe[ot],Le),Ke!==null&&(Pe=te(Ke,Pe,ot),it===null?Ne=Ke:it.sibling=Ke,it=Ke);return Ne}for(Ke=R(Re,Ke);ot<Oe.length;ot++)ut=Qe(Ke,Re,ot,Oe[ot],Le),ut!==null&&(e&&ut.alternate!==null&&Ke.delete(ut.key===null?ot:ut.key),Pe=te(ut,Pe,ot),it===null?Ne=ut:it.sibling=ut,it=ut);return e&&Ke.forEach(function(Zr){return r(Re,Zr)}),Ne}function qe(Re,Pe,Oe,Le){var Ne=_e(Oe);if(typeof Ne!="function")throw Error(x(150));if(Oe=Ne.call(Oe),Oe==null)throw Error(x(151));for(var it=Ne=null,Ke=Pe,ot=Pe=0,ut=null,at=Oe.next();Ke!==null&&!at.done;ot++,at=Oe.next()){Ke.index>ot?(ut=Ke,Ke=null):ut=Ke.sibling;var Zr=Ue(Re,Ke,at.value,Le);if(Zr===null){Ke===null&&(Ke=ut);break}e&&Ke&&Zr.alternate===null&&r(Re,Ke),Pe=te(Zr,Pe,ot),it===null?Ne=Zr:it.sibling=Zr,it=Zr,Ke=ut}if(at.done)return u(Re,Ke),Ne;if(Ke===null){for(;!at.done;ot++,at=Oe.next())at=rt(Re,at.value,Le),at!==null&&(Pe=te(at,Pe,ot),it===null?Ne=at:it.sibling=at,it=at);return Ne}for(Ke=R(Re,Ke);!at.done;ot++,at=Oe.next())at=Qe(Ke,Re,ot,at.value,Le),at!==null&&(e&&at.alternate!==null&&Ke.delete(at.key===null?ot:at.key),Pe=te(at,Pe,ot),it===null?Ne=at:it.sibling=at,it=at);return e&&Ke.forEach(function(ic){return r(Re,ic)}),Ne}return function(Re,Pe,Oe,Le){var Ne=typeof Oe=="object"&&Oe!==null&&Oe.type===V&&Oe.key===null;Ne&&(Oe=Oe.props.children);var it=typeof Oe=="object"&&Oe!==null;if(it)switch(Oe.$$typeof){case K:e:{for(it=Oe.key,Ne=Pe;Ne!==null;){if(Ne.key===it){switch(Ne.tag){case 7:if(Oe.type===V){u(Re,Ne.sibling),Pe=z(Ne,Oe.props.children),Pe.return=Re,Re=Pe;break e}break;default:if(Ne.elementType===Oe.type){u(Re,Ne.sibling),Pe=z(Ne,Oe.props),Pe.ref=Vi(Re,Ne,Oe),Pe.return=Re,Re=Pe;break e}}u(Re,Ne);break}else r(Re,Ne);Ne=Ne.sibling}Oe.type===V?(Pe=vi(Oe.props.children,Re.mode,Le,Oe.key),Pe.return=Re,Re=Pe):(Le=Hs(Oe.type,Oe.key,Oe.props,null,Re.mode,Le),Le.ref=Vi(Re,Pe,Oe),Le.return=Re,Re=Le)}return ue(Re);case N:e:{for(Ne=Oe.key;Pe!==null;){if(Pe.key===Ne)if(Pe.tag===4&&Pe.stateNode.containerInfo===Oe.containerInfo&&Pe.stateNode.implementation===Oe.implementation){u(Re,Pe.sibling),Pe=z(Pe,Oe.children||[]),Pe.return=Re,Re=Pe;break e}else{u(Re,Pe);break}else r(Re,Pe);Pe=Pe.sibling}Pe=Un(Oe,Re.mode,Le),Pe.return=Re,Re=Pe}return ue(Re)}if(typeof Oe=="string"||typeof Oe=="number")return Oe=""+Oe,Pe!==null&&Pe.tag===6?(u(Re,Pe.sibling),Pe=z(Pe,Oe),Pe.return=Re,Re=Pe):(u(Re,Pe),Pe=tr(Oe,Re.mode,Le),Pe.return=Re,Re=Pe),ue(Re);if(zo(Oe))return nt(Re,Pe,Oe,Le);if(_e(Oe))return qe(Re,Pe,Oe,Le);if(it&&Vo(Re,Oe),typeof Oe=="undefined"&&!Ne)switch(Re.tag){case 1:case 22:case 0:case 11:case 15:throw Error(x(152,ze(Re.type)||"Component"))}return u(Re,Pe)}}var Yo=ul(!0),Gr=ul(!1),Yi={},mr=on(Yi),ji=on(Yi),Ki=on(Yi);function An(e){if(e===Yi)throw Error(x(174));return e}function Dt(e,r){switch(Et(Ki,r),Et(ji,e),Et(mr,Yi),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:_a(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=_a(r,e)}_t(mr),Et(mr,r)}function ii(){_t(mr),_t(ji),_t(Ki)}function ll(e){An(Ki.current);var r=An(mr.current),u=_a(r,e.type);r!==u&&(Et(ji,e),Et(mr,u))}function ms(e){ji.current===e&&(_t(mr),_t(ji))}var dt=on(0);function jo(e){for(var r=e;r!==null;){if(r.tag===13){var u=r.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&64)!=0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Wr=null,hn=null,br=!1;function Or(e,r){var u=Ht(5,null,null,0);u.elementType="DELETED",u.type="DELETED",u.stateNode=r,u.return=e,u.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=u,e.lastEffect=u):e.firstEffect=e.lastEffect=u}function Ko(e,r){switch(e.tag){case 5:var u=e.type;return r=r.nodeType!==1||u.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,!0):!1;case 13:return!1;default:return!1}}function gr(e){if(br){var r=hn;if(r){var u=r;if(!Ko(e,r)){if(r=ti(u.nextSibling),!r||!Ko(e,r)){e.flags=e.flags&-1025|2,br=!1,Wr=e;return}Or(Wr,u)}Wr=e,hn=ti(r.firstChild)}else e.flags=e.flags&-1025|2,br=!1,Wr=e}}function fl(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wr=e}function dn(e){if(e!==Wr)return!1;if(!br)return fl(e),br=!0,!1;var r=e.type;if(e.tag!==5||r!=="head"&&r!=="body"&&!es(r,e.memoizedProps))for(r=hn;r;)Or(e,r),r=ti(r.nextSibling);if(fl(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(x(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var u=e.data;if(u==="/$"){if(r===0){hn=ti(e.nextSibling);break e}r--}else u!=="$"&&u!=="$!"&&u!=="$?"||r++}e=e.nextSibling}hn=null}}else hn=Wr?ti(e.stateNode.nextSibling):null;return!0}function yr(){hn=Wr=null,br=!1}var Xr=[];function gs(){for(var e=0;e<Xr.length;e++)Xr[e]._workInProgressVersionPrimary=null;Xr.length=0}var $i=B.ReactCurrentDispatcher,ur=B.ReactCurrentBatchConfig,Qi=0,Pt=null,Gt=null,St=null,Zi=!1,Ji=!1;function Zt(){throw Error(x(321))}function ys(e,r){if(r===null)return!1;for(var u=0;u<r.length&&u<e.length;u++)if(!ar(e[u],r[u]))return!1;return!0}function _s(e,r,u,R,z,te){if(Qi=te,Pt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$i.current=e===null||e.memoizedState===null?Uf:Gf,e=u(R,z),Ji){te=0;do{if(Ji=!1,!(25>te))throw Error(x(301));te+=1,St=Gt=null,r.updateQueue=null,$i.current=Wf,e=u(R,z)}while(Ji)}if($i.current=Qo,r=Gt!==null&&Gt.next!==null,Qi=0,St=Gt=Pt=null,Zi=!1,r)throw Error(x(300));return e}function In(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Pt.memoizedState=St=e:St=St.next=e,St}function Dn(){if(Gt===null){var e=Pt.alternate;e=e!==null?e.memoizedState:null}else e=Gt.next;var r=St===null?Pt.memoizedState:St.next;if(r!==null)St=r,Gt=e;else{if(e===null)throw Error(x(310));Gt=e,e={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},St===null?Pt.memoizedState=St=e:St=St.next=e}return St}function Rr(e,r){return typeof r=="function"?r(e):r}function qi(e){var r=Dn(),u=r.queue;if(u===null)throw Error(x(311));u.lastRenderedReducer=e;var R=Gt,z=R.baseQueue,te=u.pending;if(te!==null){if(z!==null){var ue=z.next;z.next=te.next,te.next=ue}R.baseQueue=z=te,u.pending=null}if(z!==null){z=z.next,R=R.baseState;var me=ue=te=null,Ee=z;do{var Ie=Ee.lane;if((Qi&Ie)===Ie)me!==null&&(me=me.next={lane:0,action:Ee.action,eagerReducer:Ee.eagerReducer,eagerState:Ee.eagerState,next:null}),R=Ee.eagerReducer===e?Ee.eagerState:e(R,Ee.action);else{var Ve={lane:Ie,action:Ee.action,eagerReducer:Ee.eagerReducer,eagerState:Ee.eagerState,next:null};me===null?(ue=me=Ve,te=R):me=me.next=Ve,Pt.lanes|=Ie,Nn|=Ie}Ee=Ee.next}while(Ee!==null&&Ee!==z);me===null?te=R:me.next=ue,ar(R,r.memoizedState)||(_r=!0),r.memoizedState=R,r.baseState=te,r.baseQueue=me,u.lastRenderedState=R}return[r.memoizedState,u.dispatch]}function eo(e){var r=Dn(),u=r.queue;if(u===null)throw Error(x(311));u.lastRenderedReducer=e;var R=u.dispatch,z=u.pending,te=r.memoizedState;if(z!==null){u.pending=null;var ue=z=z.next;do te=e(te,ue.action),ue=ue.next;while(ue!==z);ar(te,r.memoizedState)||(_r=!0),r.memoizedState=te,r.baseQueue===null&&(r.baseState=te),u.lastRenderedState=te}return[te,R]}function Hr(e,r,u){var R=r._getVersion;R=R(r._source);var z=r._workInProgressVersionPrimary;if(z!==null?e=z===R:(e=e.mutableReadLanes,(e=(Qi&e)===e)&&(r._workInProgressVersionPrimary=R,Xr.push(r))),e)return u(r._source);throw Xr.push(r),Error(x(350))}function Jt(e,r,u,R){var z=Vt;if(z===null)throw Error(x(349));var te=r._getVersion,ue=te(r._source),me=$i.current,Ee=me.useState(function(){return Hr(z,r,u)}),Ie=Ee[1],Ve=Ee[0];Ee=St;var rt=e.memoizedState,Ue=rt.refs,Qe=Ue.getSnapshot,nt=rt.source;rt=rt.subscribe;var qe=Pt;return e.memoizedState={refs:Ue,source:r,subscribe:R},me.useEffect(function(){Ue.getSnapshot=u,Ue.setSnapshot=Ie;var Re=te(r._source);if(!ar(ue,Re)){Re=u(r._source),ar(Ve,Re)||(Ie(Re),Re=Ar(qe),z.mutableReadLanes|=Re&z.pendingLanes),Re=z.mutableReadLanes,z.entangledLanes|=Re;for(var Pe=z.entanglements,Oe=Re;0<Oe;){var Le=31-rn(Oe),Ne=1<<Le;Pe[Le]|=Re,Oe&=~Ne}}},[u,r,R]),me.useEffect(function(){return R(r._source,function(){var Re=Ue.getSnapshot,Pe=Ue.setSnapshot;try{Pe(Re(r._source));var Oe=Ar(qe);z.mutableReadLanes|=Oe&z.pendingLanes}catch(Le){Pe(function(){throw Le})}})},[r,R]),ar(Qe,u)&&ar(nt,r)&&ar(rt,R)||(e={pending:null,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:Ve},e.dispatch=Ie=xs.bind(null,Pt,e),Ee.queue=e,Ee.baseQueue=null,Ve=Hr(z,r,u),Ee.memoizedState=Ee.baseState=Ve),Ve}function cl(e,r,u){var R=Dn();return Jt(R,e,r,u)}function to(e){var r=In();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:e},e=e.dispatch=xs.bind(null,Pt,e),[r.memoizedState,e]}function Nt(e,r,u,R){return e={tag:e,create:r,destroy:u,deps:R,next:null},r=Pt.updateQueue,r===null?(r={lastEffect:null},Pt.updateQueue=r,r.lastEffect=e.next=e):(u=r.lastEffect,u===null?r.lastEffect=e.next=e:(R=u.next,u.next=e,e.next=R,r.lastEffect=e)),e}function wt(e){var r=In();return e={current:e},r.memoizedState=e}function lt(){return Dn().memoizedState}function ro(e,r,u,R){var z=In();Pt.flags|=e,z.memoizedState=Nt(1|r,u,void 0,R===void 0?null:R)}function Ln(e,r,u,R){var z=Dn();R=R===void 0?null:R;var te=void 0;if(Gt!==null){var ue=Gt.memoizedState;if(te=ue.destroy,R!==null&&ys(R,ue.deps)){Nt(r,u,te,R);return}}Pt.flags|=e,z.memoizedState=Nt(1|r,u,te,R)}function hl(e,r){return ro(516,4,e,r)}function $o(e,r){return Ln(516,4,e,r)}function dl(e,r){return Ln(4,2,e,r)}function pl(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Ff(e,r,u){return u=u!=null?u.concat([e]):null,Ln(4,2,pl.bind(null,r,e),u)}function vl(){}function kf(e,r){var u=Dn();r=r===void 0?null:r;var R=u.memoizedState;return R!==null&&r!==null&&ys(r,R[1])?R[0]:(u.memoizedState=[e,r],e)}function Nf(e,r){var u=Dn();r=r===void 0?null:r;var R=u.memoizedState;return R!==null&&r!==null&&ys(r,R[1])?R[0]:(e=e(),u.memoizedState=[e,r],e)}function Bf(e,r){var u=Je();It(98>u?98:u,function(){e(!0)}),It(97<u?97:u,function(){var R=ur.transition;ur.transition=1;try{e(!1),r()}finally{ur.transition=R}})}function xs(e,r,u){var R=er(),z=Ar(e),te={lane:z,action:u,eagerReducer:null,eagerState:null,next:null},ue=r.pending;if(ue===null?te.next=te:(te.next=ue.next,ue.next=te),r.pending=te,ue=e.alternate,e===Pt||ue!==null&&ue===Pt)Ji=Zi=!0;else{if(e.lanes===0&&(ue===null||ue.lanes===0)&&(ue=r.lastRenderedReducer,ue!==null))try{var me=r.lastRenderedState,Ee=ue(me,u);if(te.eagerReducer=ue,te.eagerState=Ee,ar(Ee,me))return}catch(Ie){}finally{}jr(e,z,R)}}var Qo={readContext:sr,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useOpaqueIdentifier:Zt,unstable_isNewReconciler:!1},Uf={readContext:sr,useCallback:function(e,r){return In().memoizedState=[e,r===void 0?null:r],e},useContext:sr,useEffect:hl,useImperativeHandle:function(e,r,u){return u=u!=null?u.concat([e]):null,ro(4,2,pl.bind(null,r,e),u)},useLayoutEffect:function(e,r){return ro(4,2,e,r)},useMemo:function(e,r){var u=In();return r=r===void 0?null:r,e=e(),u.memoizedState=[e,r],e},useReducer:function(e,r,u){var R=In();return r=u!==void 0?u(r):r,R.memoizedState=R.baseState=r,e=R.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},e=e.dispatch=xs.bind(null,Pt,e),[R.memoizedState,e]},useRef:wt,useState:to,useDebugValue:vl,useDeferredValue:function(e){var r=to(e),u=r[0],R=r[1];return hl(function(){var z=ur.transition;ur.transition=1;try{R(e)}finally{ur.transition=z}},[e]),u},useTransition:function(){var e=to(!1),r=e[0];return e=Bf.bind(null,e[1]),wt(e),[e,r]},useMutableSource:function(e,r,u){var R=In();return R.memoizedState={refs:{getSnapshot:r,setSnapshot:null},source:e,subscribe:u},Jt(R,e,r,u)},useOpaqueIdentifier:function(){if(br){var e=!1,r=ns(function(){throw e||(e=!0,u("r:"+(rs++).toString(36))),Error(x(355))}),u=to(r)[1];return(Pt.mode&2)==0&&(Pt.flags|=516,Nt(5,function(){u("r:"+(rs++).toString(36))},void 0,null)),r}return r="r:"+(rs++).toString(36),to(r),r},unstable_isNewReconciler:!1},Gf={readContext:sr,useCallback:kf,useContext:sr,useEffect:$o,useImperativeHandle:Ff,useLayoutEffect:dl,useMemo:Nf,useReducer:qi,useRef:lt,useState:function(){return qi(Rr)},useDebugValue:vl,useDeferredValue:function(e){var r=qi(Rr),u=r[0],R=r[1];return $o(function(){var z=ur.transition;ur.transition=1;try{R(e)}finally{ur.transition=z}},[e]),u},useTransition:function(){var e=qi(Rr)[0];return[lt().current,e]},useMutableSource:cl,useOpaqueIdentifier:function(){return qi(Rr)[0]},unstable_isNewReconciler:!1},Wf={readContext:sr,useCallback:kf,useContext:sr,useEffect:$o,useImperativeHandle:Ff,useLayoutEffect:dl,useMemo:Nf,useReducer:eo,useRef:lt,useState:function(){return eo(Rr)},useDebugValue:vl,useDeferredValue:function(e){var r=eo(Rr),u=r[0],R=r[1];return $o(function(){var z=ur.transition;ur.transition=1;try{R(e)}finally{ur.transition=z}},[e]),u},useTransition:function(){var e=eo(Rr)[0];return[lt().current,e]},useMutableSource:cl,useOpaqueIdentifier:function(){return eo(Rr)[0]},unstable_isNewReconciler:!1},ws=B.ReactCurrentOwner,_r=!1;function qt(e,r,u,R){r.child=e===null?Gr(r,null,u,R):Yo(r,e.child,u,R)}function Zo(e,r,u,R,z){u=u.render;var te=r.ref;return ct(r,z),R=_s(e,r,u,R,te,z),e!==null&&!_r?(r.updateQueue=e.updateQueue,r.flags&=-517,e.lanes&=~z,Wt(e,r,z)):(r.flags|=1,qt(e,r,R,z),r.child)}function Jo(e,r,u,R,z,te){if(e===null){var ue=u.type;return typeof ue=="function"&&!Xs(ue)&&ue.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(r.tag=15,r.type=ue,qo(e,r,ue,R,z,te)):(e=Hs(u.type,null,R,r,r.mode,te),e.ref=r.ref,e.return=r,r.child=e)}return ue=e.child,(z&te)==0&&(z=ue.memoizedProps,u=u.compare,u=u!==null?u:Ni,u(z,R)&&e.ref===r.ref)?Wt(e,r,te):(r.flags|=1,e=Bn(ue,R),e.ref=r.ref,e.return=r,r.child=e)}function qo(e,r,u,R,z,te){if(e!==null&&Ni(e.memoizedProps,R)&&e.ref===r.ref)if(_r=!1,(te&z)!=0)(e.flags&16384)!=0&&(_r=!0);else return r.lanes=e.lanes,Wt(e,r,te);return Ts(e,r,u,R,te)}function ea(e,r,u){var R=r.pendingProps,z=R.children,te=e!==null?e.memoizedState:null;if(R.mode==="hidden"||R.mode==="unstable-defer-without-hiding")if((r.mode&4)==0)r.memoizedState={baseLanes:0},pi(r,u);else if((u&1073741824)!=0)r.memoizedState={baseLanes:0},pi(r,te!==null?te.baseLanes:u);else return e=te!==null?te.baseLanes|u:u,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e},pi(r,e),null;else te!==null?(R=te.baseLanes|u,r.memoizedState=null):R=u,pi(r,R);return qt(e,r,z,u),r.child}function lr(e,r){var u=r.ref;(e===null&&u!==null||e!==null&&e.ref!==u)&&(r.flags|=128)}function Ts(e,r,u,R,z){var te=Ft(u)?an:Lt.current;return te=On(r,te),ct(r,z),u=_s(e,r,u,R,te,z),e!==null&&!_r?(r.updateQueue=e.updateQueue,r.flags&=-517,e.lanes&=~z,Wt(e,r,z)):(r.flags|=1,qt(e,r,u,z),r.child)}function ml(e,r,u,R,z){if(Ft(u)){var te=!0;Do(r)}else te=!1;if(ct(r,z),r.stateNode===null)e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2),sl(r,u,R),vs(r,u,R,z),R=!0;else if(e===null){var ue=r.stateNode,me=r.memoizedProps;ue.props=me;var Ee=ue.context,Ie=u.contextType;typeof Ie=="object"&&Ie!==null?Ie=sr(Ie):(Ie=Ft(u)?an:Lt.current,Ie=On(r,Ie));var Ve=u.getDerivedStateFromProps,rt=typeof Ve=="function"||typeof ue.getSnapshotBeforeUpdate=="function";rt||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(me!==R||Ee!==Ie)&&ps(r,ue,R,Ie),vr=!1;var Ue=r.memoizedState;ue.state=Ue,fn(r,R,ue,z),Ee=r.memoizedState,me!==R||Ue!==Ee||$t.current||vr?(typeof Ve=="function"&&(Xo(r,u,Ve,R),Ee=r.memoizedState),(me=vr||al(r,u,me,R,Ue,Ee,Ie))?(rt||typeof ue.UNSAFE_componentWillMount!="function"&&typeof ue.componentWillMount!="function"||(typeof ue.componentWillMount=="function"&&ue.componentWillMount(),typeof ue.UNSAFE_componentWillMount=="function"&&ue.UNSAFE_componentWillMount()),typeof ue.componentDidMount=="function"&&(r.flags|=4)):(typeof ue.componentDidMount=="function"&&(r.flags|=4),r.memoizedProps=R,r.memoizedState=Ee),ue.props=R,ue.state=Ee,ue.context=Ie,R=me):(typeof ue.componentDidMount=="function"&&(r.flags|=4),R=!1)}else{ue=r.stateNode,ds(e,r),me=r.memoizedProps,Ie=r.type===r.elementType?me:nr(r.type,me),ue.props=Ie,rt=r.pendingProps,Ue=ue.context,Ee=u.contextType,typeof Ee=="object"&&Ee!==null?Ee=sr(Ee):(Ee=Ft(u)?an:Lt.current,Ee=On(r,Ee));var Qe=u.getDerivedStateFromProps;(Ve=typeof Qe=="function"||typeof ue.getSnapshotBeforeUpdate=="function")||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(me!==rt||Ue!==Ee)&&ps(r,ue,R,Ee),vr=!1,Ue=r.memoizedState,ue.state=Ue,fn(r,R,ue,z);var nt=r.memoizedState;me!==rt||Ue!==nt||$t.current||vr?(typeof Qe=="function"&&(Xo(r,u,Qe,R),nt=r.memoizedState),(Ie=vr||al(r,u,Ie,R,Ue,nt,Ee))?(Ve||typeof ue.UNSAFE_componentWillUpdate!="function"&&typeof ue.componentWillUpdate!="function"||(typeof ue.componentWillUpdate=="function"&&ue.componentWillUpdate(R,nt,Ee),typeof ue.UNSAFE_componentWillUpdate=="function"&&ue.UNSAFE_componentWillUpdate(R,nt,Ee)),typeof ue.componentDidUpdate=="function"&&(r.flags|=4),typeof ue.getSnapshotBeforeUpdate=="function"&&(r.flags|=256)):(typeof ue.componentDidUpdate!="function"||me===e.memoizedProps&&Ue===e.memoizedState||(r.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||me===e.memoizedProps&&Ue===e.memoizedState||(r.flags|=256),r.memoizedProps=R,r.memoizedState=nt),ue.props=R,ue.state=nt,ue.context=Ee,R=Ie):(typeof ue.componentDidUpdate!="function"||me===e.memoizedProps&&Ue===e.memoizedState||(r.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||me===e.memoizedProps&&Ue===e.memoizedState||(r.flags|=256),R=!1)}return Ss(e,r,u,R,te,z)}function Ss(e,r,u,R,z,te){lr(e,r);var ue=(r.flags&64)!=0;if(!R&&!ue)return z&&us(r,u,!1),Wt(e,r,te);R=r.stateNode,ws.current=r;var me=ue&&typeof u.getDerivedStateFromError!="function"?null:R.render();return r.flags|=1,e!==null&&ue?(r.child=Yo(r,e.child,null,te),r.child=Yo(r,null,me,te)):qt(e,r,me,te),r.memoizedState=R.state,z&&us(r,u,!0),r.child}function yl(e){var r=e.stateNode;r.pendingContext?ss(e,r.pendingContext,r.pendingContext!==r.context):r.context&&ss(e,r.context,!1),Dt(e,r.containerInfo)}var ta={dehydrated:null,retryLane:0};function _l(e,r,u){var R=r.pendingProps,z=dt.current,te=!1,ue;return(ue=(r.flags&64)!=0)||(ue=e!==null&&e.memoizedState===null?!1:(z&2)!=0),ue?(te=!0,r.flags&=-65):e!==null&&e.memoizedState===null||R.fallback===void 0||R.unstable_avoidThisFallback===!0||(z|=1),Et(dt,z&1),e===null?(R.fallback!==void 0&&gr(r),e=R.children,z=R.fallback,te?(e=xl(r,e,z,u),r.child.memoizedState={baseLanes:u},r.memoizedState=ta,e):typeof R.unstable_expectedLoadTime=="number"?(e=xl(r,e,z,u),r.child.memoizedState={baseLanes:u},r.memoizedState=ta,r.lanes=33554432,e):(u=zs({mode:"visible",children:e},r.mode,u,null),u.return=r,r.child=u)):e.memoizedState!==null?te?(R=ra(e,r,R.children,R.fallback,u),te=r.child,z=e.child.memoizedState,te.memoizedState=z===null?{baseLanes:u}:{baseLanes:z.baseLanes|u},te.childLanes=e.childLanes&~u,r.memoizedState=ta,R):(u=wl(e,r,R.children,u),r.memoizedState=null,u):te?(R=ra(e,r,R.children,R.fallback,u),te=r.child,z=e.child.memoizedState,te.memoizedState=z===null?{baseLanes:u}:{baseLanes:z.baseLanes|u},te.childLanes=e.childLanes&~u,r.memoizedState=ta,R):(u=wl(e,r,R.children,u),r.memoizedState=null,u)}function xl(e,r,u,R){var z=e.mode,te=e.child;return r={mode:"hidden",children:r},(z&2)==0&&te!==null?(te.childLanes=0,te.pendingProps=r):te=zs(r,z,0,null),u=vi(u,z,R,null),te.return=e,u.return=e,te.sibling=u,e.child=te,u}function wl(e,r,u,R){var z=e.child;return e=z.sibling,u=Bn(z,{mode:"visible",children:u}),(r.mode&2)==0&&(u.lanes=R),u.return=r,u.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,r.firstEffect=r.lastEffect=e),r.child=u}function ra(e,r,u,R,z){var te=r.mode,ue=e.child;e=ue.sibling;var me={mode:"hidden",children:u};return(te&2)==0&&r.child!==ue?(u=r.child,u.childLanes=0,u.pendingProps=me,ue=u.lastEffect,ue!==null?(r.firstEffect=u.firstEffect,r.lastEffect=ue,ue.nextEffect=null):r.firstEffect=r.lastEffect=null):u=Bn(ue,me),e!==null?R=Bn(e,R):(R=vi(R,te,z,null),R.flags|=2),R.return=r,u.return=r,u.sibling=R,r.child=u,R}function Es(e,r){e.lanes|=r;var u=e.alternate;u!==null&&(u.lanes|=r),ln(e.return,r)}function no(e,r,u,R,z,te){var ue=e.memoizedState;ue===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:R,tail:u,tailMode:z,lastEffect:te}:(ue.isBackwards=r,ue.rendering=null,ue.renderingStartTime=0,ue.last=R,ue.tail=u,ue.tailMode=z,ue.lastEffect=te)}function Tl(e,r,u){var R=r.pendingProps,z=R.revealOrder,te=R.tail;if(qt(e,r,R.children,u),R=dt.current,(R&2)!=0)R=R&1|2,r.flags|=64;else{if(e!==null&&(e.flags&64)!=0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Es(e,u);else if(e.tag===19)Es(e,u);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}R&=1}if(Et(dt,R),(r.mode&2)==0)r.memoizedState=null;else switch(z){case"forwards":for(u=r.child,z=null;u!==null;)e=u.alternate,e!==null&&jo(e)===null&&(z=u),u=u.sibling;u=z,u===null?(z=r.child,r.child=null):(z=u.sibling,u.sibling=null),no(r,!1,z,u,te,r.lastEffect);break;case"backwards":for(u=null,z=r.child,r.child=null;z!==null;){if(e=z.alternate,e!==null&&jo(e)===null){r.child=z;break}e=z.sibling,z.sibling=u,u=z,z=e}no(r,!0,u,null,te,r.lastEffect);break;case"together":no(r,!1,null,null,void 0,r.lastEffect);break;default:r.memoizedState=null}return r.child}function Wt(e,r,u){if(e!==null&&(r.dependencies=e.dependencies),Nn|=r.lanes,(u&r.childLanes)!=0){if(e!==null&&r.child!==e.child)throw Error(x(153));if(r.child!==null){for(e=r.child,u=Bn(e,e.pendingProps),r.child=u,u.return=r;e.sibling!==null;)e=e.sibling,u=u.sibling=Bn(e,e.pendingProps),u.return=r;u.sibling=null}return r.child}return null}var Sl,zr,na,Ps;Sl=function(e,r){for(var u=r.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===r)break;for(;u.sibling===null;){if(u.return===null||u.return===r)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},zr=function(){},na=function(e,r,u,R){var z=e.memoizedProps;if(z!==R){e=r.stateNode,An(mr.current);var te=null;switch(u){case"input":z=Mt(e,z),R=Mt(e,R),te=[];break;case"option":z=Xn(e,z),R=Xn(e,R),te=[];break;case"select":z=g({},z,{value:void 0}),R=g({},R,{value:void 0}),te=[];break;case"textarea":z=mi(e,z),R=mi(e,R),te=[];break;default:typeof z.onClick!="function"&&typeof R.onClick=="function"&&(e.onclick=bo)}xa(u,R);var ue;u=null;for(Ie in z)if(!R.hasOwnProperty(Ie)&&z.hasOwnProperty(Ie)&&z[Ie]!=null)if(Ie==="style"){var me=z[Ie];for(ue in me)me.hasOwnProperty(ue)&&(u||(u={}),u[ue]="")}else Ie!=="dangerouslySetInnerHTML"&&Ie!=="children"&&Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&Ie!=="autoFocus"&&(v.hasOwnProperty(Ie)?te||(te=[]):(te=te||[]).push(Ie,null));for(Ie in R){var Ee=R[Ie];if(me=z!=null?z[Ie]:void 0,R.hasOwnProperty(Ie)&&Ee!==me&&(Ee!=null||me!=null))if(Ie==="style")if(me){for(ue in me)!me.hasOwnProperty(ue)||Ee&&Ee.hasOwnProperty(ue)||(u||(u={}),u[ue]="");for(ue in Ee)Ee.hasOwnProperty(ue)&&me[ue]!==Ee[ue]&&(u||(u={}),u[ue]=Ee[ue])}else u||(te||(te=[]),te.push(Ie,u)),u=Ee;else Ie==="dangerouslySetInnerHTML"?(Ee=Ee?Ee.__html:void 0,me=me?me.__html:void 0,Ee!=null&&me!==Ee&&(te=te||[]).push(Ie,Ee)):Ie==="children"?typeof Ee!="string"&&typeof Ee!="number"||(te=te||[]).push(Ie,""+Ee):Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&(v.hasOwnProperty(Ie)?(Ee!=null&&Ie==="onScroll"&&xt("scroll",e),te||me===Ee||(te=[])):typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ee?Ee.toString():(te=te||[]).push(Ie,Ee))}u&&(te=te||[]).push("style",u);var Ie=te;(r.updateQueue=Ie)&&(r.flags|=4)}},Ps=function(e,r,u,R){u!==R&&(r.flags|=4)};function oi(e,r){if(!br)switch(e.tailMode){case"hidden":r=e.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?e.tail=null:u.sibling=null;break;case"collapsed":u=e.tail;for(var R=null;u!==null;)u.alternate!==null&&(R=u),u=u.sibling;R===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:R.sibling=null}}function Xf(e,r,u){var R=r.pendingProps;switch(r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ft(r.type)&&Io(),null;case 3:return ii(),_t($t),_t(Lt),gs(),R=r.stateNode,R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(e===null||e.child===null)&&(dn(r)?r.flags|=4:R.hydrate||(r.flags|=256)),zr(r),null;case 5:ms(r);var z=An(Ki.current);if(u=r.type,e!==null&&r.stateNode!=null)na(e,r,u,R,z),e.ref!==r.ref&&(r.flags|=128);else{if(!R){if(r.stateNode===null)throw Error(x(166));return null}if(e=An(mr.current),dn(r)){R=r.stateNode,u=r.type;var te=r.memoizedProps;switch(R[Er]=r,R[Ao]=te,u){case"dialog":xt("cancel",R),xt("close",R);break;case"iframe":case"object":case"embed":xt("load",R);break;case"video":case"audio":for(e=0;e<Bi.length;e++)xt(Bi[e],R);break;case"source":xt("error",R);break;case"img":case"image":case"link":xt("error",R),xt("load",R);break;case"details":xt("toggle",R);break;case"input":jt(R,te),xt("invalid",R);break;case"select":R._wrapperState={wasMultiple:!!te.multiple},xt("invalid",R);break;case"textarea":Tr(R,te),xt("invalid",R)}xa(u,te),e=null;for(var ue in te)te.hasOwnProperty(ue)&&(z=te[ue],ue==="children"?typeof z=="string"?R.textContent!==z&&(e=["children",z]):typeof z=="number"&&R.textContent!==""+z&&(e=["children",""+z]):v.hasOwnProperty(ue)&&z!=null&&ue==="onScroll"&&xt("scroll",R));switch(u){case"input":$e(R),Wn(R,te,!0);break;case"textarea":$e(R),Js(R);break;case"select":case"option":break;default:typeof te.onClick=="function"&&(R.onclick=bo)}R=e,r.updateQueue=R,R!==null&&(r.flags|=4)}else{switch(ue=z.nodeType===9?z:z.ownerDocument,e===ya.html&&(e=qs(u)),e===ya.html?u==="script"?(e=ue.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof R.is=="string"?e=ue.createElement(u,{is:R.is}):(e=ue.createElement(u),u==="select"&&(ue=e,R.multiple?ue.multiple=!0:R.size&&(ue.size=R.size))):e=ue.createElementNS(e,u),e[Er]=r,e[Ao]=R,Sl(e,r,!1,!1),r.stateNode=e,ue=Fr(u,R),u){case"dialog":xt("cancel",e),xt("close",e),z=R;break;case"iframe":case"object":case"embed":xt("load",e),z=R;break;case"video":case"audio":for(z=0;z<Bi.length;z++)xt(Bi[z],e);z=R;break;case"source":xt("error",e),z=R;break;case"img":case"image":case"link":xt("error",e),xt("load",e),z=R;break;case"details":xt("toggle",e),z=R;break;case"input":jt(e,R),z=Mt(e,R),xt("invalid",e);break;case"option":z=Xn(e,R);break;case"select":e._wrapperState={wasMultiple:!!R.multiple},z=g({},R,{value:void 0}),xt("invalid",e);break;case"textarea":Tr(e,R),z=mi(e,R),xt("invalid",e);break;default:z=R}xa(u,z);var me=z;for(te in me)if(me.hasOwnProperty(te)){var Ee=me[te];te==="style"?ru(e,Ee):te==="dangerouslySetInnerHTML"?(Ee=Ee?Ee.__html:void 0,Ee!=null&&eu(e,Ee)):te==="children"?typeof Ee=="string"?(u!=="textarea"||Ee!=="")&&_n(e,Ee):typeof Ee=="number"&&_n(e,""+Ee):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(v.hasOwnProperty(te)?Ee!=null&&te==="onScroll"&&xt("scroll",e):Ee!=null&&D(e,te,Ee,ue))}switch(u){case"input":$e(e),Wn(e,R,!1);break;case"textarea":$e(e),Js(e);break;case"option":R.value!=null&&e.setAttribute("value",""+Ae(R.value));break;case"select":e.multiple=!!R.multiple,te=R.value,te!=null?At(e,!!R.multiple,te,!1):R.defaultValue!=null&&At(e,!!R.multiple,R.defaultValue,!0);break;default:typeof z.onClick=="function"&&(e.onclick=bo)}el(u,R)&&(r.flags|=4)}r.ref!==null&&(r.flags|=128)}return null;case 6:if(e&&r.stateNode!=null)Ps(e,r,e.memoizedProps,R);else{if(typeof R!="string"&&r.stateNode===null)throw Error(x(166));u=An(Ki.current),An(mr.current),dn(r)?(R=r.stateNode,u=r.memoizedProps,R[Er]=r,R.nodeValue!==u&&(r.flags|=4)):(R=(u.nodeType===9?u:u.ownerDocument).createTextNode(R),R[Er]=r,r.stateNode=R)}return null;case 13:return _t(dt),R=r.memoizedState,(r.flags&64)!=0?(r.lanes=u,r):(R=R!==null,u=!1,e===null?r.memoizedProps.fallback!==void 0&&dn(r):u=e.memoizedState!==null,R&&!u&&(r.mode&2)!=0&&(e===null&&r.memoizedProps.unstable_avoidThisFallback!==!0||(dt.current&1)!=0?Bt===0&&(Bt=3):((Bt===0||Bt===3)&&(Bt=4),Vt===null||(Nn&134217727)==0&&(li&134217727)==0||di(Vt,Xt))),(R||u)&&(r.flags|=4),null);case 4:return ii(),zr(r),e===null&&$u(r.stateNode.containerInfo),null;case 10:return Ur(r),null;case 17:return Ft(r.type)&&Io(),null;case 19:if(_t(dt),R=r.memoizedState,R===null)return null;if(te=(r.flags&64)!=0,ue=R.rendering,ue===null)if(te)oi(R,!1);else{if(Bt!==0||e!==null&&(e.flags&64)!=0)for(e=r.child;e!==null;){if(ue=jo(e),ue!==null){for(r.flags|=64,oi(R,!1),te=ue.updateQueue,te!==null&&(r.updateQueue=te,r.flags|=4),R.lastEffect===null&&(r.firstEffect=null),r.lastEffect=R.lastEffect,R=u,u=r.child;u!==null;)te=u,e=R,te.flags&=2,te.nextEffect=null,te.firstEffect=null,te.lastEffect=null,ue=te.alternate,ue===null?(te.childLanes=0,te.lanes=e,te.child=null,te.memoizedProps=null,te.memoizedState=null,te.updateQueue=null,te.dependencies=null,te.stateNode=null):(te.childLanes=ue.childLanes,te.lanes=ue.lanes,te.child=ue.child,te.memoizedProps=ue.memoizedProps,te.memoizedState=ue.memoizedState,te.updateQueue=ue.updateQueue,te.type=ue.type,e=ue.dependencies,te.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),u=u.sibling;return Et(dt,dt.current&1|2),r.child}e=e.sibling}R.tail!==null&&Rt()>so&&(r.flags|=64,te=!0,oi(R,!1),r.lanes=33554432)}else{if(!te)if(e=jo(ue),e!==null){if(r.flags|=64,te=!0,u=e.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),oi(R,!0),R.tail===null&&R.tailMode==="hidden"&&!ue.alternate&&!br)return r=r.lastEffect=R.lastEffect,r!==null&&(r.nextEffect=null),null}else 2*Rt()-R.renderingStartTime>so&&u!==1073741824&&(r.flags|=64,te=!0,oi(R,!1),r.lanes=33554432);R.isBackwards?(ue.sibling=r.child,r.child=ue):(u=R.last,u!==null?u.sibling=ue:r.child=ue,R.last=ue)}return R.tail!==null?(u=R.tail,R.rendering=u,R.tail=u.sibling,R.lastEffect=r.lastEffect,R.renderingStartTime=Rt(),u.sibling=null,r=dt.current,Et(dt,te?r&1|2:r&1),u):null;case 23:case 24:return Gs(),e!==null&&e.memoizedState!==null!=(r.memoizedState!==null)&&R.mode!=="unstable-defer-without-hiding"&&(r.flags|=4),null}throw Error(x(156,r.tag))}function Hf(e){switch(e.tag){case 1:Ft(e.type)&&Io();var r=e.flags;return r&4096?(e.flags=r&-4097|64,e):null;case 3:if(ii(),_t($t),_t(Lt),gs(),r=e.flags,(r&64)!=0)throw Error(x(285));return e.flags=r&-4097|64,e;case 5:return ms(e),null;case 13:return _t(dt),r=e.flags,r&4096?(e.flags=r&-4097|64,e):null;case 19:return _t(dt),null;case 4:return ii(),null;case 10:return Ur(e),null;case 23:case 24:return Gs(),null;default:return null}}function Ms(e,r){try{var u="",R=r;do u+=Ge(R),R=R.return;while(R);var z=u}catch(te){z=`
Error generating stack: `+te.message+`
`+te.stack}return{value:e,source:r,stack:z}}function ai(e,r){try{console.error(r.value)}catch(u){setTimeout(function(){throw u})}}var zf=typeof WeakMap=="function"?WeakMap:Map;function El(e,r,u){u=ht(-1,u),u.tag=3,u.payload={element:null};var R=r.value;return u.callback=function(){aa||(aa=!0,sa=R),ai(e,r)},u}function bs(e,r,u){u=ht(-1,u),u.tag=3;var R=e.type.getDerivedStateFromError;if(typeof R=="function"){var z=r.value;u.payload=function(){return ai(e,r),R(z)}}var te=e.stateNode;return te!==null&&typeof te.componentDidCatch=="function"&&(u.callback=function(){typeof R!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this),ai(e,r));var ue=r.stack;this.componentDidCatch(r.value,{componentStack:ue!==null?ue:""})}),u}var Os=typeof WeakSet=="function"?WeakSet:Set;function Rs(e){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(u){$r(e,u)}else r.current=null}function Vf(e,r){switch(r.tag){case 0:case 11:case 15:case 22:return;case 1:if(r.flags&256&&e!==null){var u=e.memoizedProps,R=e.memoizedState;e=r.stateNode,r=e.getSnapshotBeforeUpdate(r.elementType===r.type?u:nr(r.type,u),R),e.__reactInternalSnapshotBeforeUpdate=r}return;case 3:r.flags&256&&ts(r.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(x(163))}function Yf(e,r,u){switch(u.tag){case 0:case 11:case 15:case 22:if(r=u.updateQueue,r=r!==null?r.lastEffect:null,r!==null){e=r=r.next;do{if((e.tag&3)==3){var R=e.create;e.destroy=R()}e=e.next}while(e!==r)}if(r=u.updateQueue,r=r!==null?r.lastEffect:null,r!==null){e=r=r.next;do{var z=e;R=z.next,z=z.tag,(z&4)!=0&&(z&1)!=0&&(Ws(u,e),Qf(u,e)),e=R}while(e!==r)}return;case 1:e=u.stateNode,u.flags&4&&(r===null?e.componentDidMount():(R=u.elementType===u.type?r.memoizedProps:nr(u.type,r.memoizedProps),e.componentDidUpdate(R,r.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),r=u.updateQueue,r!==null&&cn(u,r,e);return;case 3:if(r=u.updateQueue,r!==null){if(e=null,u.child!==null)switch(u.child.tag){case 5:e=u.child.stateNode;break;case 1:e=u.child.stateNode}cn(u,r,e)}return;case 5:e=u.stateNode,r===null&&u.flags&4&&el(u.type,u.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:u.memoizedState===null&&(u=u.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&Sn(u))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(x(163))}function Cs(e,r){for(var u=e;;){if(u.tag===5){var R=u.stateNode;if(r)R=R.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{R=u.stateNode;var z=u.memoizedProps.style;z=z!=null&&z.hasOwnProperty("display")?z.display:null,R.style.display=tu("display",z)}}else if(u.tag===6)u.stateNode.nodeValue=r?"":u.memoizedProps;else if((u.tag!==23&&u.tag!==24||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break;for(;u.sibling===null;){if(u.return===null||u.return===e)return;u=u.return}u.sibling.return=u.return,u=u.sibling}}function jf(e,r){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(ls,r)}catch(te){}switch(r.tag){case 0:case 11:case 14:case 15:case 22:if(e=r.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var u=e=e.next;do{var R=u,z=R.destroy;if(R=R.tag,z!==void 0)if((R&4)!=0)Ws(r,u);else{R=r;try{z()}catch(te){$r(R,te)}}u=u.next}while(u!==e)}break;case 1:if(Rs(r),e=r.stateNode,typeof e.componentWillUnmount=="function")try{e.props=r.memoizedProps,e.state=r.memoizedState,e.componentWillUnmount()}catch(te){$r(r,te)}break;case 5:Rs(r);break;case 4:Pl(e,r)}}function ir(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Vr(e){return e.tag===5||e.tag===3||e.tag===4}function io(e){e:{for(var r=e.return;r!==null;){if(Vr(r))break e;r=r.return}throw Error(x(160))}var u=r;switch(r=u.stateNode,u.tag){case 5:var R=!1;break;case 3:r=r.containerInfo,R=!0;break;case 4:r=r.containerInfo,R=!0;break;default:throw Error(x(161))}u.flags&16&&(_n(r,""),u.flags&=-17);e:t:for(u=e;;){for(;u.sibling===null;){if(u.return===null||Vr(u.return)){u=null;break e}u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue t;u.child.return=u,u=u.child}if(!(u.flags&2)){u=u.stateNode;break e}}R?As(e,u,r):Is(e,u,r)}function As(e,r,u){var R=e.tag,z=R===5||R===6;if(z)e=z?e.stateNode:e.stateNode.instance,r?u.nodeType===8?u.parentNode.insertBefore(e,r):u.insertBefore(e,r):(u.nodeType===8?(r=u.parentNode,r.insertBefore(e,u)):(r=u,r.appendChild(e)),u=u._reactRootContainer,u!=null||r.onclick!==null||(r.onclick=bo));else if(R!==4&&(e=e.child,e!==null))for(As(e,r,u),e=e.sibling;e!==null;)As(e,r,u),e=e.sibling}function Is(e,r,u){var R=e.tag,z=R===5||R===6;if(z)e=z?e.stateNode:e.stateNode.instance,r?u.insertBefore(e,r):u.appendChild(e);else if(R!==4&&(e=e.child,e!==null))for(Is(e,r,u),e=e.sibling;e!==null;)Is(e,r,u),e=e.sibling}function Pl(e,r){for(var u=r,R=!1,z,te;;){if(!R){R=u.return;e:for(;;){if(R===null)throw Error(x(160));switch(z=R.stateNode,R.tag){case 5:te=!1;break e;case 3:z=z.containerInfo,te=!0;break e;case 4:z=z.containerInfo,te=!0;break e}R=R.return}R=!0}if(u.tag===5||u.tag===6){e:for(var ue=e,me=u,Ee=me;;)if(jf(ue,Ee),Ee.child!==null&&Ee.tag!==4)Ee.child.return=Ee,Ee=Ee.child;else{if(Ee===me)break e;for(;Ee.sibling===null;){if(Ee.return===null||Ee.return===me)break e;Ee=Ee.return}Ee.sibling.return=Ee.return,Ee=Ee.sibling}te?(ue=z,me=u.stateNode,ue.nodeType===8?ue.parentNode.removeChild(me):ue.removeChild(me)):z.removeChild(u.stateNode)}else if(u.tag===4){if(u.child!==null){z=u.stateNode.containerInfo,te=!0,u.child.return=u,u=u.child;continue}}else if(jf(e,u),u.child!==null){u.child.return=u,u=u.child;continue}if(u===r)break;for(;u.sibling===null;){if(u.return===null||u.return===r)return;u=u.return,u.tag===4&&(R=!1)}u.sibling.return=u.return,u=u.sibling}}function Ds(e,r){switch(r.tag){case 0:case 11:case 14:case 15:case 22:var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var R=u=u.next;do(R.tag&3)==3&&(e=R.destroy,R.destroy=void 0,e!==void 0&&e()),R=R.next;while(R!==u)}return;case 1:return;case 5:if(u=r.stateNode,u!=null){R=r.memoizedProps;var z=e!==null?e.memoizedProps:R;e=r.type;var te=r.updateQueue;if(r.updateQueue=null,te!==null){for(u[Ao]=R,e==="input"&&R.type==="radio"&&R.name!=null&&vt(u,R),Fr(e,z),r=Fr(e,R),z=0;z<te.length;z+=2){var ue=te[z],me=te[z+1];ue==="style"?ru(u,me):ue==="dangerouslySetInnerHTML"?eu(u,me):ue==="children"?_n(u,me):D(u,ue,me,r)}switch(e){case"input":Dr(u,R);break;case"textarea":Zs(u,R);break;case"select":e=u._wrapperState.wasMultiple,u._wrapperState.wasMultiple=!!R.multiple,te=R.value,te!=null?At(u,!!R.multiple,te,!1):e!==!!R.multiple&&(R.defaultValue!=null?At(u,!!R.multiple,R.defaultValue,!0):At(u,!!R.multiple,R.multiple?[]:"",!1))}}}return;case 6:if(r.stateNode===null)throw Error(x(162));r.stateNode.nodeValue=r.memoizedProps;return;case 3:u=r.stateNode,u.hydrate&&(u.hydrate=!1,Sn(u.containerInfo));return;case 12:return;case 13:r.memoizedState!==null&&(oa=Rt(),Cs(r.child,!0)),Ml(r);return;case 19:Ml(r);return;case 17:return;case 23:case 24:Cs(r,r.memoizedState!==null);return}throw Error(x(163))}function Ml(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var u=e.stateNode;u===null&&(u=e.stateNode=new Os),r.forEach(function(R){var z=qf.bind(null,e,R);u.has(R)||(u.add(R),R.then(z,z))})}}function Kf(e,r){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(r=r.memoizedState,r!==null&&r.dehydrated===null):!1}var Ls=Math.ceil,si=B.ReactCurrentDispatcher,Fs=B.ReactCurrentOwner,et=0,Vt=null,Ct=null,Xt=0,Fn=0,ui=on(0),Bt=0,ia=null,kn=0,Nn=0,li=0,oo=0,ao=null,oa=0,so=1/0;function fi(){so=Rt()+500}var je=null,aa=!1,sa=null,Cr=null,pn=!1,uo=null,ci=90,Ns=[],Bs=[],Yr=null,hi=0,Us=null,ua=-1,xr=0,lo=0,fo=null,la=!1;function er(){return(et&48)!=0?Rt():ua!==-1?ua:ua=Rt()}function Ar(e){if(e=e.mode,(e&2)==0)return 1;if((e&4)==0)return Je()===99?1:2;if(xr===0&&(xr=kn),Lf.transition!==0){lo!==0&&(lo=ao!==null?ao.pendingLanes:0),e=xr;var r=4186112&~lo;return r&=-r,r===0&&(e=4186112&~e,r=e&-e,r===0&&(r=8192)),r}return e=Je(),(et&4)!=0&&e===98?e=go(12,xr):(e=$l(e),e=go(e,xr)),e}function jr(e,r,u){if(50<hi)throw hi=0,Us=null,Error(x(185));if(e=fa(e,r),e===null)return null;yo(e,r,u),e===Vt&&(li|=r,Bt===4&&di(e,Xt));var R=Je();r===1?(et&8)!=0&&(et&48)==0?ca(e):(fr(e,u),et===0&&(fi(),Mr())):((et&4)==0||R!==98&&R!==99||(Yr===null?Yr=new Set([e]):Yr.add(e)),fr(e,u)),ao=e}function fa(e,r){e.lanes|=r;var u=e.alternate;for(u!==null&&(u.lanes|=r),u=e,e=e.return;e!==null;)e.childLanes|=r,u=e.alternate,u!==null&&(u.childLanes|=r),u=e,e=e.return;return u.tag===3?u.stateNode:null}function fr(e,r){for(var u=e.callbackNode,R=e.suspendedLanes,z=e.pingedLanes,te=e.expirationTimes,ue=e.pendingLanes;0<ue;){var me=31-rn(ue),Ee=1<<me,Ie=te[me];if(Ie===-1){if((Ee&R)==0||(Ee&z)!=0){Ie=r,En(Ee);var Ve=mt;te[me]=10<=Ve?Ie+250:6<=Ve?Ie+5e3:-1}}else Ie<=r&&(e.expiredLanes|=Ee);ue&=~Ee}if(R=Ri(e,e===Vt?Xt:0),r=mt,R===0)u!==null&&(u!==Pr&&Ot(u),e.callbackNode=null,e.callbackPriority=0);else{if(u!==null){if(e.callbackPriority===r)return;u!==Pr&&Ot(u)}r===15?(u=ca.bind(null,e),pr===null?(pr=[u],Bo=Fo(sn,ol)):pr.push(u),u=Pr):r===14?u=Hi(99,ca.bind(null,e)):(u=Tu(r),u=Hi(u,bl.bind(null,e))),e.callbackPriority=r,e.callbackNode=u}}function bl(e){if(ua=-1,lo=xr=0,(et&48)!=0)throw Error(x(327));var r=e.callbackNode;if(mn()&&e.callbackNode!==r)return null;var u=Ri(e,e===Vt?Xt:0);if(u===0)return null;var R=u,z=et;et|=16;var te=Cl();(Vt!==e||Xt!==R)&&(fi(),vn(e,R));do try{Al();break}catch(me){ha(e,me)}while(1);if(Br(),si.current=te,et=z,Ct!==null?R=0:(Vt=null,Xt=0,R=Bt),(kn&li)!=0)vn(e,0);else if(R!==0){if(R===2&&(et|=64,e.hydrate&&(e.hydrate=!1,ts(e.containerInfo)),u=Su(e),u!==0&&(R=or(e,u))),R===1)throw r=ia,vn(e,0),di(e,u),fr(e,Rt()),r;switch(e.finishedWork=e.current.alternate,e.finishedLanes=u,R){case 0:case 1:throw Error(x(345));case 2:Kr(e);break;case 3:if(di(e,u),(u&62914560)===u&&(R=oa+500-Rt(),10<R)){if(Ri(e,0)!==0)break;if(z=e.suspendedLanes,(z&u)!==u){er(),e.pingedLanes|=e.suspendedLanes&z;break}e.timeoutHandle=tl(Kr.bind(null,e),R);break}Kr(e);break;case 4:if(di(e,u),(u&4186112)===u)break;for(R=e.eventTimes,z=-1;0<u;){var ue=31-rn(u);te=1<<ue,ue=R[ue],ue>z&&(z=ue),u&=~te}if(u=z,u=Rt()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Ls(u/1960))-u,10<u){e.timeoutHandle=tl(Kr.bind(null,e),u);break}Kr(e);break;case 5:Kr(e);break;default:throw Error(x(329))}}return fr(e,Rt()),e.callbackNode===r?bl.bind(null,e):null}function di(e,r){for(r&=~oo,r&=~li,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var u=31-rn(r),R=1<<u;e[u]=-1,r&=~R}}function ca(e){if((et&48)!=0)throw Error(x(327));if(mn(),e===Vt&&(e.expiredLanes&Xt)!=0){var r=Xt,u=or(e,r);(kn&li)!=0&&(r=Ri(e,r),u=or(e,r))}else r=Ri(e,0),u=or(e,r);if(e.tag!==0&&u===2&&(et|=64,e.hydrate&&(e.hydrate=!1,ts(e.containerInfo)),r=Su(e),r!==0&&(u=or(e,r))),u===1)throw u=ia,vn(e,0),di(e,r),fr(e,Rt()),u;return e.finishedWork=e.current.alternate,e.finishedLanes=r,Kr(e),fr(e,Rt()),null}function $f(){if(Yr!==null){var e=Yr;Yr=null,e.forEach(function(r){r.expiredLanes|=24&r.pendingLanes,fr(r,Rt())})}Mr()}function Ol(e,r){var u=et;et|=1;try{return e(r)}finally{et=u,et===0&&(fi(),Mr())}}function Rl(e,r){var u=et;et&=-2,et|=8;try{return e(r)}finally{et=u,et===0&&(fi(),Mr())}}function pi(e,r){Et(ui,Fn),Fn|=r,kn|=r}function Gs(){Fn=ui.current,_t(ui)}function vn(e,r){e.finishedWork=null,e.finishedLanes=0;var u=e.timeoutHandle;if(u!==-1&&(e.timeoutHandle=-1,If(u)),Ct!==null)for(u=Ct.return;u!==null;){var R=u;switch(R.tag){case 1:R=R.type.childContextTypes,R!=null&&Io();break;case 3:ii(),_t($t),_t(Lt),gs();break;case 5:ms(R);break;case 4:ii();break;case 13:_t(dt);break;case 19:_t(dt);break;case 10:Ur(R);break;case 23:case 24:Gs()}u=u.return}Vt=e,Ct=Bn(e.current,null),Xt=Fn=kn=r,Bt=0,ia=null,oo=li=Nn=0}function ha(e,r){do{var u=Ct;try{if(Br(),$i.current=Qo,Zi){for(var R=Pt.memoizedState;R!==null;){var z=R.queue;z!==null&&(z.pending=null),R=R.next}Zi=!1}if(Qi=0,St=Gt=Pt=null,Ji=!1,Fs.current=null,u===null||u.return===null){Bt=1,ia=r,Ct=null;break}e:{var te=e,ue=u.return,me=u,Ee=r;if(r=Xt,me.flags|=2048,me.firstEffect=me.lastEffect=null,Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var Ie=Ee;if((me.mode&2)==0){var Ve=me.alternate;Ve?(me.updateQueue=Ve.updateQueue,me.memoizedState=Ve.memoizedState,me.lanes=Ve.lanes):(me.updateQueue=null,me.memoizedState=null)}var rt=(dt.current&1)!=0,Ue=ue;do{var Qe;if(Qe=Ue.tag===13){var nt=Ue.memoizedState;if(nt!==null)Qe=nt.dehydrated!==null;else{var qe=Ue.memoizedProps;Qe=qe.fallback===void 0?!1:qe.unstable_avoidThisFallback!==!0?!0:!rt}}if(Qe){var Re=Ue.updateQueue;if(Re===null){var Pe=new Set;Pe.add(Ie),Ue.updateQueue=Pe}else Re.add(Ie);if((Ue.mode&2)==0){if(Ue.flags|=64,me.flags|=16384,me.flags&=-2981,me.tag===1)if(me.alternate===null)me.tag=17;else{var Oe=ht(-1,1);Oe.tag=2,st(me,Oe)}me.lanes|=1;break e}Ee=void 0,me=r;var Le=te.pingCache;if(Le===null?(Le=te.pingCache=new zf,Ee=new Set,Le.set(Ie,Ee)):(Ee=Le.get(Ie),Ee===void 0&&(Ee=new Set,Le.set(Ie,Ee))),!Ee.has(me)){Ee.add(me);var Ne=Jf.bind(null,te,Ie,me);Ie.then(Ne,Ne)}Ue.flags|=4096,Ue.lanes=r;break e}Ue=Ue.return}while(Ue!==null);Ee=Error((ze(me.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Bt!==5&&(Bt=2),Ee=Ms(Ee,me),Ue=ue;do{switch(Ue.tag){case 3:te=Ee,Ue.flags|=4096,r&=-r,Ue.lanes|=r;var it=El(Ue,te,r);zi(Ue,it);break e;case 1:te=Ee;var Ke=Ue.type,ot=Ue.stateNode;if((Ue.flags&64)==0&&(typeof Ke.getDerivedStateFromError=="function"||ot!==null&&typeof ot.componentDidCatch=="function"&&(Cr===null||!Cr.has(ot)))){Ue.flags|=4096,r&=-r,Ue.lanes|=r;var ut=bs(Ue,te,r);zi(Ue,ut);break e}}Ue=Ue.return}while(Ue!==null)}Dl(u)}catch(at){r=at,Ct===u&&u!==null&&(Ct=u=u.return);continue}break}while(1)}function Cl(){var e=si.current;return si.current=Qo,e===null?Qo:e}function or(e,r){var u=et;et|=16;var R=Cl();Vt===e&&Xt===r||vn(e,r);do try{wr();break}catch(z){ha(e,z)}while(1);if(Br(),et=u,si.current=R,Ct!==null)throw Error(x(261));return Vt=null,Xt=0,Bt}function wr(){for(;Ct!==null;)Il(Ct)}function Al(){for(;Ct!==null&&!Df();)Il(Ct)}function Il(e){var r=pa(e.alternate,e,Fn);e.memoizedProps=e.pendingProps,r===null?Dl(e):Ct=r,Fs.current=null}function Dl(e){var r=e;do{var u=r.alternate;if(e=r.return,(r.flags&2048)==0){if(u=Xf(u,r,Fn),u!==null){Ct=u;return}if(u=r,u.tag!==24&&u.tag!==23||u.memoizedState===null||(Fn&1073741824)!=0||(u.mode&4)==0){for(var R=0,z=u.child;z!==null;)R|=z.lanes|z.childLanes,z=z.sibling;u.childLanes=R}e!==null&&(e.flags&2048)==0&&(e.firstEffect===null&&(e.firstEffect=r.firstEffect),r.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=r.firstEffect),e.lastEffect=r.lastEffect),1<r.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=r:e.firstEffect=r,e.lastEffect=r))}else{if(u=Hf(r),u!==null){u.flags&=2047,Ct=u;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(r=r.sibling,r!==null){Ct=r;return}Ct=r=e}while(r!==null);Bt===0&&(Bt=5)}function Kr(e){var r=Je();return It(99,Ll.bind(null,e,r)),null}function Ll(e,r){do mn();while(uo!==null);if((et&48)!=0)throw Error(x(327));var u=e.finishedWork;if(u===null)return null;if(e.finishedWork=null,e.finishedLanes=0,u===e.current)throw Error(x(177));e.callbackNode=null;var R=u.lanes|u.childLanes,z=R,te=e.pendingLanes&~z;e.pendingLanes=z,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=z,e.mutableReadLanes&=z,e.entangledLanes&=z,z=e.entanglements;for(var ue=e.eventTimes,me=e.expirationTimes;0<te;){var Ee=31-rn(te),Ie=1<<Ee;z[Ee]=0,ue[Ee]=-1,me[Ee]=-1,te&=~Ie}if(Yr!==null&&(R&24)==0&&Yr.has(e)&&Yr.delete(e),e===Vt&&(Ct=Vt=null,Xt=0),1<u.flags?u.lastEffect!==null?(u.lastEffect.nextEffect=u,R=u.firstEffect):R=u:R=u.firstEffect,R!==null){if(z=et,et|=32,Fs.current=null,qa=_o,ue=Po(),$a(ue)){if("selectionStart"in ue)me={start:ue.selectionStart,end:ue.selectionEnd};else e:if(me=(me=ue.ownerDocument)&&me.defaultView||window,(Ie=me.getSelection&&me.getSelection())&&Ie.rangeCount!==0){me=Ie.anchorNode,te=Ie.anchorOffset,Ee=Ie.focusNode,Ie=Ie.focusOffset;try{me.nodeType,Ee.nodeType}catch(at){me=null;break e}var Ve=0,rt=-1,Ue=-1,Qe=0,nt=0,qe=ue,Re=null;t:for(;;){for(var Pe;qe!==me||te!==0&&qe.nodeType!==3||(rt=Ve+te),qe!==Ee||Ie!==0&&qe.nodeType!==3||(Ue=Ve+Ie),qe.nodeType===3&&(Ve+=qe.nodeValue.length),(Pe=qe.firstChild)!==null;)Re=qe,qe=Pe;for(;;){if(qe===ue)break t;if(Re===me&&++Qe===te&&(rt=Ve),Re===Ee&&++nt===Ie&&(Ue=Ve),(Pe=qe.nextSibling)!==null)break;qe=Re,Re=qe.parentNode}qe=Pe}me=rt===-1||Ue===-1?null:{start:rt,end:Ue}}else me=null;me=me||{start:0,end:0}}else me=null;Oo={focusedElem:ue,selectionRange:me},_o=!1,fo=null,la=!1,je=R;do try{da()}catch(at){if(je===null)throw Error(x(330));$r(je,at),je=je.nextEffect}while(je!==null);fo=null,je=R;do try{for(ue=e;je!==null;){var Oe=je.flags;if(Oe&16&&_n(je.stateNode,""),Oe&128){var Le=je.alternate;if(Le!==null){var Ne=Le.ref;Ne!==null&&(typeof Ne=="function"?Ne(null):Ne.current=null)}}switch(Oe&1038){case 2:io(je),je.flags&=-3;break;case 6:io(je),je.flags&=-3,Ds(je.alternate,je);break;case 1024:je.flags&=-1025;break;case 1028:je.flags&=-1025,Ds(je.alternate,je);break;case 4:Ds(je.alternate,je);break;case 8:me=je,Pl(ue,me);var it=me.alternate;ir(me),it!==null&&ir(it)}je=je.nextEffect}}catch(at){if(je===null)throw Error(x(330));$r(je,at),je=je.nextEffect}while(je!==null);if(Ne=Oo,Le=Po(),Oe=Ne.focusedElem,ue=Ne.selectionRange,Le!==Oe&&Oe&&Oe.ownerDocument&&Wu(Oe.ownerDocument.documentElement,Oe)){for(ue!==null&&$a(Oe)&&(Le=ue.start,Ne=ue.end,Ne===void 0&&(Ne=Le),"selectionStart"in Oe?(Oe.selectionStart=Le,Oe.selectionEnd=Math.min(Ne,Oe.value.length)):(Ne=(Le=Oe.ownerDocument||document)&&Le.defaultView||window,Ne.getSelection&&(Ne=Ne.getSelection(),me=Oe.textContent.length,it=Math.min(ue.start,me),ue=ue.end===void 0?it:Math.min(ue.end,me),!Ne.extend&&it>ue&&(me=ue,ue=it,it=me),me=Jn(Oe,it),te=Jn(Oe,ue),me&&te&&(Ne.rangeCount!==1||Ne.anchorNode!==me.node||Ne.anchorOffset!==me.offset||Ne.focusNode!==te.node||Ne.focusOffset!==te.offset)&&(Le=Le.createRange(),Le.setStart(me.node,me.offset),Ne.removeAllRanges(),it>ue?(Ne.addRange(Le),Ne.extend(te.node,te.offset)):(Le.setEnd(te.node,te.offset),Ne.addRange(Le)))))),Le=[],Ne=Oe;Ne=Ne.parentNode;)Ne.nodeType===1&&Le.push({element:Ne,left:Ne.scrollLeft,top:Ne.scrollTop});for(typeof Oe.focus=="function"&&Oe.focus(),Oe=0;Oe<Le.length;Oe++)Ne=Le[Oe],Ne.element.scrollLeft=Ne.left,Ne.element.scrollTop=Ne.top}_o=!!qa,Oo=qa=null,e.current=u,je=R;do try{for(Oe=e;je!==null;){var Ke=je.flags;if(Ke&36&&Yf(Oe,je.alternate,je),Ke&128){Le=void 0;var ot=je.ref;if(ot!==null){var ut=je.stateNode;switch(je.tag){case 5:Le=ut;break;default:Le=ut}typeof ot=="function"?ot(Le):ot.current=Le}}je=je.nextEffect}}catch(at){if(je===null)throw Error(x(330));$r(je,at),je=je.nextEffect}while(je!==null);je=null,il(),et=z}else e.current=u;if(pn)pn=!1,uo=e,ci=r;else for(je=R;je!==null;)r=je.nextEffect,je.nextEffect=null,je.flags&8&&(Ke=je,Ke.sibling=null,Ke.stateNode=null),je=r;if(R=e.pendingLanes,R===0&&(Cr=null),R===1?e===Us?hi++:(hi=0,Us=e):hi=0,u=u.stateNode,Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(ls,u,void 0,(u.current.flags&64)==64)}catch(at){}if(fr(e,Rt()),aa)throw aa=!1,e=sa,sa=null,e;return(et&8)!=0||Mr(),null}function da(){for(;je!==null;){var e=je.alternate;la||fo===null||((je.flags&8)!=0?cu(je,fo)&&(la=!0):je.tag===13&&Kf(e,je)&&cu(je,fo)&&(la=!0));var r=je.flags;(r&256)!=0&&Vf(e,je),(r&512)==0||pn||(pn=!0,Hi(97,function(){return mn(),null})),je=je.nextEffect}}function mn(){if(ci!==90){var e=97<ci?97:ci;return ci=90,It(e,pc)}return!1}function Qf(e,r){Ns.push(r,e),pn||(pn=!0,Hi(97,function(){return mn(),null}))}function Ws(e,r){Bs.push(r,e),pn||(pn=!0,Hi(97,function(){return mn(),null}))}function pc(){if(uo===null)return!1;var e=uo;if(uo=null,(et&48)!=0)throw Error(x(331));var r=et;et|=32;var u=Bs;Bs=[];for(var R=0;R<u.length;R+=2){var z=u[R],te=u[R+1],ue=z.destroy;if(z.destroy=void 0,typeof ue=="function")try{ue()}catch(Ee){if(te===null)throw Error(x(330));$r(te,Ee)}}for(u=Ns,Ns=[],R=0;R<u.length;R+=2){z=u[R],te=u[R+1];try{var me=z.create;z.destroy=me()}catch(Ee){if(te===null)throw Error(x(330));$r(te,Ee)}}for(me=e.current.firstEffect;me!==null;)e=me.nextEffect,me.nextEffect=null,me.flags&8&&(me.sibling=null,me.stateNode=null),me=e;return et=r,Mr(),!0}function Zf(e,r,u){r=Ms(u,r),r=El(e,r,1),st(e,r),r=er(),e=fa(e,1),e!==null&&(yo(e,1,r),fr(e,r))}function $r(e,r){if(e.tag===3)Zf(e,e,r);else for(var u=e.return;u!==null;){if(u.tag===3){Zf(u,e,r);break}else if(u.tag===1){var R=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(Cr===null||!Cr.has(R))){e=Ms(r,e);var z=bs(u,e,1);if(st(u,z),z=er(),u=fa(u,1),u!==null)yo(u,1,z),fr(u,z);else if(typeof R.componentDidCatch=="function"&&(Cr===null||!Cr.has(R)))try{R.componentDidCatch(r,e)}catch(te){}break}}u=u.return}}function Jf(e,r,u){var R=e.pingCache;R!==null&&R.delete(r),r=er(),e.pingedLanes|=e.suspendedLanes&u,Vt===e&&(Xt&u)===u&&(Bt===4||Bt===3&&(Xt&62914560)===Xt&&500>Rt()-oa?vn(e,0):oo|=u),fr(e,r)}function qf(e,r){var u=e.stateNode;u!==null&&u.delete(r),r=0,r===0&&(r=e.mode,(r&2)==0?r=1:(r&4)==0?r=Je()===99?1:2:(xr===0&&(xr=kn),r=$n(62914560&~xr),r===0&&(r=4194304))),u=er(),e=fa(e,r),e!==null&&(yo(e,r,u),fr(e,u))}var pa;pa=function(e,r,u){var R=r.lanes;if(e!==null)if(e.memoizedProps!==r.pendingProps||$t.current)_r=!0;else if((u&R)!=0)_r=(e.flags&16384)!=0;else{switch(_r=!1,r.tag){case 3:yl(r),yr();break;case 5:ll(r);break;case 1:Ft(r.type)&&Do(r);break;case 4:Dt(r,r.stateNode.containerInfo);break;case 10:R=r.memoizedProps.value;var z=r.type._context;Et(Go,z._currentValue),z._currentValue=R;break;case 13:if(r.memoizedState!==null)return(u&r.child.childLanes)!=0?_l(e,r,u):(Et(dt,dt.current&1),r=Wt(e,r,u),r!==null?r.sibling:null);Et(dt,dt.current&1);break;case 19:if(R=(u&r.childLanes)!=0,(e.flags&64)!=0){if(R)return Tl(e,r,u);r.flags|=64}if(z=r.memoizedState,z!==null&&(z.rendering=null,z.tail=null,z.lastEffect=null),Et(dt,dt.current),R)break;return null;case 23:case 24:return r.lanes=0,ea(e,r,u)}return Wt(e,r,u)}else _r=!1;switch(r.lanes=0,r.tag){case 2:if(R=r.type,e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2),e=r.pendingProps,z=On(r,Lt.current),ct(r,u),z=_s(null,r,R,e,z,u),r.flags|=1,typeof z=="object"&&z!==null&&typeof z.render=="function"&&z.$$typeof===void 0){if(r.tag=1,r.memoizedState=null,r.updateQueue=null,Ft(R)){var te=!0;Do(r)}else te=!1;r.memoizedState=z.state!==null&&z.state!==void 0?z.state:null,hs(r);var ue=R.getDerivedStateFromProps;typeof ue=="function"&&Xo(r,R,ue,e),z.updater=Ho,r.stateNode=z,z._reactInternals=r,vs(r,R,e,u),r=Ss(null,r,R,!0,te,u)}else r.tag=0,qt(null,r,z,u),r=r.child;return r;case 16:z=r.elementType;e:{switch(e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2),e=r.pendingProps,te=z._init,z=te(z._payload),r.type=z,te=r.tag=ec(z),e=nr(z,e),te){case 0:r=Ts(null,r,z,e,u);break e;case 1:r=ml(null,r,z,e,u);break e;case 11:r=Zo(null,r,z,e,u);break e;case 14:r=Jo(null,r,z,nr(z.type,e),R,u);break e}throw Error(x(306,z,""))}return r;case 0:return R=r.type,z=r.pendingProps,z=r.elementType===R?z:nr(R,z),Ts(e,r,R,z,u);case 1:return R=r.type,z=r.pendingProps,z=r.elementType===R?z:nr(R,z),ml(e,r,R,z,u);case 3:if(yl(r),R=r.updateQueue,e===null||R===null)throw Error(x(282));if(R=r.pendingProps,z=r.memoizedState,z=z!==null?z.element:null,ds(e,r),fn(r,R,null,u),R=r.memoizedState.element,R===z)yr(),r=Wt(e,r,u);else{if(z=r.stateNode,(te=z.hydrate)&&(hn=ti(r.stateNode.containerInfo.firstChild),Wr=r,te=br=!0),te){if(e=z.mutableSourceEagerHydrationData,e!=null)for(z=0;z<e.length;z+=2)te=e[z],te._workInProgressVersionPrimary=e[z+1],Xr.push(te);for(u=Gr(r,null,R,u),r.child=u;u;)u.flags=u.flags&-3|1024,u=u.sibling}else qt(e,r,R,u),yr();r=r.child}return r;case 5:return ll(r),e===null&&gr(r),R=r.type,z=r.pendingProps,te=e!==null?e.memoizedProps:null,ue=z.children,es(R,z)?ue=null:te!==null&&es(R,te)&&(r.flags|=16),lr(e,r),qt(e,r,ue,u),r.child;case 6:return e===null&&gr(r),null;case 13:return _l(e,r,u);case 4:return Dt(r,r.stateNode.containerInfo),R=r.pendingProps,e===null?r.child=Yo(r,null,R,u):qt(e,r,R,u),r.child;case 11:return R=r.type,z=r.pendingProps,z=r.elementType===R?z:nr(R,z),Zo(e,r,R,z,u);case 7:return qt(e,r,r.pendingProps,u),r.child;case 8:return qt(e,r,r.pendingProps.children,u),r.child;case 12:return qt(e,r,r.pendingProps.children,u),r.child;case 10:e:{R=r.type._context,z=r.pendingProps,ue=r.memoizedProps,te=z.value;var me=r.type._context;if(Et(Go,me._currentValue),me._currentValue=te,ue!==null)if(me=ue.value,te=ar(me,te)?0:(typeof R._calculateChangedBits=="function"?R._calculateChangedBits(me,te):1073741823)|0,te===0){if(ue.children===z.children&&!$t.current){r=Wt(e,r,u);break e}}else for(me=r.child,me!==null&&(me.return=r);me!==null;){var Ee=me.dependencies;if(Ee!==null){ue=me.child;for(var Ie=Ee.firstContext;Ie!==null;){if(Ie.context===R&&(Ie.observedBits&te)!=0){me.tag===1&&(Ie=ht(-1,u&-u),Ie.tag=2,st(me,Ie)),me.lanes|=u,Ie=me.alternate,Ie!==null&&(Ie.lanes|=u),ln(me.return,u),Ee.lanes|=u;break}Ie=Ie.next}}else ue=me.tag===10&&me.type===r.type?null:me.child;if(ue!==null)ue.return=me;else for(ue=me;ue!==null;){if(ue===r){ue=null;break}if(me=ue.sibling,me!==null){me.return=ue.return,ue=me;break}ue=ue.return}me=ue}qt(e,r,z.children,u),r=r.child}return r;case 9:return z=r.type,te=r.pendingProps,R=te.children,ct(r,u),z=sr(z,te.unstable_observedBits),R=R(z),r.flags|=1,qt(e,r,R,u),r.child;case 14:return z=r.type,te=nr(z,r.pendingProps),te=nr(z.type,te),Jo(e,r,z,te,R,u);case 15:return qo(e,r,r.type,r.pendingProps,R,u);case 17:return R=r.type,z=r.pendingProps,z=r.elementType===R?z:nr(R,z),e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2),r.tag=1,Ft(R)?(e=!0,Do(r)):e=!1,ct(r,u),sl(r,R,z),vs(r,R,z,u),Ss(null,r,R,!0,e,u);case 19:return Tl(e,r,u);case 23:return ea(e,r,u);case 24:return ea(e,r,u)}throw Error(x(156,r.tag))};function Fl(e,r,u,R){this.tag=e,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,r,u,R){return new Fl(e,r,u,R)}function Xs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ec(e){if(typeof e=="function")return Xs(e)?1:0;if(e!=null){if(e=e.$$typeof,e===W)return 11;if(e===Y)return 14}return 2}function Bn(e,r){var u=e.alternate;return u===null?(u=Ht(e.tag,r,e.key,e.mode),u.elementType=e.elementType,u.type=e.type,u.stateNode=e.stateNode,u.alternate=e,e.alternate=u):(u.pendingProps=r,u.type=e.type,u.flags=0,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null),u.childLanes=e.childLanes,u.lanes=e.lanes,u.child=e.child,u.memoizedProps=e.memoizedProps,u.memoizedState=e.memoizedState,u.updateQueue=e.updateQueue,r=e.dependencies,u.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},u.sibling=e.sibling,u.index=e.index,u.ref=e.ref,u}function Hs(e,r,u,R,z,te){var ue=2;if(R=e,typeof e=="function")Xs(e)&&(ue=1);else if(typeof e=="string")ue=5;else e:switch(e){case V:return vi(u.children,z,te,r);case oe:ue=8,z|=16;break;case J:ue=8,z|=1;break;case se:return e=Ht(12,u,r,z|8),e.elementType=se,e.type=se,e.lanes=te,e;case Q:return e=Ht(13,u,r,z),e.type=Q,e.elementType=Q,e.lanes=te,e;case H:return e=Ht(19,u,r,z),e.elementType=H,e.lanes=te,e;case ge:return zs(u,z,te,r);case ve:return e=Ht(24,u,r,z),e.elementType=ve,e.lanes=te,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ie:ue=10;break e;case ae:ue=9;break e;case W:ue=11;break e;case Y:ue=14;break e;case Z:ue=16,R=null;break e;case $:ue=22;break e}throw Error(x(130,e==null?e:typeof e,""))}return r=Ht(ue,u,r,z),r.elementType=e,r.type=R,r.lanes=te,r}function vi(e,r,u,R){return e=Ht(7,e,R,r),e.lanes=u,e}function zs(e,r,u,R){return e=Ht(23,e,R,r),e.elementType=ge,e.lanes=u,e}function tr(e,r,u){return e=Ht(6,e,null,r),e.lanes=u,e}function Un(e,r,u){return r=Ht(4,e.children!==null?e.children:[],e.key,r),r.lanes=u,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function Gn(e,r,u){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=u,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Da(0),this.expirationTimes=Da(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Da(0),this.mutableSourceEagerHydrationData=null}function Vs(e,r,u){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:R==null?null:""+R,children:e,containerInfo:r,implementation:u}}function Qr(e,r,u,R){var z=r.current,te=er(),ue=Ar(z);e:if(u){u=u._reactInternals;t:{if(Tn(u)!==u||u.tag!==1)throw Error(x(170));var me=u;do{switch(me.tag){case 3:me=me.stateNode.context;break t;case 1:if(Ft(me.type)){me=me.stateNode.__reactInternalMemoizedMergedChildContext;break t}}me=me.return}while(me!==null);throw Error(x(171))}if(u.tag===1){var Ee=u.type;if(Ft(Ee)){u=rl(u,Ee,me);break e}}u=me}else u=Kt;return r.context===null?r.context=u:r.pendingContext=u,r=ht(te,ue),r.payload={element:e},R=R===void 0?null:R,R!==null&&(r.callback=R),st(z,r),jr(z,ue,te),ue}function co(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ys(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var u=e.retryLane;e.retryLane=u!==0&&u<r?u:r}}function va(e,r){Ys(e,r),(e=e.alternate)&&Ys(e,r)}function tc(){return null}function js(e,r,u){var R=u!=null&&u.hydrationOptions!=null&&u.hydrationOptions.mutableSources||null;if(u=new Gn(e,r,u!=null&&u.hydrate===!0),r=Ht(3,null,null,r===2?7:r===1?3:0),u.current=r,r.stateNode=u,hs(r),e[nn]=u.current,$u(e.nodeType===8?e.parentNode:e),R)for(e=0;e<R.length;e++){r=R[e];var z=r._getVersion;z=z(r._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[r,z]:u.mutableSourceEagerHydrationData.push(r,z)}this._internalRoot=u}js.prototype.render=function(e){Qr(e,this._internalRoot,null,null)},js.prototype.unmount=function(){var e=this._internalRoot,r=e.containerInfo;Qr(null,e,null,function(){r[nn]=null})};function rr(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rc(e,r){if(r||(r=e?e.nodeType===9?e.documentElement:e.firstChild:null,r=!(!r||r.nodeType!==1||!r.hasAttribute("data-reactroot"))),!r)for(var u;u=e.lastChild;)e.removeChild(u);return new js(e,0,r?{hydrate:!0}:void 0)}function ma(e,r,u,R,z){var te=u._reactRootContainer;if(te){var ue=te._internalRoot;if(typeof z=="function"){var me=z;z=function(){var Ie=co(ue);me.call(Ie)}}Qr(r,ue,e,z)}else{if(te=u._reactRootContainer=rc(u,R),ue=te._internalRoot,typeof z=="function"){var Ee=z;z=function(){var Ie=co(ue);Ee.call(Ie)}}Rl(function(){Qr(r,ue,e,z)})}return co(ue)}hu=function(e){if(e.tag===13){var r=er();jr(e,4,r),va(e,4)}},qr=function(e){if(e.tag===13){var r=er();jr(e,67108864,r),va(e,67108864)}},ba=function(e){if(e.tag===13){var r=er(),u=Ar(e);jr(e,u,r),va(e,u)}},du=function(e,r){return r()},Ta=function(e,r,u){switch(r){case"input":if(Dr(e,u),r=u.name,u.type==="radio"&&r!=null){for(u=e;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<u.length;r++){var R=u[r];if(R!==e&&R.form===e.form){var z=Gi(R);if(!z)throw Error(x(90));gt(R),Dr(R,z)}}}break;case"textarea":Zs(e,u);break;case"select":r=u.value,r!=null&&At(e,!!u.multiple,r,!1)}},Sa=Ol,au=function(e,r,u,R,z){var te=et;et|=4;try{return It(98,e.bind(null,r,u,R,z))}finally{et=te,et===0&&(fi(),Mr())}},Ea=function(){(et&49)==0&&($f(),mn())},su=function(e,r){var u=et;et|=2;try{return e(r)}finally{et=u,et===0&&(fi(),Mr())}};function kl(e,r){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rr(r))throw Error(x(200));return Vs(e,r,null,u)}var nc={Events:[ri,bn,Gi,iu,ou,mn,{current:!1}]},ho={findFiberByHostInstance:Mn,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},vc={bundleType:ho.bundleType,version:ho.version,rendererPackageName:ho.rendererPackageName,rendererConfig:ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fu(e),e===null?null:e.stateNode},findFiberByHostInstance:ho.findFiberByHostInstance||tc,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Ks=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ks.isDisabled&&Ks.supportsFiber)try{ls=Ks.inject(vc),Rn=Ks}catch(e){}}C=nc,C=kl,C=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(x(188)):Error(x(268,Object.keys(e)));return e=fu(r),e=e===null?null:e.stateNode,e},C=function(e,r){var u=et;if((u&48)!=0)return e(r);et|=1;try{if(e)return It(99,e.bind(null,r))}finally{et=u,Mr()}},C=function(e,r,u){if(!rr(r))throw Error(x(200));return ma(null,e,r,!0,u)},E.render=function(e,r,u){if(!rr(r))throw Error(x(200));return ma(null,e,r,!1,u)},C=function(e){if(!rr(e))throw Error(x(40));return e._reactRootContainer?(Rl(function(){ma(null,null,e,!1,function(){e._reactRootContainer=null,e[nn]=null})}),!0):!1},C=Ol,C=function(e,r){return kl(e,r,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)},C=function(e,r,u,R){if(!rr(u))throw Error(x(200));if(e==null||e._reactInternals===void 0)throw Error(x(38));return ma(e,r,u,!1,R)},C="17.0.2"},3935:(de,E,O)=>{"use strict";function C(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(C)}catch(k){console.error(k)}}C(),de.exports=O(4448)},2408:(de,E,O)=>{"use strict";/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C=O(7418),k=60103,g=60106;E.Fragment=60107,E.StrictMode=60108,E.Profiler=60114;var b=60109,x=60110,w=60112;E.Suspense=60113;var v=60115,m=60116;if(typeof Symbol=="function"&&Symbol.for){var y=Symbol.for;k=y("react.element"),g=y("react.portal"),E.Fragment=y("react.fragment"),E.StrictMode=y("react.strict_mode"),E.Profiler=y("react.profiler"),b=y("react.provider"),x=y("react.context"),w=y("react.forward_ref"),E.Suspense=y("react.suspense"),v=y("react.memo"),m=y("react.lazy")}var l=typeof Symbol=="function"&&Symbol.iterator;function o(Y){return Y===null||typeof Y!="object"?null:(Y=l&&Y[l]||Y["@@iterator"],typeof Y=="function"?Y:null)}function d(Y){for(var Z="https://reactjs.org/docs/error-decoder.html?invariant="+Y,$=1;$<arguments.length;$++)Z+="&args[]="+encodeURIComponent(arguments[$]);return"Minified React error #"+Y+"; visit "+Z+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},s={};function p(Y,Z,$){this.props=Y,this.context=Z,this.refs=s,this.updater=$||f}p.prototype.isReactComponent={},p.prototype.setState=function(Y,Z){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error(d(85));this.updater.enqueueSetState(this,Y,Z,"setState")},p.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function _(){}_.prototype=p.prototype;function S(Y,Z,$){this.props=Y,this.context=Z,this.refs=s,this.updater=$||f}var T=S.prototype=new _;T.constructor=S,C(T,p.prototype),T.isPureReactComponent=!0;var M={current:null},L=Object.prototype.hasOwnProperty,F={key:!0,ref:!0,__self:!0,__source:!0};function D(Y,Z,$){var ee,oe={},ge=null,ve=null;if(Z!=null)for(ee in Z.ref!==void 0&&(ve=Z.ref),Z.key!==void 0&&(ge=""+Z.key),Z)L.call(Z,ee)&&!F.hasOwnProperty(ee)&&(oe[ee]=Z[ee]);var we=arguments.length-2;if(we===1)oe.children=$;else if(1<we){for(var Se=Array(we),_e=0;_e<we;_e++)Se[_e]=arguments[_e+2];oe.children=Se}if(Y&&Y.defaultProps)for(ee in we=Y.defaultProps,we)oe[ee]===void 0&&(oe[ee]=we[ee]);return{$$typeof:k,type:Y,key:ge,ref:ve,props:oe,_owner:M.current}}function B(Y,Z){return{$$typeof:k,type:Y.type,key:Z,ref:Y.ref,props:Y.props,_owner:Y._owner}}function K(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===k}function N(Y){var Z={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function($){return Z[$]})}var V=/\/+/g;function J(Y,Z){return typeof Y=="object"&&Y!==null&&Y.key!=null?N(""+Y.key):Z.toString(36)}function se(Y,Z,$,ee,oe){var ge=typeof Y;(ge==="undefined"||ge==="boolean")&&(Y=null);var ve=!1;if(Y===null)ve=!0;else switch(ge){case"string":case"number":ve=!0;break;case"object":switch(Y.$$typeof){case k:case g:ve=!0}}if(ve)return ve=Y,oe=oe(ve),Y=ee===""?"."+J(ve,0):ee,Array.isArray(oe)?($="",Y!=null&&($=Y.replace(V,"$&/")+"/"),se(oe,Z,$,"",function(_e){return _e})):oe!=null&&(K(oe)&&(oe=B(oe,$+(!oe.key||ve&&ve.key===oe.key?"":(""+oe.key).replace(V,"$&/")+"/")+Y)),Z.push(oe)),1;if(ve=0,ee=ee===""?".":ee+":",Array.isArray(Y))for(var we=0;we<Y.length;we++){ge=Y[we];var Se=ee+J(ge,we);ve+=se(ge,Z,$,Se,oe)}else if(Se=o(Y),typeof Se=="function")for(Y=Se.call(Y),we=0;!(ge=Y.next()).done;)ge=ge.value,Se=ee+J(ge,we++),ve+=se(ge,Z,$,Se,oe);else if(ge==="object")throw Z=""+Y,Error(d(31,Z==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":Z));return ve}function ie(Y,Z,$){if(Y==null)return Y;var ee=[],oe=0;return se(Y,ee,"","",function(ge){return Z.call($,ge,oe++)}),ee}function ae(Y){if(Y._status===-1){var Z=Y._result;Z=Z(),Y._status=0,Y._result=Z,Z.then(function($){Y._status===0&&($=$.default,Y._status=1,Y._result=$)},function($){Y._status===0&&(Y._status=2,Y._result=$)})}if(Y._status===1)return Y._result;throw Y._result}var W={current:null};function Q(){var Y=W.current;if(Y===null)throw Error(d(321));return Y}var H={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:M,IsSomeRendererActing:{current:!1},assign:C};E.Children={map:ie,forEach:function(Y,Z,$){ie(Y,function(){Z.apply(this,arguments)},$)},count:function(Y){var Z=0;return ie(Y,function(){Z++}),Z},toArray:function(Y){return ie(Y,function(Z){return Z})||[]},only:function(Y){if(!K(Y))throw Error(d(143));return Y}},E.Component=p,E.PureComponent=S,E.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,E.cloneElement=function(Y,Z,$){if(Y==null)throw Error(d(267,Y));var ee=C({},Y.props),oe=Y.key,ge=Y.ref,ve=Y._owner;if(Z!=null){if(Z.ref!==void 0&&(ge=Z.ref,ve=M.current),Z.key!==void 0&&(oe=""+Z.key),Y.type&&Y.type.defaultProps)var we=Y.type.defaultProps;for(Se in Z)L.call(Z,Se)&&!F.hasOwnProperty(Se)&&(ee[Se]=Z[Se]===void 0&&we!==void 0?we[Se]:Z[Se])}var Se=arguments.length-2;if(Se===1)ee.children=$;else if(1<Se){we=Array(Se);for(var _e=0;_e<Se;_e++)we[_e]=arguments[_e+2];ee.children=we}return{$$typeof:k,type:Y.type,key:oe,ref:ge,props:ee,_owner:ve}},E.createContext=function(Y,Z){return Z===void 0&&(Z=null),Y={$$typeof:x,_calculateChangedBits:Z,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider={$$typeof:b,_context:Y},Y.Consumer=Y},E.createElement=D,E.createFactory=function(Y){var Z=D.bind(null,Y);return Z.type=Y,Z},E.createRef=function(){return{current:null}},E.forwardRef=function(Y){return{$$typeof:w,render:Y}},E.isValidElement=K,E.lazy=function(Y){return{$$typeof:m,_payload:{_status:-1,_result:Y},_init:ae}},E.memo=function(Y,Z){return{$$typeof:v,type:Y,compare:Z===void 0?null:Z}},E.useCallback=function(Y,Z){return Q().useCallback(Y,Z)},E.useContext=function(Y,Z){return Q().useContext(Y,Z)},E.useDebugValue=function(){},E.useEffect=function(Y,Z){return Q().useEffect(Y,Z)},E.useImperativeHandle=function(Y,Z,$){return Q().useImperativeHandle(Y,Z,$)},E.useLayoutEffect=function(Y,Z){return Q().useLayoutEffect(Y,Z)},E.useMemo=function(Y,Z){return Q().useMemo(Y,Z)},E.useReducer=function(Y,Z,$){return Q().useReducer(Y,Z,$)},E.useRef=function(Y){return Q().useRef(Y)},E.useState=function(Y){return Q().useState(Y)},E.version="17.0.2"},7294:(de,E,O)=>{"use strict";de.exports=O(2408)},7069:de=>{"use strict";de.exports=function(O,C,k){var g,b=O.length;if(!(C>=b||k===0)){k=C+k>b?b-C:k;var x=b-k;for(g=C;g<x;++g)O[g]=O[g+k];O.length=x}}},53:(de,E)=>{"use strict";/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O,C,k,g;if(typeof performance=="object"&&typeof performance.now=="function"){var b=performance;E.unstable_now=function(){return b.now()}}else{var x=Date,w=x.now();E.unstable_now=function(){return x.now()-w}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var v=null,m=null,y=function(){if(v!==null)try{var $=E.unstable_now();v(!0,$),v=null}catch(ee){throw setTimeout(y,0),ee}};O=function($){v!==null?setTimeout(O,0,$):(v=$,setTimeout(y,0))},C=function($,ee){m=setTimeout($,ee)},k=function(){clearTimeout(m)},E.unstable_shouldYield=function(){return!1},g=E.unstable_forceFrameRate=function(){}}else{var l=window.setTimeout,o=window.clearTimeout;if(typeof console!="undefined"){var d=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof d!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var f=!1,s=null,p=-1,_=5,S=0;E.unstable_shouldYield=function(){return E.unstable_now()>=S},g=function(){},E.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<$?Math.floor(1e3/$):5};var T=new MessageChannel,M=T.port2;T.port1.onmessage=function(){if(s!==null){var $=E.unstable_now();S=$+_;try{s(!0,$)?M.postMessage(null):(f=!1,s=null)}catch(ee){throw M.postMessage(null),ee}}else f=!1},O=function($){s=$,f||(f=!0,M.postMessage(null))},C=function($,ee){p=l(function(){$(E.unstable_now())},ee)},k=function(){o(p),p=-1}}function L($,ee){var oe=$.length;$.push(ee);e:for(;;){var ge=oe-1>>>1,ve=$[ge];if(ve!==void 0&&0<B(ve,ee))$[ge]=ee,$[oe]=ve,oe=ge;else break e}}function F($){return $=$[0],$===void 0?null:$}function D($){var ee=$[0];if(ee!==void 0){var oe=$.pop();if(oe!==ee){$[0]=oe;e:for(var ge=0,ve=$.length;ge<ve;){var we=2*(ge+1)-1,Se=$[we],_e=we+1,Te=$[_e];if(Se!==void 0&&0>B(Se,oe))Te!==void 0&&0>B(Te,Se)?($[ge]=Te,$[_e]=oe,ge=_e):($[ge]=Se,$[we]=oe,ge=we);else if(Te!==void 0&&0>B(Te,oe))$[ge]=Te,$[_e]=oe,ge=_e;else break e}}return ee}return null}function B($,ee){var oe=$.sortIndex-ee.sortIndex;return oe!==0?oe:$.id-ee.id}var K=[],N=[],V=1,J=null,se=3,ie=!1,ae=!1,W=!1;function Q($){for(var ee=F(N);ee!==null;){if(ee.callback===null)D(N);else if(ee.startTime<=$)D(N),ee.sortIndex=ee.expirationTime,L(K,ee);else break;ee=F(N)}}function H($){if(W=!1,Q($),!ae)if(F(K)!==null)ae=!0,O(Y);else{var ee=F(N);ee!==null&&C(H,ee.startTime-$)}}function Y($,ee){ae=!1,W&&(W=!1,k()),ie=!0;var oe=se;try{for(Q(ee),J=F(K);J!==null&&(!(J.expirationTime>ee)||$&&!E.unstable_shouldYield());){var ge=J.callback;if(typeof ge=="function"){J.callback=null,se=J.priorityLevel;var ve=ge(J.expirationTime<=ee);ee=E.unstable_now(),typeof ve=="function"?J.callback=ve:J===F(K)&&D(K),Q(ee)}else D(K);J=F(K)}if(J!==null)var we=!0;else{var Se=F(N);Se!==null&&C(H,Se.startTime-ee),we=!1}return we}finally{J=null,se=oe,ie=!1}}var Z=g;E.unstable_IdlePriority=5,E.unstable_ImmediatePriority=1,E.unstable_LowPriority=4,E.unstable_NormalPriority=3,E.unstable_Profiling=null,E.unstable_UserBlockingPriority=2,E.unstable_cancelCallback=function($){$.callback=null},E.unstable_continueExecution=function(){ae||ie||(ae=!0,O(Y))},E.unstable_getCurrentPriorityLevel=function(){return se},E.unstable_getFirstCallbackNode=function(){return F(K)},E.unstable_next=function($){switch(se){case 1:case 2:case 3:var ee=3;break;default:ee=se}var oe=se;se=ee;try{return $()}finally{se=oe}},E.unstable_pauseExecution=function(){},E.unstable_requestPaint=Z,E.unstable_runWithPriority=function($,ee){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var oe=se;se=$;try{return ee()}finally{se=oe}},E.unstable_scheduleCallback=function($,ee,oe){var ge=E.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ge+oe:ge):oe=ge,$){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=oe+ve,$={id:V++,callback:ee,priorityLevel:$,startTime:oe,expirationTime:ve,sortIndex:-1},oe>ge?($.sortIndex=oe,L(N,$),F(K)===null&&$===F(N)&&(W?k():W=!0,C(H,oe-ge))):($.sortIndex=ve,L(K,$),ae||ie||(ae=!0,O(Y))),$},E.unstable_wrapCallback=function($){var ee=se;return function(){var oe=se;se=ee;try{return $.apply(this,arguments)}finally{se=oe}}}},3840:(de,E,O)=>{"use strict";de.exports=O(53)},3379:(de,E,O)=>{"use strict";var C=function(){var p;return function(){return typeof p=="undefined"&&(p=Boolean(window&&document&&document.all&&!window.atob)),p}}(),k=function(){var p={};return function(S){if(typeof p[S]=="undefined"){var T=document.querySelector(S);if(window.HTMLIFrameElement&&T instanceof window.HTMLIFrameElement)try{T=T.contentDocument.head}catch(M){T=null}p[S]=T}return p[S]}}(),g=[];function b(s){for(var p=-1,_=0;_<g.length;_++)if(g[_].identifier===s){p=_;break}return p}function x(s,p){for(var _={},S=[],T=0;T<s.length;T++){var M=s[T],L=p.base?M[0]+p.base:M[0],F=_[L]||0,D="".concat(L," ").concat(F);_[L]=F+1;var B=b(D),K={css:M[1],media:M[2],sourceMap:M[3]};B!==-1?(g[B].references++,g[B].updater(K)):g.push({identifier:D,updater:f(K,p),references:1}),S.push(D)}return S}function w(s){var p=document.createElement("style"),_=s.attributes||{};if(typeof _.nonce=="undefined"){var S=O.nc;S&&(_.nonce=S)}if(Object.keys(_).forEach(function(M){p.setAttribute(M,_[M])}),typeof s.insert=="function")s.insert(p);else{var T=k(s.insert||"head");if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");T.appendChild(p)}return p}function v(s){if(s.parentNode===null)return!1;s.parentNode.removeChild(s)}var m=function(){var p=[];return function(S,T){return p[S]=T,p.filter(Boolean).join(`
`)}}();function y(s,p,_,S){var T=_?"":S.media?"@media ".concat(S.media," {").concat(S.css,"}"):S.css;if(s.styleSheet)s.styleSheet.cssText=m(p,T);else{var M=document.createTextNode(T),L=s.childNodes;L[p]&&s.removeChild(L[p]),L.length?s.insertBefore(M,L[p]):s.appendChild(M)}}function l(s,p,_){var S=_.css,T=_.media,M=_.sourceMap;if(T?s.setAttribute("media",T):s.removeAttribute("media"),M&&typeof btoa!="undefined"&&(S+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(M))))," */")),s.styleSheet)s.styleSheet.cssText=S;else{for(;s.firstChild;)s.removeChild(s.firstChild);s.appendChild(document.createTextNode(S))}}var o=null,d=0;function f(s,p){var _,S,T;if(p.singleton){var M=d++;_=o||(o=w(p)),S=y.bind(null,_,M,!1),T=y.bind(null,_,M,!0)}else _=w(p),S=l.bind(null,_,p),T=function(){v(_)};return S(s),function(F){if(F){if(F.css===s.css&&F.media===s.media&&F.sourceMap===s.sourceMap)return;S(s=F)}else T()}}de.exports=function(s,p){p=p||{},!p.singleton&&typeof p.singleton!="boolean"&&(p.singleton=C()),s=s||[];var _=x(s,p);return function(T){if(T=T||[],Object.prototype.toString.call(T)==="[object Array]"){for(var M=0;M<_.length;M++){var L=_[M],F=b(L);g[F].references--}for(var D=x(T,p),B=0;B<_.length;B++){var K=_[B],N=b(K);g[N].references===0&&(g[N].updater(),g.splice(N,1))}_=D}}}},2546:(de,E,O)=>{"use strict";E.__esModule=!0;var C=O(5016);Object.keys(C).forEach(function(k){k==="default"||k==="__esModule"||k in E&&E[k]===C[k]||(E[k]=C[k])})},199:(de,E,O)=>{"use strict";var C;C=!0,E.Z=void 0;var k=O(2546),g=m(O(995)),b=m(O(6285)),x=m(O(9455)),w=m(O(4268)),v=m(O(3821));function m(o){return o&&o.__esModule?o:{default:o}}var y={};k.isWeb?y=g.default:k.isWeex?y=b.default:k.isMiniApp?y=x.default:k.isWeChatMiniProgram?y=w.default:k.isByteDanceMicroApp?y=v.default:y=g.default;var l=y;E.Z=l},9455:(de,E,O)=>{"use strict";E.__esModule=!0,E.default=void 0;var C=O(2344),k={SHORT:C.SHORT_DELAY,LONG:C.LONG_DELAY,show:function(x,w){w===void 0&&(w=C.SHORT_DELAY),my.showToast({type:"none",content:x,duration:w})},hide:function(){my.hideToast()}},g=k;E.default=g},3821:(de,E,O)=>{"use strict";E.__esModule=!0,E.default=void 0;var C=O(2344),k={SHORT:C.SHORT_DELAY,LONG:C.LONG_DELAY,show:function(x,w,v){x===void 0&&(x=""),w===void 0&&(w=C.SHORT_DELAY),v===void 0&&(v={}),tt.showToast(Object.assign({icon:"none",title:x,duration:w},v))},hide:function(){tt.hideToast()}},g=k;E.default=g},4268:(de,E,O)=>{"use strict";E.__esModule=!0,E.default=void 0;var C=O(2344),k={SHORT:C.SHORT_DELAY,LONG:C.LONG_DELAY,show:function(x,w,v){x===void 0&&(x=""),w===void 0&&(w=C.SHORT_DELAY),v===void 0&&(v={}),wx.showToast(Object.assign({icon:"none",title:x,duration:w},v))},hide:function(){wx.hideToast()}},g=k;E.default=g},2344:(de,E)=>{"use strict";E.__esModule=!0,E.SHORT_DELAY=E.LONG_DELAY=void 0;var O=3500;E.LONG_DELAY=O;var C=2e3;E.SHORT_DELAY=C},995:(de,E,O)=>{"use strict";E.__esModule=!0,E.default=void 0;var C=O(2344),k=[],g=!1,b,x={container:{backgroundColor:"rgba(0, 0, 0, 0.6)",boxSizing:"border-box",maxWidth:"80%",color:"#ffffff",padding:"8px 16px",position:"fixed",left:"50%",bottom:"50%",fontSize:"16px",lineHeight:"32px",fontWeight:"600",borderRadius:"4px",textAlign:"center",transition:"all 0.4s ease-in-out",webkitTransition:"all 0.4s ease-in-out",transform:"translateX(-50%)",webkitTransform:"translateX(-50%)",zIndex:9999}};function w(o){if(!b){b=document.createElement("div"),b.setAttribute("role","alert"),b.setAttribute("tabindex","-1");for(var d in x.container)b.style[d]=x.container[d];document.body.appendChild(b)}b.textContent=o,b.style.transform="translateX(-50%)",b.style.webkitTransform="translateX(-50%)"}function v(){setTimeout(function(){b&&b.style&&(b.style.transform="translateX(-50%) scale(0.8)",b.style.webkitTransform="translateX(-50%) scale(0.8)")},0)}var m={hideTimer:null,show:function(){if(!k.length){b&&b.parentNode.removeChild(b),b=null;return}if(!g){g=!0;var d=k.shift();w(d.message),m.hideTimer=setTimeout(function(){return m.switchToNext()},d.duration)}},push:function(d,f){k.push({message:d,duration:f}),m.show()},switchToNext:function(){v(),g=!1,setTimeout(function(){return m.show()},500),m.hideTimer&&(clearTimeout(m.hideTimer),m.hideTimer=null)}},y={SHORT:C.SHORT_DELAY,LONG:C.LONG_DELAY,show:function(d,f){f===void 0&&(f=C.SHORT_DELAY),m.push(d,f)},hide:function(){k=[],m.switchToNext()}},l=y;E.default=l},6285:(de,E,O)=>{"use strict";E.__esModule=!0,E.default=void 0;var C=O(2344),k={SHORT:C.SHORT_DELAY,LONG:C.LONG_DELAY,show:function(x,w){w===void 0&&(w=C.SHORT_DELAY);var v=weex.requireModule("modal");v.toast&&v.toast({message:x,duration:Number(w)/1e3})},hide:function(){console.error("hide toast not supported yet")}},g=k;E.default=g},2511:function(de,E,O){de=O.nmd(de);var C;/*! https://mths.be/punycode v1.3.2 by @mathias */(function(k){var g=E&&!E.nodeType&&E,b=de&&!de.nodeType&&de,x=typeof O.g=="object"&&O.g;(x.global===x||x.window===x||x.self===x)&&(k=x);var w,v=2147483647,m=36,y=1,l=26,o=38,d=700,f=72,s=128,p="-",_=/^xn--/,S=/[^\x20-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=m-y,F=Math.floor,D=String.fromCharCode,B;function K($){throw RangeError(M[$])}function N($,ee){for(var oe=$.length,ge=[];oe--;)ge[oe]=ee($[oe]);return ge}function V($,ee){var oe=$.split("@"),ge="";oe.length>1&&(ge=oe[0]+"@",$=oe[1]),$=$.replace(T,".");var ve=$.split("."),we=N(ve,ee).join(".");return ge+we}function J($){for(var ee=[],oe=0,ge=$.length,ve,we;oe<ge;)ve=$.charCodeAt(oe++),ve>=55296&&ve<=56319&&oe<ge?(we=$.charCodeAt(oe++),(we&64512)==56320?ee.push(((ve&1023)<<10)+(we&1023)+65536):(ee.push(ve),oe--)):ee.push(ve);return ee}function se($){return N($,function(ee){var oe="";return ee>65535&&(ee-=65536,oe+=D(ee>>>10&1023|55296),ee=56320|ee&1023),oe+=D(ee),oe}).join("")}function ie($){return $-48<10?$-22:$-65<26?$-65:$-97<26?$-97:m}function ae($,ee){return $+22+75*($<26)-((ee!=0)<<5)}function W($,ee,oe){var ge=0;for($=oe?F($/d):$>>1,$+=F($/ee);$>L*l>>1;ge+=m)$=F($/L);return F(ge+(L+1)*$/($+o))}function Q($){var ee=[],oe=$.length,ge,ve=0,we=s,Se=f,_e,Te,Ce,We,Fe,Ge,ze,Ae,ke;for(_e=$.lastIndexOf(p),_e<0&&(_e=0),Te=0;Te<_e;++Te)$.charCodeAt(Te)>=128&&K("not-basic"),ee.push($.charCodeAt(Te));for(Ce=_e>0?_e+1:0;Ce<oe;){for(We=ve,Fe=1,Ge=m;Ce>=oe&&K("invalid-input"),ze=ie($.charCodeAt(Ce++)),(ze>=m||ze>F((v-ve)/Fe))&&K("overflow"),ve+=ze*Fe,Ae=Ge<=Se?y:Ge>=Se+l?l:Ge-Se,!(ze<Ae);Ge+=m)ke=m-Ae,Fe>F(v/ke)&&K("overflow"),Fe*=ke;ge=ee.length+1,Se=W(ve-We,ge,We==0),F(ve/ge)>v-we&&K("overflow"),we+=F(ve/ge),ve%=ge,ee.splice(ve++,0,we)}return se(ee)}function H($){var ee,oe,ge,ve,we,Se,_e,Te,Ce,We,Fe,Ge=[],ze,Ae,ke,He;for($=J($),ze=$.length,ee=s,oe=0,we=f,Se=0;Se<ze;++Se)Fe=$[Se],Fe<128&&Ge.push(D(Fe));for(ge=ve=Ge.length,ve&&Ge.push(p);ge<ze;){for(_e=v,Se=0;Se<ze;++Se)Fe=$[Se],Fe>=ee&&Fe<_e&&(_e=Fe);for(Ae=ge+1,_e-ee>F((v-oe)/Ae)&&K("overflow"),oe+=(_e-ee)*Ae,ee=_e,Se=0;Se<ze;++Se)if(Fe=$[Se],Fe<ee&&++oe>v&&K("overflow"),Fe==ee){for(Te=oe,Ce=m;We=Ce<=we?y:Ce>=we+l?l:Ce-we,!(Te<We);Ce+=m)He=Te-We,ke=m-We,Ge.push(D(ae(We+He%ke,0))),Te=F(He/ke);Ge.push(D(ae(Te,0))),we=W(oe,Ae,ge==ve),oe=0,++ge}++oe,++ee}return Ge.join("")}function Y($){return V($,function(ee){return _.test(ee)?Q(ee.slice(4).toLowerCase()):ee})}function Z($){return V($,function(ee){return S.test(ee)?"xn--"+H(ee):ee})}w={version:"1.3.2",ucs2:{decode:J,encode:se},decode:Q,encode:H,toASCII:Z,toUnicode:Y},C=function(){return w}.call(E,O,E,de),C!==void 0&&(de.exports=C)})(this)},8575:(de,E,O)=>{"use strict";var C=O(2511),k=O(2502);E.parse=M,E.resolve=F,E.resolveObject=D,E.format=L,E.Url=g;function g(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var b=/^([a-z0-9.+-]+:)/i,x=/:[0-9]*$/,w=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,v=["<",">",'"',"`"," ","\r",`
`,"	"],m=["{","}","|","\\","^","`"].concat(v),y=["'"].concat(m),l=["%","/","?",";","#"].concat(y),o=["/","?","#"],d=255,f=/^[+a-z0-9A-Z_-]{0,63}$/,s=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},S={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},T=O(7673);function M(B,K,N){if(B&&k.isObject(B)&&B instanceof g)return B;var V=new g;return V.parse(B,K,N),V}g.prototype.parse=function(B,K,N){if(!k.isString(B))throw new TypeError("Parameter 'url' must be a string, not "+typeof B);var V=B.indexOf("?"),J=V!==-1&&V<B.indexOf("#")?"?":"#",se=B.split(J),ie=/\\/g;se[0]=se[0].replace(ie,"/"),B=se.join(J);var ae=B;if(ae=ae.trim(),!N&&B.split("#").length===1){var W=w.exec(ae);if(W)return this.path=ae,this.href=ae,this.pathname=W[1],W[2]?(this.search=W[2],K?this.query=T.parse(this.search.substr(1)):this.query=this.search.substr(1)):K&&(this.search="",this.query={}),this}var Q=b.exec(ae);if(Q){Q=Q[0];var H=Q.toLowerCase();this.protocol=H,ae=ae.substr(Q.length)}if(N||Q||ae.match(/^\/\/[^@\/]+@[^@\/]+/)){var Y=ae.substr(0,2)==="//";Y&&!(Q&&_[Q])&&(ae=ae.substr(2),this.slashes=!0)}if(!_[Q]&&(Y||Q&&!S[Q])){for(var Z=-1,$=0;$<o.length;$++){var ee=ae.indexOf(o[$]);ee!==-1&&(Z===-1||ee<Z)&&(Z=ee)}var oe,ge;Z===-1?ge=ae.lastIndexOf("@"):ge=ae.lastIndexOf("@",Z),ge!==-1&&(oe=ae.slice(0,ge),ae=ae.slice(ge+1),this.auth=decodeURIComponent(oe)),Z=-1;for(var $=0;$<l.length;$++){var ee=ae.indexOf(l[$]);ee!==-1&&(Z===-1||ee<Z)&&(Z=ee)}Z===-1&&(Z=ae.length),this.host=ae.slice(0,Z),ae=ae.slice(Z),this.parseHost(),this.hostname=this.hostname||"";var ve=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ve)for(var we=this.hostname.split(/\./),$=0,Se=we.length;$<Se;$++){var _e=we[$];if(!!_e&&!_e.match(f)){for(var Te="",Ce=0,We=_e.length;Ce<We;Ce++)_e.charCodeAt(Ce)>127?Te+="x":Te+=_e[Ce];if(!Te.match(f)){var Fe=we.slice(0,$),Ge=we.slice($+1),ze=_e.match(s);ze&&(Fe.push(ze[1]),Ge.unshift(ze[2])),Ge.length&&(ae="/"+Ge.join(".")+ae),this.hostname=Fe.join(".");break}}}this.hostname.length>d?this.hostname="":this.hostname=this.hostname.toLowerCase(),ve||(this.hostname=C.toASCII(this.hostname));var Ae=this.port?":"+this.port:"",ke=this.hostname||"";this.host=ke+Ae,this.href+=this.host,ve&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),ae[0]!=="/"&&(ae="/"+ae))}if(!p[H])for(var $=0,Se=y.length;$<Se;$++){var He=y[$];if(ae.indexOf(He)!==-1){var $e=encodeURIComponent(He);$e===He&&($e=escape(He)),ae=ae.split(He).join($e)}}var gt=ae.indexOf("#");gt!==-1&&(this.hash=ae.substr(gt),ae=ae.slice(0,gt));var ft=ae.indexOf("?");if(ft!==-1?(this.search=ae.substr(ft),this.query=ae.substr(ft+1),K&&(this.query=T.parse(this.query)),ae=ae.slice(0,ft)):K&&(this.search="",this.query={}),ae&&(this.pathname=ae),S[H]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Ae=this.pathname||"",Mt=this.search||"";this.path=Ae+Mt}return this.href=this.format(),this};function L(B){return k.isString(B)&&(B=M(B)),B instanceof g?B.format():g.prototype.format.call(B)}g.prototype.format=function(){var B=this.auth||"";B&&(B=encodeURIComponent(B),B=B.replace(/%3A/i,":"),B+="@");var K=this.protocol||"",N=this.pathname||"",V=this.hash||"",J=!1,se="";this.host?J=B+this.host:this.hostname&&(J=B+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(J+=":"+this.port)),this.query&&k.isObject(this.query)&&Object.keys(this.query).length&&(se=T.stringify(this.query));var ie=this.search||se&&"?"+se||"";return K&&K.substr(-1)!==":"&&(K+=":"),this.slashes||(!K||S[K])&&J!==!1?(J="//"+(J||""),N&&N.charAt(0)!=="/"&&(N="/"+N)):J||(J=""),V&&V.charAt(0)!=="#"&&(V="#"+V),ie&&ie.charAt(0)!=="?"&&(ie="?"+ie),N=N.replace(/[?#]/g,function(ae){return encodeURIComponent(ae)}),ie=ie.replace("#","%23"),K+J+N+ie+V};function F(B,K){return M(B,!1,!0).resolve(K)}g.prototype.resolve=function(B){return this.resolveObject(M(B,!1,!0)).format()};function D(B,K){return B?M(B,!1,!0).resolveObject(K):K}g.prototype.resolveObject=function(B){if(k.isString(B)){var K=new g;K.parse(B,!1,!0),B=K}for(var N=new g,V=Object.keys(this),J=0;J<V.length;J++){var se=V[J];N[se]=this[se]}if(N.hash=B.hash,B.href==="")return N.href=N.format(),N;if(B.slashes&&!B.protocol){for(var ie=Object.keys(B),ae=0;ae<ie.length;ae++){var W=ie[ae];W!=="protocol"&&(N[W]=B[W])}return S[N.protocol]&&N.hostname&&!N.pathname&&(N.path=N.pathname="/"),N.href=N.format(),N}if(B.protocol&&B.protocol!==N.protocol){if(!S[B.protocol]){for(var Q=Object.keys(B),H=0;H<Q.length;H++){var Y=Q[H];N[Y]=B[Y]}return N.href=N.format(),N}if(N.protocol=B.protocol,!B.host&&!_[B.protocol]){for(var Se=(B.pathname||"").split("/");Se.length&&!(B.host=Se.shift()););B.host||(B.host=""),B.hostname||(B.hostname=""),Se[0]!==""&&Se.unshift(""),Se.length<2&&Se.unshift(""),N.pathname=Se.join("/")}else N.pathname=B.pathname;if(N.search=B.search,N.query=B.query,N.host=B.host||"",N.auth=B.auth,N.hostname=B.hostname||B.host,N.port=B.port,N.pathname||N.search){var Z=N.pathname||"",$=N.search||"";N.path=Z+$}return N.slashes=N.slashes||B.slashes,N.href=N.format(),N}var ee=N.pathname&&N.pathname.charAt(0)==="/",oe=B.host||B.pathname&&B.pathname.charAt(0)==="/",ge=oe||ee||N.host&&B.pathname,ve=ge,we=N.pathname&&N.pathname.split("/")||[],Se=B.pathname&&B.pathname.split("/")||[],_e=N.protocol&&!S[N.protocol];if(_e&&(N.hostname="",N.port=null,N.host&&(we[0]===""?we[0]=N.host:we.unshift(N.host)),N.host="",B.protocol&&(B.hostname=null,B.port=null,B.host&&(Se[0]===""?Se[0]=B.host:Se.unshift(B.host)),B.host=null),ge=ge&&(Se[0]===""||we[0]==="")),oe)N.host=B.host||B.host===""?B.host:N.host,N.hostname=B.hostname||B.hostname===""?B.hostname:N.hostname,N.search=B.search,N.query=B.query,we=Se;else if(Se.length)we||(we=[]),we.pop(),we=we.concat(Se),N.search=B.search,N.query=B.query;else if(!k.isNullOrUndefined(B.search)){if(_e){N.hostname=N.host=we.shift();var Te=N.host&&N.host.indexOf("@")>0?N.host.split("@"):!1;Te&&(N.auth=Te.shift(),N.host=N.hostname=Te.shift())}return N.search=B.search,N.query=B.query,(!k.isNull(N.pathname)||!k.isNull(N.search))&&(N.path=(N.pathname?N.pathname:"")+(N.search?N.search:"")),N.href=N.format(),N}if(!we.length)return N.pathname=null,N.search?N.path="/"+N.search:N.path=null,N.href=N.format(),N;for(var Ce=we.slice(-1)[0],We=(N.host||B.host||we.length>1)&&(Ce==="."||Ce==="..")||Ce==="",Fe=0,Ge=we.length;Ge>=0;Ge--)Ce=we[Ge],Ce==="."?we.splice(Ge,1):Ce===".."?(we.splice(Ge,1),Fe++):Fe&&(we.splice(Ge,1),Fe--);if(!ge&&!ve)for(;Fe--;Fe)we.unshift("..");ge&&we[0]!==""&&(!we[0]||we[0].charAt(0)!=="/")&&we.unshift(""),We&&we.join("/").substr(-1)!=="/"&&we.push("");var ze=we[0]===""||we[0]&&we[0].charAt(0)==="/";if(_e){N.hostname=N.host=ze?"":we.length?we.shift():"";var Te=N.host&&N.host.indexOf("@")>0?N.host.split("@"):!1;Te&&(N.auth=Te.shift(),N.host=N.hostname=Te.shift())}return ge=ge||N.host&&we.length,ge&&!ze&&we.unshift(""),we.length?N.pathname=we.join("/"):(N.pathname=null,N.path=null),(!k.isNull(N.pathname)||!k.isNull(N.search))&&(N.path=(N.pathname?N.pathname:"")+(N.search?N.search:"")),N.auth=B.auth||N.auth,N.slashes=N.slashes||B.slashes,N.href=N.format(),N},g.prototype.parseHost=function(){var B=this.host,K=x.exec(B);K&&(K=K[0],K!==":"&&(this.port=K.substr(1)),B=B.substr(0,B.length-K.length)),B&&(this.hostname=B)}},2502:de=>{"use strict";de.exports={isString:function(E){return typeof E=="string"},isObject:function(E){return typeof E=="object"&&E!==null},isNull:function(E){return E===null},isNullOrUndefined:function(E){return E==null}}}},dc={};function pt(de){var E=dc[de];if(E!==void 0)return E.exports;var O=dc[de]={id:de,loaded:!1,exports:{}};return Oc[de].call(O.exports,O,O.exports,pt),O.loaded=!0,O.exports}(()=>{pt.n=de=>{var E=de&&de.__esModule?()=>de.default:()=>de;return pt.d(E,{a:E}),E}})(),(()=>{pt.d=(de,E)=>{for(var O in E)pt.o(E,O)&&!pt.o(de,O)&&Object.defineProperty(de,O,{enumerable:!0,get:E[O]})}})(),(()=>{pt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(de){if(typeof window=="object")return window}}()})(),(()=>{pt.o=(de,E)=>Object.prototype.hasOwnProperty.call(de,E)})(),(()=>{pt.r=de=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(de,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(de,"__esModule",{value:!0})}})(),(()=>{pt.nmd=de=>(de.paths=[],de.children||(de.children=[]),de)})();var zc={};(()=>{"use strict";var de=pt(7294),E=pt(3935),O=pt(6729),C=pt.n(O);const g=new O.EventEmitter;class b extends C(){constructor(n){super();this.url=n,this.ws=new WebSocket(n),this.ws.onmessage=t=>{const i=t.data,h=JSON.parse(i);this.emit(h.type,h),this.tempPlayer&&this.tempPlayer.emit(h.type,h)}}registerPlayer(n){this.tempPlayer=n}releasePlayer(){this.tempPlayer.removeAllListeners(),this.tempPlayer=void 0}on(n,t){return super.on(n,t)}once(n,t){return super.once(n,t)}send(n){this.ws.send(JSON.stringify(n))}onceOrError(n){return new Promise((t,i)=>{const h=c=>{this.off(n,h),this.off("error",h),c.type==="error"?i(c):t(c)};this.once(n,h),this.once("error",h)})}}var x=pt(199),w=(a,n,t)=>new Promise((i,h)=>{var c=G=>{try{U(t.next(G))}catch(A){h(A)}},P=G=>{try{U(t.throw(G))}catch(A){h(A)}},U=G=>G.done?i(G.value):Promise.resolve(G.value).then(c,P);U((t=t.apply(a,n)).next())});class v{constructor(){this.active=!1}init(n,t,i){return new Promise(h=>{this.socket=new b(`wss://www.anxyser.xyz/qianserver?name=${encodeURIComponent(n)}&tel=${i}&time=${t}`),this.socket.ws.onclose=c=>{x.Z.show(c.reason),h(!1)},this.socket.once("init",c=>{const{id:P,userCount:U,homeCount:G}=c.data;this.userCount=U,this.homeCount=G,this.id=P,this.active=!0,this.name=n,this.time=t,h(!0)})})}wantHomeList(){return w(this,null,function*(){return this.socket.send({type:"list",data:{from:0,to:10}}),this.socket.onceOrError("list")})}wantJoinHome(n){return w(this,null,function*(){return this.socket.send({type:"in",data:{token:n,maxSize:2,lock:!1}}),this.socket.onceOrError("home")})}wantRankList(n=0,t=20){return w(this,null,function*(){this.socket.send({type:"rank",data:{from:n,to:t}});const i=yield this.socket.onceOrError("rank");let h=n;for(const c of i.data.list)c.index=++h;return i})}want(n){return w(this,null,function*(){return this.socket.send(n),this.socket.onceOrError(n.type)})}wantWatch(n){return w(this,null,function*(){return yield this.want({type:"watch",data:{token:n,join:!0}})})}}const m=new v,y=1624,l=innerWidth/innerHeight*1624,o=750,d=innerHeight/innerWidth*1624,f=6e3,s=300,p=.5,_={isStatic:!1,restitution:0,frictionAir:0,friction:0,frictionStatic:0};function S(){this.__data__=[],this.size=0}const T=S;function M(a,n){return a===n||a!==a&&n!==n}const L=M;function F(a,n){for(var t=a.length;t--;)if(L(a[t][0],n))return t;return-1}const D=F;var B=Array.prototype,K=B.splice;function N(a){var n=this.__data__,t=D(n,a);if(t<0)return!1;var i=n.length-1;return t==i?n.pop():K.call(n,t,1),--this.size,!0}const V=N;function J(a){var n=this.__data__,t=D(n,a);return t<0?void 0:n[t][1]}const se=J;function ie(a){return D(this.__data__,a)>-1}const ae=ie;function W(a,n){var t=this.__data__,i=D(t,a);return i<0?(++this.size,t.push([a,n])):t[i][1]=n,this}const Q=W;function H(a){var n=-1,t=a==null?0:a.length;for(this.clear();++n<t;){var i=a[n];this.set(i[0],i[1])}}H.prototype.clear=T,H.prototype.delete=V,H.prototype.get=se,H.prototype.has=ae,H.prototype.set=Q;const Y=H;function Z(){this.__data__=new Y,this.size=0}const $=Z;function ee(a){var n=this.__data__,t=n.delete(a);return this.size=n.size,t}const oe=ee;function ge(a){return this.__data__.get(a)}const ve=ge;function we(a){return this.__data__.has(a)}const Se=we;var _e=typeof global=="object"&&global&&global.Object===Object&&global;const Te=_e;var Ce=typeof self=="object"&&self&&self.Object===Object&&self,We=Te||Ce||Function("return this")();const Fe=We;var Ge=Fe.Symbol;const ze=Ge;var Ae=Object.prototype,ke=Ae.hasOwnProperty,He=Ae.toString,$e=ze?ze.toStringTag:void 0;function gt(a){var n=ke.call(a,$e),t=a[$e];try{a[$e]=void 0;var i=!0}catch(c){}var h=He.call(a);return i&&(n?a[$e]=t:delete a[$e]),h}const ft=gt;var Mt=Object.prototype,jt=Mt.toString;function vt(a){return jt.call(a)}const Dr=vt;var Wn="[object Null]",Lr="[object Undefined]",yn=ze?ze.toStringTag:void 0;function Xn(a){return a==null?a===void 0?Lr:Wn:yn&&yn in Object(a)?ft(a):Dr(a)}const At=Xn;function mi(a){var n=typeof a;return a!=null&&(n=="object"||n=="function")}const Tr=mi;var Zs="[object AsyncFunction]",Js="[object Function]",ya="[object GeneratorFunction]",qs="[object Proxy]";function _a(a){if(!Tr(a))return!1;var n=At(a);return n==Js||n==ya||n==Zs||n==qs}const gi=_a;var eu=Fe["__core-js_shared__"];const _n=eu;var Hn=function(){var a=/[^.]+$/.exec(_n&&_n.keys&&_n.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();function Bl(a){return!!Hn&&Hn in a}const tu=Bl;var ru=Function.prototype,Ul=ru.toString;function xa(a){if(a!=null){try{return Ul.call(a)}catch(n){}try{return a+""}catch(n){}}return""}const Fr=xa;var wa=/[\\^$.*+?()[\]{}|]/g,Ta=/^\[object .+?Constructor\]$/,zn=Function.prototype,Vn=Object.prototype,nu=zn.toString,iu=Vn.hasOwnProperty,ou=RegExp("^"+nu.call(iu).replace(wa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Sa(a){if(!Tr(a)||tu(a))return!1;var n=gi(a)?ou:Ta;return n.test(Fr(a))}const au=Sa;function Ea(a,n){return a==null?void 0:a[n]}const su=Ea;function xn(a,n){var t=su(a,n);return au(t)?t:void 0}const Jr=xn;var Pa=Jr(Fe,"Map");const yi=Pa;var _i=Jr(Object,"create");const wn=_i;function xi(){this.__data__=wn?wn(null):{},this.size=0}const Gl=xi;function wi(a){var n=this.has(a)&&delete this.__data__[a];return this.size-=n?1:0,n}const po=wi;var vo="__lodash_hash_undefined__",Ma=Object.prototype,Wl=Ma.hasOwnProperty;function Xl(a){var n=this.__data__;if(wn){var t=n[a];return t===vo?void 0:t}return Wl.call(n,a)?n[a]:void 0}const Hl=Xl;var Tn=Object.prototype,uu=Tn.hasOwnProperty;function lu(a){var n=this.__data__;return wn?n[a]!==void 0:uu.call(n,a)}const zl=lu;var fu="__lodash_hash_undefined__";function cu(a,n){var t=this.__data__;return this.size+=this.has(a)?0:1,t[a]=wn&&n===void 0?fu:n,this}const hu=cu;function qr(a){var n=-1,t=a==null?0:a.length;for(this.clear();++n<t;){var i=a[n];this.set(i[0],i[1])}}qr.prototype.clear=Gl,qr.prototype.delete=po,qr.prototype.get=Hl,qr.prototype.has=zl,qr.prototype.set=hu;const ba=qr;function du(){this.size=0,this.__data__={hash:new ba,map:new(yi||Y),string:new ba}}const Oa=du;function Sr(a){var n=typeof a;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?a!=="__proto__":a===null}const en=Sr;function tn(a,n){var t=a.__data__;return en(n)?t[typeof n=="string"?"string":"hash"]:t.map}const dr=tn;function Ti(a){var n=dr(this,a).delete(a);return this.size-=n?1:0,n}const Si=Ti;function Ei(a){return dr(this,a).get(a)}const pu=Ei;function Ra(a){return dr(this,a).has(a)}const vu=Ra;function Pi(a,n){var t=dr(this,a),i=t.size;return t.set(a,n),this.size+=t.size==i?0:1,this}const Vl=Pi;function Yn(a){var n=-1,t=a==null?0:a.length;for(this.clear();++n<t;){var i=a[n];this.set(i[0],i[1])}}Yn.prototype.clear=Oa,Yn.prototype.delete=Si,Yn.prototype.get=pu,Yn.prototype.has=vu,Yn.prototype.set=Vl;const Mi=Yn;var mu=200;function Yl(a,n){var t=this.__data__;if(t instanceof Y){var i=t.__data__;if(!yi||i.length<mu-1)return i.push([a,n]),this.size=++t.size,this;t=this.__data__=new Mi(i)}return t.set(a,n),this.size=t.size,this}const bi=Yl;function Sn(a){var n=this.__data__=new Y(a);this.size=n.size}Sn.prototype.clear=$,Sn.prototype.delete=oe,Sn.prototype.get=ve,Sn.prototype.has=Se,Sn.prototype.set=bi;const jn=Sn;var Kn="__lodash_hash_undefined__";function Ca(a){return this.__data__.set(a,Kn),this}const gu=Ca;function mo(a){return this.__data__.has(a)}const yu=mo;function Oi(a){var n=-1,t=a==null?0:a.length;for(this.__data__=new Mi;++n<t;)this.add(a[n])}Oi.prototype.add=Oi.prototype.push=gu,Oi.prototype.has=yu;const _u=Oi;function xu(a,n){for(var t=-1,i=a==null?0:a.length;++t<i;)if(n(a[t],t,a))return!0;return!1}const wu=xu;function Aa(a,n){return a.has(n)}const jl=Aa;var Ia=1,Kl=2;function mt(a,n,t,i,h,c){var P=t&Ia,U=a.length,G=n.length;if(U!=G&&!(P&&G>U))return!1;var A=c.get(a),X=c.get(n);if(A&&X)return A==n&&X==a;var I=-1,j=!0,re=t&Kl?new _u:void 0;for(c.set(a,n),c.set(n,a);++I<U;){var q=a[I],ce=n[I];if(i)var he=P?i(ce,q,I,n,a,c):i(q,ce,I,a,n,c);if(he!==void 0){if(he)continue;j=!1;break}if(re){if(!wu(n,function(ne,le){if(!jl(re,le)&&(q===ne||h(q,ne,t,i,c)))return re.push(le)})){j=!1;break}}else if(!(q===ce||h(q,ce,t,i,c))){j=!1;break}}return c.delete(a),c.delete(n),j}const En=mt;var $l=Fe.Uint8Array;const Tu=$l;function Ri(a){var n=-1,t=Array(a.size);return a.forEach(function(i,h){t[++n]=[h,i]}),t}const Su=Ri;function go(a){var n=-1,t=Array(a.size);return a.forEach(function(i){t[++n]=i}),t}const $n=go;var Da=1,yo=2,rn="[object Boolean]",Ql="[object Date]",Zl="[object Error]",Jl="[object Map]",ql="[object Number]",ef="[object RegExp]",_o="[object Set]",tf="[object String]",rf="[object Symbol]",La="[object ArrayBuffer]",Fa="[object DataView]",kr=ze?ze.prototype:void 0,Ci=kr?kr.valueOf:void 0;function xo(a,n,t,i,h,c,P){switch(t){case Fa:if(a.byteLength!=n.byteLength||a.byteOffset!=n.byteOffset)return!1;a=a.buffer,n=n.buffer;case La:return!(a.byteLength!=n.byteLength||!c(new Tu(a),new Tu(n)));case rn:case Ql:case ql:return L(+a,+n);case Zl:return a.name==n.name&&a.message==n.message;case ef:case tf:return a==n+"";case Jl:var U=Su;case _o:var G=i&Da;if(U||(U=$n),a.size!=n.size&&!G)return!1;var A=P.get(a);if(A)return A==n;i|=yo,P.set(a,n);var X=En(U(a),U(n),i,h,c,P);return P.delete(a),X;case rf:if(Ci)return Ci.call(a)==Ci.call(n)}return!1}const Eu=xo;function wo(a,n){for(var t=-1,i=n.length,h=a.length;++t<i;)a[h+t]=n[t];return a}const To=wo;var Pu=Array.isArray;const Ut=Pu;function Qn(a,n,t){var i=n(a);return Ut(a)?i:To(i,t(a))}const ka=Qn;function Ai(a,n){for(var t=-1,i=a==null?0:a.length,h=0,c=[];++t<i;){var P=a[t];n(P,t,a)&&(c[h++]=P)}return c}const nf=Ai;function Na(){return[]}const Ba=Na;var Ii=Object.prototype,So=Ii.propertyIsEnumerable,Ua=Object.getOwnPropertySymbols,of=Ua?function(a){return a==null?[]:(a=Object(a),nf(Ua(a),function(n){return So.call(a,n)}))}:Ba;const af=of;function sf(a,n){for(var t=-1,i=Array(a);++t<a;)i[t]=n(t);return i}const Ga=sf;function uf(a){return a!=null&&typeof a=="object"}const Di=uf;var lf="[object Arguments]";function ff(a){return Di(a)&&At(a)==lf}const Mu=ff;var Wa=Object.prototype,cf=Wa.hasOwnProperty,hf=Wa.propertyIsEnumerable,df=Mu(function(){return arguments}())?Mu:function(a){return Di(a)&&cf.call(a,"callee")&&!hf.call(a,"callee")};const pf=df;function Xa(){return!1}const vf=Xa;var bu=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ou=bu&&typeof module=="object"&&module&&!module.nodeType&&module,Ru=Ou&&Ou.exports===bu,Cu=Ru?Fe.Buffer:void 0,mf=Cu?Cu.isBuffer:void 0,gf=mf||vf;const Ha=gf;var yf=9007199254740991,_f=/^(?:0|[1-9]\d*)$/;function xf(a,n){var t=typeof a;return n=n??yf,!!n&&(t=="number"||t!="symbol"&&_f.test(a))&&a>-1&&a%1==0&&a<n}const za=xf;var Li=9007199254740991;function wf(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=Li}const Va=wf;var Au="[object Arguments]",Iu="[object Array]",Du="[object Boolean]",Lu="[object Date]",Zn="[object Error]",Tf="[object Function]",Sf="[object Map]",Ef="[object Number]",Fu="[object Object]",ku="[object RegExp]",Fi="[object Set]",ki="[object String]",Pf="[object WeakMap]",Eo="[object ArrayBuffer]",Mf="[object DataView]",Nu="[object Float32Array]",Ya="[object Float64Array]",ja="[object Int8Array]",Bu="[object Int16Array]",Uu="[object Int32Array]",Gu="[object Uint8Array]",bf="[object Uint8ClampedArray]",Of="[object Uint16Array]",Rf="[object Uint32Array]",yt={};yt[Nu]=yt[Ya]=yt[ja]=yt[Bu]=yt[Uu]=yt[Gu]=yt[bf]=yt[Of]=yt[Rf]=!0,yt[Au]=yt[Iu]=yt[Eo]=yt[Du]=yt[Mf]=yt[Lu]=yt[Zn]=yt[Tf]=yt[Sf]=yt[Ef]=yt[Fu]=yt[ku]=yt[Fi]=yt[ki]=yt[Pf]=!1;function Cf(a){return Di(a)&&Va(a.length)&&!!yt[At(a)]}const ar=Cf;function Af(a){return function(n){return a(n)}}const Ni=Af;var Ka=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Jn=Ka&&typeof module=="object"&&module&&!module.nodeType&&module,Wu=Jn&&Jn.exports===Ka,Po=Wu&&Te.process,$a=function(){try{var a=Jn&&Jn.require&&Jn.require("util").types;return a||Po&&Po.binding&&Po.binding("util")}catch(n){}}();const Xu=$a;var Pn=Xu&&Xu.isTypedArray,Qa=Pn?Ni(Pn):ar;const qn=Qa;var Za=Object.prototype,Hu=Za.hasOwnProperty;function zu(a,n){var t=Ut(a),i=!t&&pf(a),h=!t&&!i&&Ha(a),c=!t&&!i&&!h&&qn(a),P=t||i||h||c,U=P?Ga(a.length,String):[],G=U.length;for(var A in a)(n||Hu.call(a,A))&&!(P&&(A=="length"||h&&(A=="offset"||A=="parent")||c&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||za(A,G)))&&U.push(A);return U}const Ja=zu;var Bi=Object.prototype;function Vu(a){var n=a&&a.constructor,t=typeof n=="function"&&n.prototype||Bi;return a===t}const Yu=Vu;function ju(a,n){return function(t){return a(n(t))}}var Ku=ju(Object.keys,Object);const $u=Ku;var Qu=Object.prototype,Zu=Qu.hasOwnProperty;function Ju(a){if(!Yu(a))return $u(a);var n=[];for(var t in Object(a))Zu.call(a,t)&&t!="constructor"&&n.push(t);return n}const Ui=Ju;function Mo(a){return a!=null&&Va(a.length)&&!gi(a)}const ei=Mo;function qu(a){return ei(a)?Ja(a):Ui(a)}const bo=qu;function qa(a){return ka(a,bo,af)}const Oo=qa;var el=1,es=Object.prototype,tl=es.hasOwnProperty;function If(a,n,t,i,h,c){var P=t&el,U=Oo(a),G=U.length,A=Oo(n),X=A.length;if(G!=X&&!P)return!1;for(var I=G;I--;){var j=U[I];if(!(P?j in n:tl.call(n,j)))return!1}var re=c.get(a),q=c.get(n);if(re&&q)return re==n&&q==a;var ce=!0;c.set(a,n),c.set(n,a);for(var he=P;++I<G;){j=U[I];var ne=a[j],le=n[j];if(i)var pe=P?i(le,ne,j,n,a,c):i(ne,le,j,a,n,c);if(!(pe===void 0?ne===le||h(ne,le,t,i,c):pe)){ce=!1;break}he||(he=j=="constructor")}if(ce&&!he){var fe=a.constructor,xe=n.constructor;fe!=xe&&"constructor"in a&&"constructor"in n&&!(typeof fe=="function"&&fe instanceof fe&&typeof xe=="function"&&xe instanceof xe)&&(ce=!1)}return c.delete(a),c.delete(n),ce}const ts=If;var ti=Jr(Fe,"DataView");const Ro=ti;var rs=Jr(Fe,"Promise");const ns=rs;var Co=Jr(Fe,"Set");const Er=Co;var Ao=Jr(Fe,"WeakMap");const nn=Ao;var is="[object Map]",Mn="[object Object]",ri="[object Promise]",bn="[object Set]",Gi="[object WeakMap]",os="[object DataView]",as=Fr(Ro),ni=Fr(yi),on=Fr(ns),_t=Fr(Er),Et=Fr(nn),Kt=At;(Ro&&Kt(new Ro(new ArrayBuffer(1)))!=os||yi&&Kt(new yi)!=is||ns&&Kt(ns.resolve())!=ri||Er&&Kt(new Er)!=bn||nn&&Kt(new nn)!=Gi)&&(Kt=function(a){var n=At(a),t=n==Mn?a.constructor:void 0,i=t?Fr(t):"";if(i)switch(i){case as:return os;case ni:return is;case on:return ri;case _t:return bn;case Et:return Gi}return n});const Lt=Kt;var $t=1,an="[object Arguments]",On="[object Array]",Ft="[object Object]",Io=Object.prototype,ss=Io.hasOwnProperty;function rl(a,n,t,i,h,c){var P=Ut(a),U=Ut(n),G=P?On:Lt(a),A=U?On:Lt(n);G=G==an?Ft:G,A=A==an?Ft:A;var X=G==Ft,I=A==Ft,j=G==A;if(j&&Ha(a)){if(!Ha(n))return!1;P=!0,X=!1}if(j&&!X)return c||(c=new jn),P||qn(a)?En(a,n,t,i,h,c):Eu(a,n,G,t,i,h,c);if(!(t&$t)){var re=X&&ss.call(a,"__wrapped__"),q=I&&ss.call(n,"__wrapped__");if(re||q){var ce=re?a.value():a,he=q?n.value():n;return c||(c=new jn),h(ce,he,t,i,c)}}return j?(c||(c=new jn),ts(a,n,t,i,h,c)):!1}const Do=rl;function us(a,n,t,i,h){return a===n?!0:a==null||n==null||!Di(a)&&!Di(n)?a!==a&&n!==n:Do(a,n,t,i,us,h)}const ls=us;function Rn(a,n){return ls(a,n)}const Lo=Rn;/*!
 * type-signals - v1.1.0
 * https://github.com/englercj/type-signals
 * Compiled Wed, 22 Apr 2020 17:58:58 UTC
 *
 * type-signals is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */var Fo=function(){function a(n,t,i){t===void 0&&(t=!1),this.next=null,this.prev=null,this.owner=null,this.fn=n,this.once=t,this.thisArg=i}return a.prototype.detach=function(){return this.owner===null?!1:(this.owner.detach(this),!0)},a.prototype.dispose=function(){this.detach()},a}(),Ot=function(){function a(){this._head=null,this._tail=null,this._filter=null}return a.prototype.handlers=function(){for(var n=this._head,t=[];n;)t.push(n),n=n.next;return t},a.prototype.hasAny=function(){return!!this._head},a.prototype.has=function(n){return n.owner===this},a.prototype.dispatch=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var i=this._head;if(!i||this._filter&&!this._filter.apply(this,n))return!1;for(;i;)i.once&&this.detach(i),i.fn.apply(i.thisArg,n),i=i.next;return!0},a.prototype.add=function(n,t){return t===void 0&&(t=null),this._addSignalBinding(new Fo(n,!1,t))},a.prototype.once=function(n,t){return t===void 0&&(t=null),this._addSignalBinding(new Fo(n,!0,t))},a.prototype.detach=function(n){var t=n;return t.owner!==this?this:(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._head?(this._head=t.next,t.next===null&&(this._tail=null)):t===this._tail&&(this._tail=t.prev,this._tail&&(this._tail.next=null)),t.owner=null,this)},a.prototype.detachAll=function(){var n=this._head;if(!n)return this;for(this._head=null,this._tail=null;n;)n.owner=null,n=n.next;return this},a.prototype.filter=function(n){this._filter=n},a.prototype.proxy=function(){for(var n=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];for(var h=function(){for(var P=[],U=0;U<arguments.length;U++)P[U]=arguments[U];return n.dispatch.apply(n,P)},c=0;c<t.length;++c)t[c].add(h);return this},a.prototype._addSignalBinding=function(n){var t=n;return this._head?(this._tail&&(this._tail.next=t),t.prev=this._tail,this._tail=t):(this._head=t,this._tail=t),t.owner=this,t},a}(),Df=pt(9571),ko=pt.n(Df);/*!
 * resource-loader - v4.0.0-rc4
 * https://github.com/englercj/resource-loader
 * Compiled Sun, 08 Mar 2020 16:55:29 UTC
 *
 * resource-loader is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */var Wi=function(){function a(n){this.config=n,this.onError=new Ot,this.onComplete=new Ot,this.onProgress=new Ot}return a}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var fs=function(a,n){return fs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var h in i)i.hasOwnProperty(h)&&(t[h]=i[h])},fs(a,n)};function sn(a,n){fs(a,n);function t(){this.constructor=a}a.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}function nl(){for(var a=0,n=0,t=arguments.length;n<t;n++)a+=arguments[n].length;for(var i=Array(a),h=0,n=0;n<t;n++)for(var c=arguments[n],P=0,U=c.length;P<U;P++,h++)i[h]=c[P];return i}function No(a){var n=a.indexOf("data:")===0,t="";if(n){var i=a.indexOf("/");t=a.substring(i+1,a.indexOf(";",i))}else{var h=a.indexOf("?"),c=a.indexOf("#"),P=Math.min(h>-1?h:a.length,c>-1?c:a.length);a=a.substring(0,P),t=a.substring(a.lastIndexOf(".")+1)}return t.toLowerCase()}function cs(a){throw new Error("Unexpected value. Should have been never.")}var Qt;(function(a){a[a.Unknown=0]="Unknown",a[a.Buffer=1]="Buffer",a[a.Blob=2]="Blob",a[a.Json=3]="Json",a[a.Xml=4]="Xml",a[a.Image=5]="Image",a[a.Audio=6]="Audio",a[a.Video=7]="Video",a[a.Text=8]="Text"})(Qt||(Qt={}));var Pr;(function(a){a[a.NotStarted=0]="NotStarted",a[a.Loading=1]="Loading",a[a.Complete=2]="Complete"})(Pr||(Pr={}));var il=function(a){sn(n,a);function n(t,i){var h=a.call(this,t)||this;return h.elementType=i,h._boundOnLoad=h._onLoad.bind(h),h._boundOnError=h._onError.bind(h),h._boundOnTimeout=h._onTimeout.bind(h),h._element=h._createElement(),h._elementTimer=0,h}return n.prototype.load=function(){var t=this.config;t.crossOrigin&&(this._element.crossOrigin=t.crossOrigin);var i=t.sourceSet||[t.url];if(navigator.isCocoonJS)this._element.src=i[0];else for(var h=0;h<i.length;++h){var c=i[h],P=t.mimeTypes?t.mimeTypes[h]:void 0;P||(P=this.elementType+"/"+No(c));var U=document.createElement("source");U.src=c,U.type=P,this._element.appendChild(U)}this._element.addEventListener("load",this._boundOnLoad,!1),this._element.addEventListener("canplaythrough",this._boundOnLoad,!1),this._element.addEventListener("error",this._boundOnError,!1),this._element.load(),t.timeout&&(this._elementTimer=window.setTimeout(this._boundOnTimeout,t.timeout))},n.prototype.abort=function(){for(this._clearEvents();this._element.firstChild;)this._element.removeChild(this._element.firstChild);this._error(this.elementType+" load aborted by the user.")},n.prototype._createElement=function(){return this.config.loadElement?this.config.loadElement:document.createElement(this.elementType)},n.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this._element.removeEventListener("load",this._boundOnLoad,!1),this._element.removeEventListener("canplaythrough",this._boundOnLoad,!1),this._element.removeEventListener("error",this._boundOnError,!1)},n.prototype._error=function(t){this._clearEvents(),this.onError.dispatch(t)},n.prototype._complete=function(){this._clearEvents();var t=Qt.Unknown;switch(this.elementType){case"audio":t=Qt.Audio;break;case"video":t=Qt.Video;break;default:cs(this.elementType)}this.onComplete.dispatch(t,this._element)},n.prototype._onLoad=function(){this._complete()},n.prototype._onError=function(){this._error(this.elementType+" failed to load.")},n.prototype._onTimeout=function(){this._error(this.elementType+" load timed out.")},n}(Wi),pr=function(a){sn(n,a);function n(t){return a.call(this,t,"audio")||this}return n}(il),Bo="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",kt=function(a){sn(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t._boundOnLoad=t._onLoad.bind(t),t._boundOnError=t._onError.bind(t),t._boundOnTimeout=t._onTimeout.bind(t),t._element=t._createElement(),t._elementTimer=0,t}return n.prototype.load=function(){var t=this.config;t.crossOrigin&&(this._element.crossOrigin=t.crossOrigin),this._element.src=t.url,this._element.addEventListener("load",this._boundOnLoad,!1),this._element.addEventListener("error",this._boundOnError,!1),t.timeout&&(this._elementTimer=window.setTimeout(this._boundOnTimeout,t.timeout))},n.prototype.abort=function(){this._clearEvents(),this._element.src=Bo,this._error("Image load aborted by the user.")},n.prototype._createElement=function(){return this.config.loadElement?this.config.loadElement:document.createElement("img")},n.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this._element.removeEventListener("load",this._boundOnLoad,!1),this._element.removeEventListener("error",this._boundOnError,!1)},n.prototype._error=function(t){this._clearEvents(),this.onError.dispatch(t)},n.prototype._complete=function(){this._clearEvents(),this.onComplete.dispatch(Qt.Image,this._element)},n.prototype._onLoad=function(){this._complete()},n.prototype._onError=function(){this._error("Image failed to load.")},n.prototype._onTimeout=function(){this._error("Image load timed out.")},n}(Wi),Xi=function(a){sn(n,a);function n(t){return a.call(this,t,"video")||this}return n}(il),Rt=!!(window.XDomainRequest&&!("withCredentials"in new XMLHttpRequest)),Je;(function(a){a.Default="text",a.Buffer="arraybuffer",a.Blob="blob",a.Document="document",a.Json="json",a.Text="text"})(Je||(Je={}));function Uo(a){return a.toString().replace("object ","")}var It=function(a){sn(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t._boundOnLoad=t._onLoad.bind(t),t._boundOnAbort=t._onAbort.bind(t),t._boundOnError=t._onError.bind(t),t._boundOnTimeout=t._onTimeout.bind(t),t._boundOnProgress=t._onProgress.bind(t),t._xhr=t._createRequest(),t._xhrType=Je.Default,t}return n.prototype.load=function(){var t=this.config,i=No(t.url);typeof t.xhrType!="string"&&(t.xhrType=this._determineXhrType(i));var h=this._xhr;this._xhrType=t.xhrType||Je.Default,Rt?(h.timeout=t.timeout||5e3,h.onload=this._boundOnLoad,h.onerror=this._boundOnError,h.ontimeout=this._boundOnTimeout,h.onprogress=this._boundOnProgress,h.open("GET",t.url,!0),setTimeout(function(){h.send()},0)):(h.open("GET",t.url,!0),t.timeout&&(h.timeout=t.timeout),t.xhrType===Je.Json||t.xhrType===Je.Document?h.responseType=Je.Text:h.responseType=t.xhrType,h.addEventListener("load",this._boundOnLoad,!1),h.addEventListener("abort",this._boundOnAbort,!1),h.addEventListener("error",this._boundOnError,!1),h.addEventListener("timeout",this._boundOnTimeout,!1),h.addEventListener("progress",this._boundOnProgress,!1),h.send())},n.prototype.abort=function(){Rt?(this._clearEvents(),this._xhr.abort(),this._onAbort()):this._xhr.abort()},n.prototype._createRequest=function(){return Rt?new window.XDomainRequest:new XMLHttpRequest},n.prototype._determineXhrType=function(t){return n._xhrTypeMap[t]||Je.Default},n.prototype._clearEvents=function(){Rt?(this._xhr.onload=null,this._xhr.onerror=null,this._xhr.ontimeout=null,this._xhr.onprogress=null):(this._xhr.removeEventListener("load",this._boundOnLoad,!1),this._xhr.removeEventListener("abort",this._boundOnAbort,!1),this._xhr.removeEventListener("error",this._boundOnError,!1),this._xhr.removeEventListener("timeout",this._boundOnTimeout,!1),this._xhr.removeEventListener("progress",this._boundOnProgress,!1))},n.prototype._error=function(t){this._clearEvents(),this.onError.dispatch(t)},n.prototype._complete=function(t,i){this._clearEvents(),this.onComplete.dispatch(t,i)},n.prototype._onLoad=function(){var t=this._xhr,i="",h=typeof t.status=="undefined"?200:t.status;(typeof t.responseType=="undefined"||t.responseType===""||t.responseType==="text")&&(i=t.responseText),h===0&&(i.length>0||t.responseType===Je.Buffer)?h=200:h===1223&&(h=204);var c=Math.floor(h/100)*100;if(c!==200){this._error("["+t.status+"] "+t.statusText+": "+t.responseURL);return}switch(this._xhrType){case Je.Buffer:this._complete(Qt.Buffer,t.response);break;case Je.Blob:this._complete(Qt.Blob,t.response);break;case Je.Document:this._parseDocument(i);break;case Je.Json:this._parseJson(i);break;case Je.Default:case Je.Text:this._complete(Qt.Text,i);break;default:cs(this._xhrType)}},n.prototype._parseDocument=function(t){try{if(window.DOMParser){var i=new DOMParser,h=i.parseFromString(t,"text/xml");this._complete(Qt.Xml,h)}else{var c=document.createElement("div");c.innerHTML=t,this._complete(Qt.Xml,c)}}catch(P){this._error("Error trying to parse loaded xml: "+P)}},n.prototype._parseJson=function(t){try{var i=JSON.parse(t);this._complete(Qt.Json,i)}catch(h){this._error("Error trying to parse loaded json: "+h)}},n.prototype._onAbort=function(){var t=this._xhr;this._error(Uo(t)+" Request was aborted by the user.")},n.prototype._onError=function(){var t=this._xhr;this._error(Uo(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},n.prototype._onTimeout=function(){var t=this._xhr;this._error(Uo(t)+" Request timed out.")},n.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(t.loaded/t.total)},n.setExtensionXhrType=function(t,i){t&&t.indexOf(".")===0&&(t=t.substring(1)),!!t&&(n._xhrTypeMap[t]=i)},n.ResponseType=Je,n._xhrTypeMap={xhtml:Je.Document,html:Je.Document,htm:Je.Document,xml:Je.Document,tmx:Je.Document,svg:Je.Document,tsx:Je.Document,gif:Je.Blob,png:Je.Blob,bmp:Je.Blob,jpg:Je.Blob,jpeg:Je.Blob,tif:Je.Blob,tiff:Je.Blob,webp:Je.Blob,tga:Je.Blob,json:Je.Json,text:Je.Text,txt:Je.Text,ttf:Je.Buffer,otf:Je.Buffer},n}(Wi);function Hi(a){var n=a;return function(){for(var i=[],h=0;h<arguments.length;h++)i[h]=arguments[h];if(n===null)throw new Error("Callback was already called.");var c=n;return n=null,c.apply(this,i)}}var Mr=function(){function a(n,t){if(t===void 0&&(t=1),this.worker=n,this.concurrency=t,this.workers=0,this.buffer=0,this.paused=!1,this._started=!1,this._tasks=[],this.onSaturated=new Ot,this.onUnsaturated=new Ot,this.onEmpty=new Ot,this.onDrain=new Ot,this.onError=new Ot,t===0)throw new Error("Concurrency must not be zero");this.buffer=t/4}return Object.defineProperty(a.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),a.prototype.reset=function(){this.onDrain.detachAll(),this.workers=0,this._started=!1,this._tasks=[]},a.prototype.push=function(n,t){this._insert(n,!1,t)},a.prototype.unshift=function(n,t){this._insert(n,!0,t)},a.prototype.process=function(){for(;!this.paused&&this.workers<this.concurrency&&this._tasks.length;){var n=this._tasks.shift();this._tasks.length===0&&this.onEmpty.dispatch(),this.workers+=1,this.workers===this.concurrency&&this.onSaturated.dispatch(),this.worker(n.data,Hi(this._next(n)))}},a.prototype.length=function(){return this._tasks.length},a.prototype.running=function(){return this.workers},a.prototype.idle=function(){return this._tasks.length+this.workers===0},a.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},a.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var n=1;n<=this.concurrency;n++)this.process()}},a.prototype.getTask=function(n){return this._tasks[n]},a.prototype._insert=function(n,t,i){var h=this;if(i!=null&&typeof i!="function")throw new Error("task callback must be a function");if(this._started=!0,n==null&&this.idle()){setTimeout(function(){return h.onDrain.dispatch()},1);return}var c={data:n,callback:i};t?this._tasks.unshift(c):this._tasks.push(c),setTimeout(function(){return h.process()},1)},a.prototype._next=function(n){var t=this;return function(i){for(var h=[],c=1;c<arguments.length;c++)h[c-1]=arguments[c];t.workers-=1,n.callback&&n.callback.apply(n,nl([i],h)),i&&t.onError.dispatch(i,n.data),t.workers<=t.concurrency-t.buffer&&t.onUnsaturated.dispatch(),t.idle()&&t.onDrain.dispatch(),t.process()}},a}(),ol=function(){function a(n,t){if(this.children=[],this.onStart=new Ot,this.onProgress=new Ot,this.onComplete=new Ot,this.onAfterMiddleware=new Ot,this.data=null,this.type=Qt.Unknown,this.error="",this.progressChunk=0,this._dequeue=function(){},this._onCompleteBinding=null,this._state=Pr.NotStarted,this.name=n,this.metadata=t.metadata,typeof t.crossOrigin!="string"&&(t.crossOrigin=this._determineCrossOrigin(t.url)),t.strategy&&typeof t.strategy!="function")this._strategy=t.strategy,this._strategy.config=t;else{var i=t.strategy;i||(i=a._loadStrategyMap[No(t.url)]),i||(i=a._defaultLoadStrategy),this._strategy=new i(t)}this._strategy.onError.add(this._error,this),this._strategy.onComplete.add(this._complete,this),this._strategy.onProgress.add(this._progress,this)}return a.setDefaultLoadStrategy=function(n){a._defaultLoadStrategy=n},a.setLoadStrategy=function(n,t){n&&n.indexOf(".")===0&&(n=n.substring(1)),!!n&&(a._loadStrategyMap[n]=t)},Object.defineProperty(a.prototype,"strategy",{get:function(){return this._strategy},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"url",{get:function(){return this._strategy.config.url},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isLoading",{get:function(){return this._state===Pr.Loading},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isComplete",{get:function(){return this._state===Pr.Complete},enumerable:!0,configurable:!0}),a.prototype.abort=function(){this._strategy.abort()},a.prototype.load=function(){this._state=Pr.Loading,this.onStart.dispatch(this),this._strategy.load()},a.prototype._error=function(n){this._state=Pr.Complete,this.error=n,this.onComplete.dispatch(this)},a.prototype._complete=function(n,t){this._state=Pr.Complete,this.type=n,this.data=t,this.onComplete.dispatch(this)},a.prototype._progress=function(n){this.onProgress.dispatch(this,n)},a.prototype._determineCrossOrigin=function(n,t){if(t===void 0&&(t=window.location),n.indexOf("data:")===0||n.indexOf("javascript:")===0)return"";if(window.origin!==window.location.origin)return"anonymous";a._tempAnchor||(a._tempAnchor=document.createElement("a")),a._tempAnchor.href=n;var i=ko()(a._tempAnchor.href,{strictMode:!0}),h=!i.port&&t.port===""||i.port===t.port,c=i.protocol?i.protocol+":":"";return i.host!==t.hostname||!h||c!==t.protocol?"anonymous":""},a._tempAnchor=null,a._defaultLoadStrategy=It,a._loadStrategyMap={gif:kt,png:kt,bmp:kt,jpg:kt,jpeg:kt,tif:kt,tiff:kt,webp:kt,tga:kt,svg:kt,"svg+xml":kt,mp3:pr,ogg:pr,wav:pr,mp4:Xi,webm:Xi,mov:Xi},a}();function Lf(a,n,t,i){i===void 0&&(i=!1);var h=0,c=a.length;(function P(U){if(U||h===c){t&&t(U);return}i?setTimeout(function(){return n(a[h++],P)},1):n(a[h++],P)})()}var nr=100,Go=/(#[\w-]+)?$/,Wo=function(){function a(n,t){n===void 0&&(n=""),t===void 0&&(t=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this.resources={},this.onError=new Ot,this.onLoad=new Ot,this.onStart=new Ot,this.onComplete=new Ot,this.onProgress=new Ot,this._baseUrl="",this._urlResolvers=[],this._middleware=[],this._resourcesParsing=[],this._boundLoadResource=this._loadResource.bind(this),this.baseUrl=n,this._queue=new Mr(this._boundLoadResource,t),this._queue.pause(),this._middleware=a._defaultMiddleware.slice()}return Object.defineProperty(a.prototype,"baseUrl",{get:function(){return this._baseUrl},set:function(n){for(;n.length&&n.charAt(n.length-1)==="/";)n=n.slice(0,-1);this._baseUrl=n},enumerable:!0,configurable:!0}),a.prototype.add=function(n,t){if(Array.isArray(n)){for(var i=0;i<n.length;++i)this.add(n[i]);return this}var h="",c="",P=this._baseUrl,U={url:""};if(typeof n=="object"?(h=n.url,c=n.name||n.url,P=n.baseUrl||P,U=n):(c=n,typeof t=="string"?h=t:h=c),!h)throw new Error("You must specify the `url` property.");if(this.loading&&!U.parentResource)throw new Error("Cannot add root resources while the loader is running.");if(this.resources[c])throw new Error('Resource named "'+c+'" already exists.');h=this._prepareUrl(h,P),U.url=h;var G=new ol(c,U);if(this.resources[c]=G,typeof U.onComplete=="function"&&G.onAfterMiddleware.once(U.onComplete),this.loading){for(var A=U.parentResource,X=[],i=0;i<A.children.length;++i)A.children[i].isComplete||X.push(A.children[i]);var I=A.progressChunk*(X.length+1),j=I/(X.length+2);A.children.push(G),A.progressChunk=j;for(var i=0;i<X.length;++i)X[i].progressChunk=j;G.progressChunk=j}return this._queue.push(G),this},a.prototype.use=function(n,t){return t===void 0&&(t=a.DefaultMiddlewarePriority),this._middleware.push({fn:n,priority:t}),this._middleware.sort(function(i,h){return i.priority-h.priority}),this},a.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.reset(),this._queue.pause();for(var n in this.resources){var t=this.resources[n];!t||(t._onCompleteBinding&&t._onCompleteBinding.detach(),t.isLoading&&t.abort())}return this.resources={},this},a.prototype.load=function(n){if(typeof n=="function"&&this.onComplete.once(n),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var t=this._queue.length(),i=nr/t,h=0;h<this._queue.length();++h)this._queue.getTask(h).data.progressChunk=i;this._onStart(),this._queue.resume()}return this},Object.defineProperty(a.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(n){this._queue.concurrency=n},enumerable:!0,configurable:!0}),a.prototype.addUrlResolver=function(n){return this._urlResolvers.push(n),this},a.prototype._prepareUrl=function(n,t){var i=ko()(n,{strictMode:!0});if(this._urlResolvers.forEach(function(P){n=P(n,i),i=ko()(n,{strictMode:!0})}),!i.protocol&&n.indexOf("//")!==0&&(t.length&&n.charAt(0)!=="/"?n=t+"/"+n:n=t+n),this.defaultQueryString){var h=Go.exec(n);if(h){var c=h[0];n=n.substr(0,n.length-c.length),n.indexOf("?")!==-1?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=c}}return n},a.prototype._loadResource=function(n,t){n._dequeue=t,n._onCompleteBinding=n.onComplete.once(this._onLoad,this),n.load()},a.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},a.prototype._onComplete=function(){this.progress=nr,this.loading=!1,this.onComplete.dispatch(this,this.resources)},a.prototype._onLoad=function(n){var t=this;n._onCompleteBinding=null,this._resourcesParsing.push(n),n._dequeue(),Lf(this._middleware,function(i,h){i.fn.call(t,n,h)},function(){n.onAfterMiddleware.dispatch(n),t.progress=Math.min(nr,t.progress+n.progressChunk),t.onProgress.dispatch(t,n),n.error?t.onError.dispatch(n.error,t,n):t.onLoad.dispatch(t,n),t._resourcesParsing.splice(t._resourcesParsing.indexOf(n),1),t._queue.idle()&&t._resourcesParsing.length===0&&t._onComplete()},!0)},a.use=function(n,t){return t===void 0&&(t=a.DefaultMiddlewarePriority),a._defaultMiddleware.push({fn:n,priority:t}),a._defaultMiddleware.sort(function(i,h){return i.priority-h.priority}),a},a.DefaultMiddlewarePriority=50,a._defaultMiddleware=[],a}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var un=function(a,n){return un=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var h in i)i.hasOwnProperty(h)&&(t[h]=i[h])},un(a,n)};function Nr(a,n){un(a,n);function t(){this.constructor=a}a.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}function Br(a,n,t,i){var h=arguments.length,c=h<3?n:i===null?i=Object.getOwnPropertyDescriptor(n,t):i,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(a,n,t,i);else for(var U=a.length-1;U>=0;U--)(P=a[U])&&(c=(h<3?P(c):h>3?P(n,t,c):P(n,t))||c);return h>3&&c&&Object.defineProperty(n,t,c),c}function Ur(a,n,t,i){return new(t||(t=Promise))(function(h,c){function P(A){try{G(i.next(A))}catch(X){c(X)}}function U(A){try{G(i.throw(A))}catch(X){c(X)}}function G(A){A.done?h(A.value):new t(function(X){X(A.value)}).then(P,U)}G((i=i.apply(a,n||[])).next())})}function ln(a,n){var t={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},i,h,c,P;return P={next:U(0),throw:U(1),return:U(2)},typeof Symbol=="function"&&(P[Symbol.iterator]=function(){return this}),P;function U(A){return function(X){return G([A,X])}}function G(A){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,h&&(c=A[0]&2?h.return:A[0]?h.throw||((c=h.return)&&c.call(h),0):h.next)&&!(c=c.call(h,A[1])).done)return c;switch(h=0,c&&(A=[A[0]&2,c.value]),A[0]){case 0:case 1:c=A;break;case 4:return t.label++,{value:A[1],done:!1};case 5:t.label++,h=A[1],A=[0];continue;case 7:A=t.ops.pop(),t.trys.pop();continue;default:if(c=t.trys,!(c=c.length>0&&c[c.length-1])&&(A[0]===6||A[0]===2)){t=0;continue}if(A[0]===3&&(!c||A[1]>c[0]&&A[1]<c[3])){t.label=A[1];break}if(A[0]===6&&t.label<c[1]){t.label=c[1],c=A;break}if(c&&t.label<c[2]){t.label=c[2],t.ops.push(A);break}c[2]&&t.ops.pop(),t.trys.pop();continue}A=n.call(a,t)}catch(X){A=[6,X],h=0}finally{i=c=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}}function ct(a){var n=typeof Symbol=="function"&&a[Symbol.iterator],t=0;return n?n.call(a):{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}}}function sr(a,n){var t=typeof Symbol=="function"&&a[Symbol.iterator];if(!t)return a;var i=t.call(a),h,c=[],P;try{for(;(n===void 0||n-- >0)&&!(h=i.next()).done;)c.push(h.value)}catch(U){P={error:U}}finally{try{h&&!h.done&&(t=i.return)&&t.call(i)}finally{if(P)throw P.error}}return c}function vr(){for(var a=[],n=0;n<arguments.length;n++)a=a.concat(sr(arguments[n]));return a}function hs(a){if(a instanceof ds)return a.name;if(a instanceof Function)return a.componentName}var ds=function(a){Nr(n,a);function n(t){var i=a.call(this)||this;return i.started=!1,i.name=i.constructor.componentName,i.__componentDefaultParams=t,i}return n}(C()),ht=ds,st;(function(a){a.ADD="ADD",a.REMOVE="REMOVE",a.CHANGE="CHANGE"})(st||(st={}));var zi={},fn={},cn={},Cn={};function Xo(a,n){zi[a.gameObject.id]||(zi[a.gameObject.id]={});var t=zi[a.gameObject.id],i=a.name+"_"+n.join(",");if(t[i])return t[i];for(var h=n.length-1,c=a,P=0;P<h;P++)c=c[n[P]];return t[i]={property:c,key:n[h]},t[i]}function Ho(a){a.gameObject&&delete zi[a.gameObject.id]}function al(a){var n=a.systemName,t=a.componentName,i=a.component,h=a.prop,c=a.type;fn[n].componentObserver.add({component:i,prop:h,type:c,componentName:t})}function sl(a){var n=a.prop,t=a.component,i=a.componentName;for(var h in cn){var c=cn[h]||{},P=c[i];if(!!P){var U=P.findIndex(function(G){return Lo(G,n)});U>-1&&al({systemName:h,componentName:i,component:t,prop:n,type:st.CHANGE})}}}function ps(a){var n,t,i=a.obj,h=a.key,c=a.prop,P=a.component,U=a.componentName;if(i!==void 0){if(!(h in i)){console.error("prop "+h+" not in component: "+U+", Can not observer");return}if(Object.defineProperty(i,"_"+h,{enumerable:!1,writable:!0,value:i[h]}),c.deep&&Tr(i[h]))try{for(var G=ct(Object.keys(i[h])),A=G.next();!A.done;A=G.next()){var X=A.value;ps({obj:i[h],key:X,prop:c,component:P,componentName:U})}}catch(I){n={error:I}}finally{try{A&&!A.done&&(t=G.return)&&t.call(G)}finally{if(n)throw n.error}}Object.defineProperty(i,h,{enumerable:!0,set:function(I){i["_"+h]!==I&&(i["_"+h]=I,sl({prop:c,component:P,componentName:U}))},get:function(){return i["_"+h]}})}}function vs(a){return a&&a.constructor&&"componentName"in a.constructor}function zo(a){var n,t,i,h,c=[];a instanceof Array?c.push.apply(c,vr(a)):c.push(a);try{for(var P=ct(c),U=P.next();!U.done;U=P.next()){var G=U.value;for(var A in G.observerInfo){Cn[A]=Cn[A]||[];var X=Cn[A],I=function(ce){var he=X.findIndex(function(ne){return Lo(ne,ce)});he===-1&&Cn[A].push(ce)};try{for(var j=(i=void 0,ct(G.observerInfo[A])),re=j.next();!re.done;re=j.next()){var q=re.value;I(q)}}catch(ce){i={error:ce}}finally{try{re&&!re.done&&(h=j.return)&&h.call(j)}finally{if(i)throw i.error}}}}}catch(ce){n={error:ce}}finally{try{U&&!U.done&&(t=P.return)&&t.call(P)}finally{if(n)throw n.error}}}function Vi(a,n){var t,i;if(n===void 0&&(n=a.name),!(!n||!Cn[n])){if(!a||!vs(a))throw new Error("component param must be an instance of Component");if(!a.gameObject||!a.gameObject.id)throw new Error("component should be add to a gameObject");try{for(var h=ct(Cn[n]),c=h.next();!c.done;c=h.next()){var P=c.value,U=Xo(a,P.prop),G=U.property,A=U.key;ps({obj:G,key:A,prop:P,component:a,componentName:n})}}catch(X){t={error:X}}finally{try{c&&!c.done&&(i=h.return)&&i.call(h)}finally{if(t)throw t.error}}}}function Vo(a,n){n===void 0&&(n=a.name);for(var t in cn){var i=cn[t]||{},h=i[n];h&&fn[t].componentObserver.add({component:a,type:st.ADD,componentName:n})}}function ul(a,n){n===void 0&&(n=a.name);for(var t in cn){var i=cn[t]||{},h=i[n];h&&fn[t].componentObserver.add({component:a,type:st.REMOVE,componentName:n})}Ho(a)}function Yo(a,n){cn[n.systemName]=n.observerInfo,fn[n.systemName]=a}function Gr(a,n){a.constructor.IDEProps||(a.constructor.IDEProps=[]),a.constructor.IDEProps.push(n)}var Yi=function(a){Nr(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.name="Transform",t._parent=null,t.inScene=!1,t.children=[],t.position={x:0,y:0},t.size={width:0,height:0},t.origin={x:0,y:0},t.anchor={x:0,y:0},t.scale={x:1,y:1},t.skew={x:0,y:0},t.rotation=0,t}return n.prototype.init=function(t){var i,h;t===void 0&&(t={});var c=["position","size","origin","anchor","scale","skew"];try{for(var P=ct(c),U=P.next();!U.done;U=P.next()){var G=U.value;Object.assign(this[G],t[G])}}catch(A){i={error:A}}finally{try{U&&!U.done&&(h=P.return)&&h.call(P)}finally{if(i)throw i.error}}this.rotation=t.rotation||this.rotation},Object.defineProperty(n.prototype,"parent",{get:function(){return this._parent},set:function(t){t?t.addChild(this):this.parent&&this.parent.removeChild(this)},enumerable:!1,configurable:!0}),n.prototype.addChild=function(t){if(t.parent===this){var i=this.children.findIndex(function(h){return h===t});this.children.splice(i,1)}else t.parent&&t.parent.removeChild(t);t._parent=this,this.children.push(t)},n.prototype.removeChild=function(t){var i=this.children.findIndex(function(h){return h===t});i>-1&&(this.children.splice(i,1),t._parent=null)},n.prototype.clearChildren=function(){this.children.length=0},n.componentName="Transform",Br([Gr],n.prototype,"position",void 0),Br([Gr],n.prototype,"size",void 0),Br([Gr],n.prototype,"origin",void 0),Br([Gr],n.prototype,"anchor",void 0),Br([Gr],n.prototype,"scale",void 0),Br([Gr],n.prototype,"skew",void 0),Br([Gr],n.prototype,"rotation",void 0),n}(ht),mr=Yi,ji=0;function Ki(){return++ji}var An=function(){function a(n,t){this._componentCache={},this.components=[],this._name=n,this.id=Ki(),this.addComponent(mr,t)}return Object.defineProperty(a.prototype,"transform",{get:function(){return this.getComponent(mr)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"parent",{get:function(){return this.transform&&this.transform.parent&&this.transform.parent.gameObject},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"scene",{get:function(){return this._scene},set:function(n){var t,i;if(this._scene!==n){var h=this._scene;if(this._scene=n,this.transform&&this.transform.children)try{for(var c=ct(this.transform.children),P=c.next();!P.done;P=c.next()){var U=P.value;U.gameObject.scene=n}}catch(G){t={error:G}}finally{try{P&&!P.done&&(i=c.return)&&i.call(c)}finally{if(t)throw t.error}}n?n.addGameObject(this):h&&h.removeGameObject(this)}},enumerable:!1,configurable:!0}),a.prototype.addChild=function(n){if(!(!n||!n.transform||n===this)){if(!(n instanceof a))throw new Error("addChild only receive GameObject");if(!this.transform)throw new Error("gameObject '"+this.name+"' has been destroy");n.transform.parent=this.transform,n.scene=this.scene}},a.prototype.removeChild=function(n){return!(n instanceof a)||!n.parent||n.parent!==this||(n.transform.parent=null,n.scene=null),n},a.prototype.addComponent=function(n,t){var i=hs(n);if(!this._componentCache[i]){var h;if(n instanceof Function)h=new n(t);else if(n instanceof ht)h=n;else throw new Error("addComponent recieve Component and Component Constructor");if(h.gameObject)throw new Error("component has been added on gameObject "+h.gameObject.name);return h.gameObject=this,h.init&&h.init(h.__componentDefaultParams),Vo(h,h.name),Vi(h,h.name),this.components.push(h),this._componentCache[i]=h,h.awake&&h.awake(),h}},a.prototype.removeComponent=function(n){var t;if(typeof n=="string"?t=n:n instanceof ht?t=n.name:n.componentName&&(t=n.componentName),t==="Transform")throw new Error("Transform can't be removed");return this._removeComponent(t)},a.prototype._removeComponent=function(n){var t=this.components.findIndex(function(h){var c=h.name;return c===n});if(t!==-1){var i=this.components.splice(t,1)[0];return delete this._componentCache[n],delete i.__componentDefaultParams,i.onDestroy&&i.onDestroy(),ul(i,n),i.gameObject=void 0,i}},a.prototype.getComponent=function(n){var t;if(typeof n=="string"?t=n:n instanceof ht?t=n.name:n.componentName&&(t=n.componentName),typeof this._componentCache[t]!="undefined")return this._componentCache[t]},a.prototype.remove=function(){if(this.parent)return this.parent.removeChild(this)},a.prototype.destroy=function(){Array.from(this.transform.children).forEach(function(t){var i=t.gameObject;i.destroy()}),this.remove(),this.transform.clearChildren();for(var n in this._componentCache)this._removeComponent(n);this.components.length=0},a}(),Dt=An,ii=function(){function a(){this.events=[]}return a.prototype.add=function(n){var t=n.component,i=n.prop,h=n.type,c=n.componentName;h===st.REMOVE&&(this.events=this.events.filter(function(U){return U.component!==t}));var P=this.events.findIndex(function(U){return U.component===t&&Lo(U.prop,i)&&U.type===h});P>-1&&this.events.splice(P,1),this.events.push({gameObject:t.gameObject,component:t,prop:i,type:h,componentName:c})},a.prototype.getChanged=function(){return this.events},Object.defineProperty(a.prototype,"changed",{get:function(){return this.events},enumerable:!1,configurable:!0}),a.prototype.clear=function(){var n=this.events;return this.events=[],n},a}(),ll=ii,ms=function(){function a(n){this.started=!1,this.componentObserver=new ll,this.__systemDefaultParams=n,this.name=this.constructor.systemName}return a.prototype.destroy=function(){var n;this.componentObserver=null,this.__systemDefaultParams=null,(n=this.onDestroy)===null||n===void 0||n.call(this)},a}(),dt=ms;function jo(a=!0){let n=null;return Date.now?n=Date.now:n=()=>new Date().getTime(),n}function Wr(a){return typeof a=="number"?a={delay:a}:"entropy"in a&&(a={delay:a.entropy,isEntropy:!0}),a}const hn=jo(),br={originTime:0,playbackRate:1},Or=Symbol("timeMark"),Ko=Symbol("playbackRate"),gr=Symbol("timers"),fl=Symbol("originTime"),dn=Symbol("setTimer"),yr=Symbol("parent");class Xr{constructor(n,t){n instanceof Xr&&(t=n,n={}),n=Object.assign({},br,n),t&&(this[yr]=t);const i=n.nowtime||hn;if(t)Object.defineProperty(this,"globalTime",{get(){return t.currentTime}});else{const h=i();Object.defineProperty(this,"globalTime",{get(){return i()-h}})}this[Or]=[{globalTime:this.globalTime,localTime:-n.originTime,entropy:-n.originTime,playbackRate:n.playbackRate,globalEntropy:0}],this[yr]&&(this[Or][0].globalEntropy=this[yr].entropy),this[fl]=n.originTime,this[Ko]=n.playbackRate,this[gr]=new Map}get parent(){return this[yr]}get lastTimeMark(){return this[Or][this[Or].length-1]}markTime({time:n=this.currentTime,entropy:t=this.entropy,playbackRate:i=this.playbackRate}={}){const h={globalTime:this.globalTime,localTime:n,entropy:t,playbackRate:i,globalEntropy:this.globalEntropy};this[Or].push(h)}get currentTime(){const{localTime:n,globalTime:t}=this.lastTimeMark;return n+(this.globalTime-t)*this.playbackRate}set currentTime(n){const t=this.currentTime,i=n,h=this[gr];this.markTime({time:n}),Array.from(Object.entries(h)).forEach(([c,P])=>{if(!h.has(c))return;const{isEntropy:U,delay:G,heading:A}=P.time,{handler:X,startTime:I}=P;if(U)G===0&&(X(),this.clearTimeout(c));else{const j=I+G;(G===0||A!==!1&&(i-t)*G<=0||t<=j&&j<=i||t>=j&&j>=i)&&(X(),this.clearTimeout(c))}}),this.updateTimers()}get entropy(){const{entropy:n,globalEntropy:t}=this.lastTimeMark;return n+Math.abs((this.globalEntropy-t)*this.playbackRate)}get globalEntropy(){return this[yr]?this[yr].entropy:this.globalTime}set entropy(n){if(this.entropy>n){const t=this.seekTimeMark(n);this[Or].length=t+1}this.markTime({entropy:n}),this.updateTimers()}fork(n){return new Xr(n,this)}seekGlobalTime(n){const t=this.seekTimeMark(n),i=this[Or][t],{entropy:h,playbackRate:c,globalTime:P}=i;return P+(n-h)/Math.abs(c)}seekLocalTime(n){const t=this.seekTimeMark(n),i=this[Or][t],{localTime:h,entropy:c,playbackRate:P}=i;return P>0?h+(n-c):h-(n-c)}seekTimeMark(n){const t=this[Or];let i=0,h=t.length-1;if(n<=t[i].entropy)return i;if(n>=t[h].entropy)return h;let c=Math.floor((i+h)/2);for(;c>i&&c<h;){if(n===t[c].entropy)return c;n<t[c].entropy?h=c:n>t[c].entropy&&(i=c),c=Math.floor((i+h)/2)}return i}get playbackRate(){return this[Ko]}set playbackRate(n){n!==this.playbackRate&&(this.markTime({playbackRate:n}),this[Ko]=n,this.updateTimers())}get paused(){if(this.playbackRate===0)return!0;let n=this.parent;for(;n;){if(n.playbackRate===0)return!0;n=n.parent}return!1}updateTimers(){Array.from(this[gr].entries()).forEach(([t,i])=>{this[dn](i.handler,i.time,t)})}clearTimeout(n){const t=this[gr].get(n);t&&t.timerID!=null&&(this[yr]?this[yr].clearTimeout(t.timerID):clearTimeout(t.timerID)),this[gr].delete(n)}clearInterval(n){return this.clearTimeout(n)}clear(){const n=this[gr];Array.from(Object.keys(n)).forEach(t=>{this.clearTimeout(t)})}setTimeout(n,t={delay:0}){return this[dn](n,t)}setInterval(n,t={delay:0}){const i=this,h=this[dn](function c(){i[dn](c,t,h),n()},t);return h}[dn](n,t,i=Symbol("timerID")){t=Wr(t);const h=this[gr].get(i);let c,P=null,U,G;h?(this.clearTimeout(i),t.isEntropy?c=(t.delay-(this.entropy-h.startEntropy))/Math.abs(this.playbackRate):c=(t.delay-(this.currentTime-h.startTime))/this.playbackRate,U=h.startTime,G=h.startEntropy):(c=t.delay/(t.isEntropy?Math.abs(this.playbackRate):this.playbackRate),U=this.currentTime,G=this.entropy);const A=this[yr],X=A?A.setTimeout.bind(A):setTimeout,I=t.heading;return!A&&I===!1&&c<0&&(c=1/0),(isFinite(c)||A)&&(c=Math.ceil(c),X!==setTimeout&&(c={delay:c,heading:I}),P=X(()=>{this[gr].delete(i),n()},c)),this[gr].set(i,{timerID:P,handler:n,time:t,startTime:U,startEntropy:G}),i}}var gs=Xr,$i={autoStart:!0,frameRate:60},ur=function(){function a(n){var t=this;n=Object.assign({},$i,n),this._frameCount=0,this._frameDuration=1e3/n.frameRate,this.autoStart=n.autoStart,this.frameRate=n.frameRate,this.timeline=new gs({originTime:0,playbackRate:1}),this._lastFrameTime=this.timeline.currentTime,this._tickers=new Set,this._requestId=null,this._ticker=function(){t._started&&(t._requestId=requestAnimationFrame(t._ticker),t.update())},this.autoStart&&this.start()}return a.prototype.update=function(){var n,t,i=this.timeline.currentTime,h=i-this._lastFrameTime;if(h>=this._frameDuration){var c=i-h%this._frameDuration,P=c-this._lastFrameTime;this._lastFrameTime=c;var U={deltaTime:P,time:i,currentTime:i,frameCount:++this._frameCount,fps:Math.round(1e3/P)};try{for(var G=ct(this._tickers),A=G.next();!A.done;A=G.next()){var X=A.value;typeof X=="function"&&X(U)}}catch(I){n={error:I}}finally{try{A&&!A.done&&(t=G.return)&&t.call(G)}finally{if(n)throw n.error}}}},a.prototype.add=function(n){this._tickers.add(n)},a.prototype.remove=function(n){this._tickers.delete(n)},a.prototype.start=function(){this._started||(this._started=!0,this.timeline.playbackRate=1,this._requestId=requestAnimationFrame(this._ticker))},a.prototype.pause=function(){this._started=!1,this.timeline.playbackRate=0},a}(),Qi=ur,Pt=function(a){Nr(n,a);function n(t,i){var h=a.call(this,t,i)||this;return h.gameObjects=[],h.scene=h,h}return n.prototype.addGameObject=function(t){this.gameObjects.push(t),t.transform&&(t.transform.inScene=!0)},n.prototype.removeGameObject=function(t){var i=this.gameObjects.indexOf(t);i!==-1&&(t.transform&&(t.transform.inScene=!1),this.gameObjects.splice(i,1))},n.prototype.destroy=function(){this.scene=null,a.prototype.destroy.call(this),this.gameObjects=null,this.canvas=null},n}(Dt),Gt=Pt,St;(function(a){a.SINGLE="SINGLE",a.MULTI_CANVAS="MULTI_CANVAS"})(St||(St={}));var Zi=function(a){if(!(!(a instanceof dt)&&!(a instanceof ht))&&!a.started){a.started=!0;try{a.start&&a.start()}catch(n){a instanceof ht?console.error(a.constructor.componentName+" start error",n):console.error(a.constructor.systemName+" start error",n)}}},Ji=function(a){var n,t,i,h=((i=a==null?void 0:a.scene)===null||i===void 0?void 0:i.gameObjects)||[],c=a==null?void 0:a.multiScenes.map(function(X){var I=X.gameObjects;return I}),P=[];try{for(var U=ct(c),G=U.next();!G.done;G=U.next()){var A=G.value;P=vr(P,A)}}catch(X){n={error:X}}finally{try{G&&!G.done&&(t=U.return)&&t.call(U)}finally{if(n)throw n.error}}return vr(h,P)},Zt=function(a,n){var t,i,h,c,P,U,G,A;n===void 0&&(n=[]);try{for(var X=ct(n),I=X.next();!I.done;I=X.next()){var j=I.value;try{for(var re=(h=void 0,ct(j.components)),q=re.next();!q.done;q=re.next()){var ce=q.value;try{Zi(ce),ce.update&&ce.update(a)}catch(fe){console.error("gameObject: "+j.name+" "+ce.name+" update error",fe)}}}catch(fe){h={error:fe}}finally{try{q&&!q.done&&(c=re.return)&&c.call(re)}finally{if(h)throw h.error}}}}catch(fe){t={error:fe}}finally{try{I&&!I.done&&(i=X.return)&&i.call(X)}finally{if(t)throw t.error}}try{for(var he=ct(n),ne=he.next();!ne.done;ne=he.next()){var j=ne.value;try{for(var le=(G=void 0,ct(j.components)),pe=le.next();!pe.done;pe=le.next()){var ce=pe.value;try{ce.lateUpdate&&ce.lateUpdate(a)}catch(ye){console.error("gameObject: "+j.name+" "+ce.name+" lateUpdate error",ye)}}}catch(xe){G={error:xe}}finally{try{pe&&!pe.done&&(A=le.return)&&A.call(le)}finally{if(G)throw G.error}}}}catch(fe){P={error:fe}}finally{try{ne&&!ne.done&&(U=he.return)&&U.call(he)}finally{if(P)throw P.error}}},ys=function(a){var n,t,i,h;try{for(var c=ct(a),P=c.next();!P.done;P=c.next()){var U=P.value;try{for(var G=(i=void 0,ct(U.components)),A=G.next();!A.done;A=G.next()){var X=A.value;try{X.onResume&&X.onResume()}catch(I){console.error("gameObject: "+U.name+", "+X.name+", onResume error",I)}}}catch(I){i={error:I}}finally{try{A&&!A.done&&(h=G.return)&&h.call(G)}finally{if(i)throw i.error}}}}catch(I){n={error:I}}finally{try{P&&!P.done&&(t=c.return)&&t.call(c)}finally{if(n)throw n.error}}},_s=function(a){var n,t,i,h;try{for(var c=ct(a),P=c.next();!P.done;P=c.next()){var U=P.value;try{for(var G=(i=void 0,ct(U.components)),A=G.next();!A.done;A=G.next()){var X=A.value;try{X.onPause&&X.onPause()}catch(I){console.error("gameObject: "+U.name+", "+X.name+", onResume error",I)}}}catch(I){i={error:I}}finally{try{A&&!A.done&&(h=G.return)&&h.call(G)}finally{if(i)throw i.error}}}}catch(I){n={error:I}}finally{try{P&&!P.done&&(t=c.return)&&t.call(c)}finally{if(n)throw n.error}}},In=function(a){Nr(n,a);function n(t){var i,h,c=t===void 0?{}:t,P=c.systems,U=c.frameRate,G=U===void 0?60:U,A=c.autoStart,X=A===void 0?!0:A,I=c.needScene,j=I===void 0?!0:I,re=a.call(this)||this;if(re.playing=!1,re.started=!1,re.multiScenes=[],re.systems=[],re.ticker=new Qi({autoStart:!1,frameRate:G}),re.initTicker(),P&&P.length)try{for(var q=ct(P),ce=q.next();!ce.done;ce=q.next()){var he=ce.value;re.addSystem(he)}}catch(ne){i={error:ne}}finally{try{ce&&!ce.done&&(h=q.return)&&h.call(q)}finally{if(i)throw i.error}}return j&&re.loadScene(new Gt("scene")),X&&re.start(),re}return Object.defineProperty(n.prototype,"scene",{get:function(){return this._scene},set:function(t){this._scene=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"gameObjects",{get:function(){return Ji(this)},enumerable:!1,configurable:!0}),n.prototype.addSystem=function(t,i){var h;if(t instanceof Function)h=new t(i);else if(t instanceof dt)h=t;else{console.warn("can only add System");return}var c=this.systems.find(function(P){return P.constructor===h.constructor});if(c){console.warn(h.constructor.systemName+" System has been added");return}h.game=this,h.init&&h.init(h.__systemDefaultParams),Yo(h,h.constructor),zo(h.constructor);try{h.awake&&h.awake()}catch(P){console.error(h.constructor.systemName+" awake error",P)}return this.systems.push(h),h},n.prototype.removeSystem=function(t){if(!!t){var i=-1;typeof t=="string"?i=this.systems.findIndex(function(h){return h.name===t}):t instanceof Function?i=this.systems.findIndex(function(h){return h.constructor===t}):t instanceof dt&&(i=this.systems.findIndex(function(h){return h===t})),i>-1&&(this.systems[i].destroy&&this.systems[i].destroy(),this.systems.splice(i,1))}},n.prototype.getSystem=function(t){return this.systems.find(function(i){return typeof t=="string"?i.name===t:i instanceof t})},n.prototype.pause=function(){!this.playing||(this.playing=!1,this.ticker.pause(),this.triggerPause())},n.prototype.start=function(){this.playing||(this.playing=!0,this.started=!0,this.ticker.start())},n.prototype.resume=function(){this.playing||(this.playing=!0,this.ticker.start(),this.triggerResume())},n.prototype.initTicker=function(){var t=this;this.ticker.add(function(i){var h,c,P,U;t.scene&&Zt(i,t.gameObjects);try{for(var G=ct(t.systems),A=G.next();!A.done;A=G.next()){var X=A.value;try{Zi(X),X.update&&X.update(i)}catch(re){console.error(X.constructor.systemName+" update error",re)}}}catch(re){h={error:re}}finally{try{A&&!A.done&&(c=G.return)&&c.call(G)}finally{if(h)throw h.error}}try{for(var I=ct(t.systems),j=I.next();!j.done;j=I.next()){var X=j.value;try{X.lateUpdate&&X.lateUpdate(i)}catch(q){console.error(X.constructor.systemName+" lateUpdate error",q)}}}catch(re){P={error:re}}finally{try{j&&!j.done&&(U=I.return)&&U.call(I)}finally{if(P)throw P.error}}})},n.prototype.triggerResume=function(){var t,i;ys(this.gameObjects);try{for(var h=ct(this.systems),c=h.next();!c.done;c=h.next()){var P=c.value;try{P.onResume&&P.onResume()}catch(U){console.error(P.constructor.systemName+", onResume error",U)}}}catch(U){t={error:U}}finally{try{c&&!c.done&&(i=h.return)&&i.call(h)}finally{if(t)throw t.error}}},n.prototype.triggerPause=function(){var t,i;_s(this.gameObjects);try{for(var h=ct(this.systems),c=h.next();!c.done;c=h.next()){var P=c.value;try{P.onPause&&P.onPause()}catch(U){console.error(P.constructor.systemName+", onPause error",U)}}}catch(U){t={error:U}}finally{try{c&&!c.done&&(i=h.return)&&i.call(h)}finally{if(t)throw t.error}}},n.prototype.destroySystems=function(){var t,i;try{for(var h=ct(vr(this.systems)),c=h.next();!c.done;c=h.next()){var P=c.value;this.removeSystem(P)}}catch(U){t={error:U}}finally{try{c&&!c.done&&(i=h.return)&&i.call(h)}finally{if(t)throw t.error}}this.systems.length=0},n.prototype.destroy=function(){this.removeAllListeners(),this.pause(),this.scene.destroy(),this.destroySystems(),this.ticker=null,this.scene=null,this.canvas=null,this.multiScenes=null},n.prototype.loadScene=function(t){var i=t.scene,h=t.mode,c=h===void 0?St.SINGLE:h,P=t.params,U=P===void 0?{}:P;if(!!i){switch(c){case St.SINGLE:this.scene=i;break;case St.MULTI_CANVAS:this.multiScenes.push(i);break}this.emit("sceneChanged",{scene:i,mode:c,params:U})}},n}(C()),Dn=In;function Rr(a){return a===void 0&&(a={}),function(n){if(!n.observerInfo){for(var t in a)for(var i in a[t]){typeof a[t][i]=="string"&&(a[t][i]=[a[t][i]]);var h=void 0;Array.isArray(a[t][i])&&(h={prop:a[t][i],deep:!1},a[t][i]=h),h=a[t][i],typeof h.prop=="string"&&(h.prop=[h.prop])}n.observerInfo=a}}}var qi=function(a){Nr(n,a);function n(t){var i=t.resource,h=t.resourceTotal,c=a.call(this)||this;return c.progress=0,c.resourceTotal=0,c.resourceLoadedCount=0,c.resource=i,c.resourceTotal=h,h===0&&c.resource.emit(Hr.COMPLETE,c),c}return n.prototype.onStart=function(){this.resource.emit(Hr.START,this)},n.prototype.onProgress=function(t){this.resourceLoadedCount++,this.progress=Math.floor(this.resourceLoadedCount/this.resourceTotal*100)/100,t.success?this.resource.emit(Hr.LOADED,this,t):this.resource.emit(Hr.ERROR,this,t),this.resource.emit(Hr.PROGRESS,this,t),this.resourceLoadedCount===this.resourceTotal&&this.resource.emit(Hr.COMPLETE,this)},n}(C()),eo=qi,Hr;(function(a){a.START="start",a.PROGRESS="progress",a.LOADED="loaded",a.COMPLETE="complete",a.ERROR="error"})(Hr||(Hr={}));var Jt;(function(a){a.IMAGE="IMAGE",a.SPRITE="SPRITE",a.SPRITE_ANIMATION="SPRITE_ANIMATION",a.DRAGONBONE="DRAGONBONE",a.SPINE="SPINE",a.AUDIO="AUDIO",a.VIDEO="VIDEO"})(Jt||(Jt={})),It.setExtensionXhrType("json",Je.Json),It.setExtensionXhrType("tex",Je.Json),It.setExtensionXhrType("ske",Je.Json),It.setExtensionXhrType("mp3",Je.Buffer),It.setExtensionXhrType("wav",Je.Buffer),It.setExtensionXhrType("aac",Je.Buffer),It.setExtensionXhrType("ogg",Je.Buffer);var cl={png:kt,jpg:kt,jpeg:kt,webp:kt,json:It,tex:It,ske:It,audio:It,video:Xi},to=function(a){Nr(n,a);function n(t){var i=a.call(this)||this;return i.timeout=6e3,i.resourcesMap={},i.makeInstanceFunctions={},i.destroyInstanceFunctions={},i.promiseMap={},i.loaders=[],t&&typeof t.timeout=="number"&&(i.timeout=t.timeout),i}return n.prototype.loadConfig=function(t){this.addResource(t),this.preload()},n.prototype.loadSingle=function(t){return this.addResource([t]),this.getResource(t.name)},n.prototype.addResource=function(t){var i,h;if(!t||t.length<1){console.warn("no resources");return}try{for(var c=ct(t),P=c.next();!P.done;P=c.next()){var U=P.value;if(this.resourcesMap[U.name]){console.warn(U.name+" was already added");continue}this.resourcesMap[U.name]=U,this.resourcesMap[U.name].data={}}}catch(G){i={error:G}}finally{try{P&&!P.done&&(h=c.return)&&h.call(c)}finally{if(i)throw i.error}}},n.prototype.preload=function(){var t=Object.values(this.resourcesMap).filter(function(i){var h=i.preload;return h}).map(function(i){var h=i.name;return h});this.progress=new eo({resource:this,resourceTotal:t.length}),this.loadResource({names:t,preload:!0})},n.prototype.getResource=function(t){return Ur(this,void 0,void 0,function(){return ln(this,function(i){return this.loadResource({names:[t]}),[2,this.promiseMap[t]||Promise.resolve({})]})})},n.prototype.instance=function(t){return Ur(this,void 0,void 0,function(){var i,h;return ln(this,function(c){switch(c.label){case 0:return i=this.resourcesMap[t],h=this.makeInstanceFunctions[i.type],h?[4,this.makeInstanceFunctions[i.type](i)]:[3,2];case 1:h=c.sent(),c.label=2;case 2:return[2,h]}})})},n.prototype.destroy=function(t){return Ur(this,void 0,void 0,function(){return ln(this,function(i){switch(i.label){case 0:return[4,this._destroy(t)];case 1:return i.sent(),[2]}})})},n.prototype._destroy=function(t,i){return i===void 0&&(i=!1),Ur(this,void 0,void 0,function(){var h,c;return ln(this,function(P){switch(P.label){case 0:if(h=this.resourcesMap[t],!h)return[2];if(i)return[3,5];P.label=1;case 1:return P.trys.push([1,4,,5]),this.destroyInstanceFunctions[h.type]?[4,this.destroyInstanceFunctions[h.type](h)]:[3,3];case 2:P.sent(),P.label=3;case 3:return[3,5];case 4:return c=P.sent(),console.warn("destroy resource "+h.name+" error with '"+c.message+"'"),[3,5];case 5:return delete this.promiseMap[t],h.data={},h.complete=!1,h.instance=void 0,[2]}})})},n.prototype.registerInstance=function(t,i){this.makeInstanceFunctions[t]=i},n.prototype.registerDestroy=function(t,i){this.destroyInstanceFunctions[t]=i},n.prototype.loadResource=function(t){var i=this,h=t.names,c=h===void 0?[]:h,P=t.preload,U=P===void 0?!1:P,G=c.filter(function(I){return!i.promiseMap[I]&&i.resourcesMap[I]});if(!!G.length){var A={},X=this.getLoader(U);G.forEach(function(I){i.promiseMap[I]=new Promise(function(ce){return A[I]=ce});var j=i.resourcesMap[I];for(var re in j.src){var q=j.src[re].type;q==="data"?(j.data[re]=j.src[re].data,i.doComplete(I,A[I],U)):X.add({url:j.src[re].url,name:j.name+"_"+re,strategy:cl[q],metadata:{key:re,name:j.name,resolves:A}})}}),X.load()}},n.prototype.doComplete=function(t,i,h){return h===void 0&&(h=!1),Ur(this,void 0,void 0,function(){var c,P,U,G;return ln(this,function(A){switch(A.label){case 0:if(c=this.resourcesMap[t],P={name:t,resource:this.resourcesMap[t],success:!0},!this.checkAllLoaded(t))return[3,4];A.label=1;case 1:return A.trys.push([1,3,,4]),U=c,[4,this.instance(t)];case 2:return U.instance=A.sent(),c.complete=!0,h&&this.progress.onProgress(P),i(c),[3,4];case 3:return G=A.sent(),c.complete=!1,h&&(P.errMsg=G.message,P.success=!1,this.progress.onProgress(P)),i({}),[3,4];case 4:return[2]}})})},n.prototype.checkAllLoaded=function(t){var i=this.resourcesMap[t];return Array.from(Object.keys(i.src)).every(function(h){return i.data[h]})},n.prototype.getLoader=function(t){var i=this;t===void 0&&(t=!1);var h=this.loaders.find(function(c){var P=c.loading;return!P});return h||(h=new Wo,this.loaders.push(h)),t&&h.onStart.once(function(){i.progress.onStart()}),h.onLoad.add(function(c,P){i.onLoad({preload:t,resource:P})}),h.onError.add(function(c,P,U){i.onError({errMsg:c,resource:U,preload:t})}),h.onComplete.once(function(){h.onLoad.detachAll(),h.onError.detachAll(),h.reset()}),h},n.prototype.onLoad=function(t){var i=t.preload,h=i===void 0?!1:i,c=t.resource;return Ur(this,void 0,void 0,function(){var P,U,G,A,X,I;return ln(this,function(j){return P=c.metadata,U=P.key,G=P.name,A=P.resolves,X=c.data,I=this.resourcesMap[G],I.data[U]=X,this.doComplete(G,A[G],h),[2]})})},n.prototype.onError=function(t){var i=t.errMsg,h=t.preload,c=h===void 0?!1:h,P=t.resource;return Ur(this,void 0,void 0,function(){var U,G,A,X;return ln(this,function(I){return U=P.metadata,G=U.name,A=U.resolves,this._destroy(G,!0),A[G]({}),c&&(X={name:G,resource:this.resourcesMap[G],success:!1,errMsg:i},this.progress.onProgress(X)),[2]})})},n}(C()),Nt=new to,wt={IDEProp:Gr,componentObserver:Rr},lt=pt(8687);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ro=function(a,n){return ro=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var h in i)i.hasOwnProperty(h)&&(t[h]=i[h])},ro(a,n)};function Ln(a,n){ro(a,n);function t(){this.constructor=a}a.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var hl=function(a){Ln(n,a);function n(t){var i=this;return t.autoStart=!1,i=a.call(this,t)||this,i}return n}(lt.Application),$o=hl,dl=function(a){Ln(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(lt.Container),pl=dl,Ff=function(a){Ln(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(lt.Graphics),vl=null,kf=function(a){Ln(n,a);function n(t,i,h,c,P){var U=this,G;return t==="string"?G=lt.Texture.fromFrame(t):G=lt.Texture.from(t),U=a.call(this,G,i,h,c,P)||this,U}return n}(lt.mesh.NineSlicePlane),Nf=null,Bf=function(){function a(n){this._image=null,this._image=n,n?n instanceof HTMLImageElement?this.sprite=lt.Sprite.from(n):n instanceof lt.Texture&&(this.sprite=new lt.Sprite(n)):this.sprite=new lt.Sprite}return Object.defineProperty(a.prototype,"image",{get:function(){return this._image},set:function(n){this._image!==n&&(n instanceof HTMLImageElement?(this.sprite.texture&&this.sprite.texture.destroy(!1),this.sprite.texture=lt.Texture.from(n)):n instanceof lt.Texture&&(this.sprite.texture=n),this._image=n)},enumerable:!1,configurable:!0}),a}(),xs=Bf,Qo=function(){function a(n){var t=n.frames;this.animatedSprite=new lt.extras.AnimatedSprite(t)}return a.prototype.play=function(){this.animatedSprite.play()},a.prototype.stop=function(){this.animatedSprite.stop()},a.prototype.gotoAndPlay=function(n){this.animatedSprite.gotoAndPlay(n)},a.prototype.gotoAndStop=function(n){this.animatedSprite.gotoAndStop(n)},Object.defineProperty(a.prototype,"speed",{get:function(){return this.animatedSprite.animationSpeed},set:function(n){this.animatedSprite.animationSpeed=n},enumerable:!1,configurable:!0}),a}(),Uf=Qo,Gf=function(a){Ln(n,a);function n(t,i){return a.call(this,t,i)||this}return n}(lt.Text),Wf=Gf,ws=lt.extras.TilingSprite,_r=function(){function a(n){this._image=null,this._image=n,n?n instanceof HTMLImageElement?this.tilingSprite=new ws(lt.Texture.from(n)):n instanceof lt.Texture&&(this.tilingSprite=new ws(n)):this.tilingSprite=new ws(lt.Texture.EMPTY)}return Object.defineProperty(a.prototype,"image",{get:function(){return this._image},set:function(n){this._image!==n&&(n instanceof HTMLImageElement?this.tilingSprite.texture=lt.Texture.from(n):n instanceof lt.Texture&&(this.tilingSprite.texture=n),this._image=n)},enumerable:!1,configurable:!0}),a}(),qt=_r;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Zo=function(a,n){return Zo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var h in i)i.hasOwnProperty(h)&&(t[h]=i[h])},Zo(a,n)};function Jo(a,n){Zo(a,n);function t(){this.constructor=a}a.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var qo=function(){return qo=Object.assign||function(n){for(var t,i=1,h=arguments.length;i<h;i++){t=arguments[i];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(n[c]=t[c])}return n},qo.apply(this,arguments)};function ea(a,n,t,i){var h=arguments.length,c=h<3?n:i===null?i=Object.getOwnPropertyDescriptor(n,t):i,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(a,n,t,i);else for(var U=a.length-1;U>=0;U--)(P=a[U])&&(c=(h<3?P(c):h>3?P(n,t,c):P(n,t))||c);return h>3&&c&&Object.defineProperty(n,t,c),c}function lr(a){var n=typeof Symbol=="function"&&a[Symbol.iterator],t=0;return n?n.call(a):{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}}}function Ts(a,n){var t=typeof Symbol=="function"&&a[Symbol.iterator];if(!t)return a;var i=t.call(a),h,c=[],P;try{for(;(n===void 0||n-- >0)&&!(h=i.next()).done;)c.push(h.value)}catch(U){P={error:U}}finally{try{h&&!h.done&&(t=i.return)&&t.call(i)}finally{if(P)throw P.error}}return c}function ml(){for(var a=[],n=0;n<arguments.length;n++)a=a.concat(Ts(arguments[n]));return a}var Ss=function(){function a(n){var t=n.game,i=n.rendererSystem;this.renderers=[],this.game=t,this.rendererSystem=i}return a.prototype.register=function(){for(var n,t,i=[],h=0;h<arguments.length;h++)i[h]=arguments[h];try{for(var c=lr(i),P=c.next();!P.done;P=c.next()){var U=P.value;U.game=this.game,U.rendererManager=this.rendererSystem.rendererManager,U.containerManager=this.rendererSystem.containerManager,this.renderers.push(U)}}catch(G){n={error:G}}finally{try{P&&!P.done&&(t=c.return)&&t.call(c)}finally{if(n)throw n.error}}},a.prototype.componentChanged=function(n){var t,i,h=function(A){var X,I;try{for(var j=(X=void 0,lr(c.renderers)),re=j.next();!re.done;re=j.next()){var q=re.value,ce=q.observerInfo[A.componentName];if(ce){if([st.ADD,st.REMOVE].indexOf(A.type)>-1){try{q.componentChanged&&q.componentChanged(A)}catch(ne){console.error("gameObject: "+A.gameObject.name+", "+A.componentName+" is error.",A,ne)}continue}var he=ce.findIndex(function(ne){return Lo(ne,A.prop)});if(he>-1)try{q.componentChanged&&q.componentChanged(A)}catch(ne){console.error("gameObject: "+(A.gameObject&&A.gameObject.name)+", "+A.componentName+" is componentChanged error.",A,ne)}}}}catch(ne){X={error:ne}}finally{try{re&&!re.done&&(I=j.return)&&I.call(j)}finally{if(X)throw X.error}}},c=this;try{for(var P=lr(n),U=P.next();!U.done;U=P.next()){var G=U.value;h(G)}}catch(A){t={error:A}}finally{try{U&&!U.done&&(i=P.return)&&i.call(P)}finally{if(t)throw t.error}}},a.prototype.update=function(n){var t,i,h,c;try{for(var P=lr(n.components),U=P.next();!U.done;U=P.next()){var G=U.value;try{for(var A=(h=void 0,lr(this.renderers)),X=A.next();!X.done;X=A.next()){var I=X.value,j=[],re=I.observerInfo[G.name];if(re&&j.indexOf(n)===-1){j.push(n);try{I.rendererUpdate&&I.rendererUpdate(n)}catch(q){console.info("gameObject: "+n.name+", "+G.name+" is update error",q)}}}}catch(q){h={error:q}}finally{try{X&&!X.done&&(c=A.return)&&c.call(A)}finally{if(h)throw h.error}}}}catch(q){t={error:q}}finally{try{U&&!U.done&&(i=P.return)&&i.call(P)}finally{if(t)throw t.error}}},a}(),yl=Ss,ta=function(){function a(){this.containerMap={}}return a.prototype.addContainer=function(n){var t=n.name,i=n.container;this.containerMap[t]=i},a.prototype.getContainer=function(n){return this.containerMap[n]},a.prototype.removeContainer=function(n){var t;(t=this.containerMap[n])===null||t===void 0||t.destroy({children:!0}),delete this.containerMap[n]},a.prototype.updateTransform=function(n){var t=n.name,i=n.transform,h=this.containerMap[t];if(!!h){var c=i.anchor,P=i.origin,U=i.position,G=i.rotation,A=i.scale,X=i.size,I=i.skew;h.rotation=G,h.scale=A,h.pivot.x=X.width*P.x,h.pivot.y=X.height*P.y,h.skew=I;var j=U.x,re=U.y;if(i.parent){var q=i.parent;j=j+q.size.width*c.x,re=re+q.size.height*c.y}h.position={x:j,y:re}}},a}(),_l=ta,xl=function(a){Jo(n,a);function n(t){var i=t.system,h=t.containerManager,c=a.call(this)||this;return c.name="Transform",c.waitRemoveIds=[],c.waitChangeScenes=[],c.containerManager=h,c.init(i),c}return n.prototype.init=function(t){var i=this;this.system=t,this.on("changeScene",function(h){var c=h.scene,P=h.mode,U=h.application;i.waitChangeScenes.push({scene:c,mode:P,application:U})})},n.prototype.update=function(){var t,i,h,c;try{for(var P=lr(this.waitRemoveIds),U=P.next();!U.done;U=P.next()){var G=U.value;this.containerManager.removeContainer(G)}}catch(re){t={error:re}}finally{try{U&&!U.done&&(i=P.return)&&i.call(P)}finally{if(t)throw t.error}}this.waitRemoveIds=[];try{for(var A=lr(this.waitChangeScenes),X=A.next();!X.done;X=A.next()){var I=X.value,j=this.containerManager.getContainer(I.scene.id);j&&(I.application.stage.removeChildren(),I.application.stage.addChild(j))}}catch(re){h={error:re}}finally{try{X&&!X.done&&(c=A.return)&&c.call(A)}finally{if(h)throw h.error}}this.waitChangeScenes=[]},n.prototype.componentChanged=function(t){t.type===st.ADD?this.addContainer(t):t.type===st.CHANGE?this.change(t):t.type===st.REMOVE&&this.waitRemoveIds.push(t.gameObject.id)},n.prototype.addContainer=function(t){var i=new pl;i.name=t.gameObject.name,this.containerManager.addContainer({name:t.gameObject.id,container:i});var h=t.component;h.worldTransform=i.transform.worldTransform},n.prototype.change=function(t){var i=t.component;if(i.parent){var h=this.containerManager.getContainer(i.parent.gameObject.id);h.addChild(this.containerManager.getContainer(t.gameObject.id));var c=t.gameObject.transform.parent&&t.gameObject.transform.parent.gameObject.getComponent("Render");c&&(c.sortDirty=!0)}else{var P=this.containerManager.getContainer(t.gameObject.id);delete i.worldTransform,P.parent&&P.parent.removeChild(P)}},n.prototype.destroy=function(){this.removeAllListeners(),this.waitRemoveIds=null,this.waitChangeScenes=null,this.system=null,this.containerManager=null},n=ea([wt.componentObserver({Transform:["_parent"]})],n),n}(C()),wl=xl,ra;(function(a){a[a.UNKNOWN=0]="UNKNOWN",a[a.WEBGL=1]="WEBGL",a[a.CANVAS=2]="CANVAS"})(ra||(ra={}));var Es=function(a){a.plugins.interaction.autoPreventDefault=!0,a.view.style.touchAction="none"},no=function(a){a.plugins.interaction.autoPreventDefault=!1,a.view.style.touchAction="auto"},Tl=function(a){Jo(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.multiApps=[],t}return n.prototype.init=function(t){var i=this;this.params=t,this.application=this.createApplication(t),this.containerManager=new _l,this.rendererManager=new yl({game:this.game,rendererSystem:this}),this.game.canvas=this.application.view,this.transform=new wl({system:this,containerManager:this.containerManager}),this.game.on("sceneChanged",function(h){var c=h.scene,P=h.mode,U=h.params,G;switch(P){case St.SINGLE:G=i.application;break;case St.MULTI_CANVAS:G=i.createMultiApplication({params:U});break}c.canvas=G.view,i.transform.emit("changeScene",{scene:c,mode:P,application:G})})},n.prototype.registerObserver=function(t){var i,h=this.constructor.observerInfo;for(var c in t)h[c]||(h[c]=[]),(i=h[c]).push.apply(i,ml(t[c]))},n.prototype.createMultiApplication=function(t){var i=t.params,h=this.createApplication(i);return this.multiApps.push(h),h},n.prototype.createApplication=function(t){t.view=t.canvas,t.renderType===ra.CANVAS&&(t.forceCanvas=!0),lt.ticker.shared.autoStart=!1,lt.ticker.shared.stop();var i=new $o(qo({sharedTicker:!0},t));return t.preventScroll!==void 0&&(console.warn("PreventScroll property will deprecate at next major version, please use enableEnable instead. https://eva.js.org/#/tutorials/game"),t.preventScroll?no(i.renderer):Es(i.renderer)),t.enableScroll!==void 0&&(t.enableScroll?no(i.renderer):Es(i.renderer)),t.preventScroll===void 0&&t.enableScroll===void 0&&no(i.renderer),i},n.prototype.update=function(){var t,i,h,c,P=this.componentObserver.clear();try{for(var U=lr(P),G=U.next();!G.done;G=U.next()){var A=G.value;this.transform.componentChanged(A)}}catch(re){t={error:re}}finally{try{G&&!G.done&&(i=U.return)&&i.call(U)}finally{if(t)throw t.error}}try{for(var X=lr(this.game.gameObjects),I=X.next();!I.done;I=X.next()){var j=I.value;this.containerManager.updateTransform({name:j.id,transform:j.transform}),this.rendererManager.update(j)}}catch(re){h={error:re}}finally{try{I&&!I.done&&(c=X.return)&&c.call(X)}finally{if(h)throw h.error}}},n.prototype.lateUpdate=function(t){this.transform.update(),this.application.ticker.update(t.time)},n.prototype.onDestroy=function(){var t,i;this.application.destroy();try{for(var h=lr(this.multiApps),c=h.next();!c.done;c=h.next()){var P=c.value;P&&P.destroy()}}catch(U){t={error:U}}finally{try{c&&!c.done&&(i=h.return)&&i.call(h)}finally{if(t)throw t.error}}this.transform.destroy(),this.transform=null,this.params=null,this.rendererManager=null,this.containerManager=null,this.application=null,this.game=null,this.multiApps=null},n.prototype.resize=function(t,i){this.params.width=t,this.params.height=i,this.application.renderer.resize(t,i)},n.systemName="Renderer",n=ea([wt.componentObserver({Transform:["_parent"]})],n),n}(dt),Wt=Tl,Sl=function(a){Jo(n,a);function n(t){var i=a.call(this,t)||this;return i.observerInfo=i.constructor.observerInfo,i}return n.prototype.componentChanged=function(t){},n.prototype.rendererUpdate=function(t){},n.prototype.update=function(){var t,i,h=this.componentObserver.clear();try{for(var c=lr(h),P=c.next();!P.done;P=c.next()){var U=P.value;this.componentChanged(U)}}catch(G){t={error:G}}finally{try{P&&!P.done&&(i=c.return)&&i.call(c)}finally{if(t)throw t.error}}},n}(dt),zr=Sl;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var na=function(a,n){return na=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var h in i)i.hasOwnProperty(h)&&(t[h]=i[h])},na(a,n)};function Ps(a,n){na(a,n);function t(){this.constructor=a}a.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}function oi(a,n,t,i){var h=arguments.length,c=h<3?n:i===null?i=Object.getOwnPropertyDescriptor(n,t):i,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(a,n,t,i);else for(var U=a.length-1;U>=0;U--)(P=a[U])&&(c=(h<3?P(c):h>3?P(n,t,c):P(n,t))||c);return h>3&&c&&Object.defineProperty(n,t,c),c}function Xf(a,n,t,i){return new(t||(t=Promise))(function(h,c){function P(A){try{G(i.next(A))}catch(X){c(X)}}function U(A){try{G(i.throw(A))}catch(X){c(X)}}function G(A){A.done?h(A.value):new t(function(X){X(A.value)}).then(P,U)}G((i=i.apply(a,n||[])).next())})}function Hf(a,n){var t={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},i,h,c,P;return P={next:U(0),throw:U(1),return:U(2)},typeof Symbol=="function"&&(P[Symbol.iterator]=function(){return this}),P;function U(A){return function(X){return G([A,X])}}function G(A){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,h&&(c=A[0]&2?h.return:A[0]?h.throw||((c=h.return)&&c.call(h),0):h.next)&&!(c=c.call(h,A[1])).done)return c;switch(h=0,c&&(A=[A[0]&2,c.value]),A[0]){case 0:case 1:c=A;break;case 4:return t.label++,{value:A[1],done:!1};case 5:t.label++,h=A[1],A=[0];continue;case 7:A=t.ops.pop(),t.trys.pop();continue;default:if(c=t.trys,!(c=c.length>0&&c[c.length-1])&&(A[0]===6||A[0]===2)){t=0;continue}if(A[0]===3&&(!c||A[1]>c[0]&&A[1]<c[3])){t.label=A[1];break}if(A[0]===6&&t.label<c[1]){t.label=c[1],c=A;break}if(c&&t.label<c[2]){t.label=c[2],t.ops.push(A);break}c[2]&&t.ops.pop(),t.trys.pop();continue}A=n.call(a,t)}catch(X){A=[6,X],h=0}finally{i=c=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}}var Ms=function(a){Ps(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.resource="",t}return n.prototype.init=function(t){t&&t.resource&&(this.resource=t.resource)},n.componentName="Img",oi([wt.IDEProp],n.prototype,"resource",void 0),n}(ht),ai=Ms;Nt.registerInstance(Jt.IMAGE,function(a){var n=a.data,t=n===void 0?{}:n,i=t.image;if(i){var h=lt.Texture.from(i);return h}}),Nt.registerDestroy(Jt.IMAGE,function(a){var n=a.instance;n&&n.destroy(!0)});var zf=function(a){Ps(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.name="Img",t.imgs={},t}return n.prototype.init=function(){this.renderSystem=this.game.getSystem(Wt),this.renderSystem.rendererManager.register(this)},n.prototype.rendererUpdate=function(t){var i=t.transform.size,h=i.width,c=i.height;this.imgs[t.id]&&(this.imgs[t.id].sprite.width=h,this.imgs[t.id].sprite.height=c)},n.prototype.componentChanged=function(t){return Xf(this,void 0,void 0,function(){var i,h,c,P;return Hf(this,function(U){switch(U.label){case 0:return t.componentName!=="Img"?[3,4]:(i=t.component,t.type!==st.ADD?[3,1]:(h=new xs(null),Nt.getResource(i.resource).then(function(G){var A=G.instance;A||console.error("GameObject:"+t.gameObject.name+"'s Img resource load error"),h.image=A}),this.imgs[t.gameObject.id]=h,this.containerManager.getContainer(t.gameObject.id).addChildAt(h.sprite,0),[3,4]));case 1:return t.type!==st.CHANGE?[3,3]:[4,Nt.getResource(i.resource)];case 2:return c=U.sent().instance,c||console.error("GameObject:"+t.gameObject.name+"'s Img resource load error"),this.imgs[t.gameObject.id].image=c,[3,4];case 3:t.type===st.REMOVE&&(P=this.imgs[t.gameObject.id],this.containerManager.getContainer(t.gameObject.id).removeChild(P.sprite),P.sprite.destroy({children:!0}),delete this.imgs[t.gameObject.id]),U.label=4;case 4:return[2]}})})},n.systemName="Img",n=oi([wt.componentObserver({Img:[{prop:["resource"],deep:!1}]})],n),n}(zr),El=zf;function bs({x:a,y:n},t="arrow"){const i=new Dt(t,{size:{width:21,height:169},origin:{x:.5,y:.5},position:{x:a,y:n}});return i.addComponent(new ai({resource:"arrow"})),i}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Os=function(a,n){return Os=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var h in i)i.hasOwnProperty(h)&&(t[h]=i[h])},Os(a,n)};function Rs(a,n){Os(a,n);function t(){this.constructor=a}a.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}function Vf(a,n,t,i){var h=arguments.length,c=h<3?n:i===null?i=Object.getOwnPropertyDescriptor(n,t):i,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(a,n,t,i);else for(var U=a.length-1;U>=0;U--)(P=a[U])&&(c=(h<3?P(c):h>3?P(n,t,c):P(n,t))||c);return h>3&&c&&Object.defineProperty(n,t,c),c}function Yf(a){var n=typeof Symbol=="function"&&a[Symbol.iterator],t=0;return n?n.call(a):{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}}}/*!
   基于matter-js 修改， API保留了matter-js的api:   http://brm.io/matter-js
 */function Cs(){try{return pt(1513)}catch(a){}}var ir=function(){return function(a){var n={};function t(i){if(n[i])return n[i].exports;var h=n[i]={i,l:!1,exports:{}};return a[i].call(h.exports,h,h.exports,t),h.l=!0,h.exports}return t.m=a,t.c=n,t.d=function(i,h,c){t.o(i,h)||Object.defineProperty(i,h,{enumerable:!0,get:c})},t.r=function(i){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},t.t=function(i,h){if(h&1&&(i=t(i)),h&8||h&4&&typeof i=="object"&&i&&i.__esModule)return i;var c=Object.create(null);if(t.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:i}),h&2&&typeof i!="string")for(var P in i)t.d(c,P,function(U){return i[U]}.bind(null,P));return c},t.n=function(i){var h=i&&i.__esModule?function(){return i.default}:function(){return i};return t.d(h,"a",h),h},t.o=function(i,h){return Object.prototype.hasOwnProperty.call(i,h)},t.p="",t(t.s=24)}([function(a,n){var t={};a.exports=t,function(){t._nextId=0,t._seed=0,t._nowStartTime=+new Date,t.extend=function(h,c){var P,U;typeof c=="boolean"?(P=2,U=c):(P=1,U=!0);for(var G=P;G<arguments.length;G++){var A=arguments[G];if(A)for(var X in A)U&&A[X]&&A[X].constructor===Object&&(!h[X]||h[X].constructor===Object)?(h[X]=h[X]||{},t.extend(h[X],U,A[X])):h[X]=A[X]}return h},t.clone=function(h,c){return t.extend({},c,h)},t.keys=function(h){if(Object.keys)return Object.keys(h);var c=[];for(var P in h)c.push(P);return c},t.values=function(h){var c=[];if(Object.keys){for(var P=Object.keys(h),U=0;U<P.length;U++)c.push(h[P[U]]);return c}for(var G in h)c.push(h[G]);return c},t.get=function(h,c,P,U){c=c.split(".").slice(P,U);for(var G=0;G<c.length;G+=1)h=h[c[G]];return h},t.set=function(h,c,P,U,G){var A=c.split(".").slice(U,G);return t.get(h,c,0,-1)[A[A.length-1]]=P,P},t.shuffle=function(h){for(var c=h.length-1;c>0;c--){var P=Math.floor(t.random()*(c+1)),U=h[c];h[c]=h[P],h[P]=U}return h},t.choose=function(h){return h[Math.floor(t.random()*h.length)]},t.isElement=function(h){return typeof HTMLElement!="undefined"?h instanceof HTMLElement:!!(h&&h.nodeType&&h.nodeName)},t.isArray=function(h){return Object.prototype.toString.call(h)==="[object Array]"},t.isFunction=function(h){return typeof h=="function"},t.isPlainObject=function(h){return typeof h=="object"&&h.constructor===Object},t.isString=function(h){return toString.call(h)==="[object String]"},t.clamp=function(h,c,P){return h<c?c:h>P?P:h},t.sign=function(h){return h<0?-1:1},t.now=function(){if(typeof window!="undefined"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-t._nowStartTime},t.random=function(h,c){return h=typeof h!="undefined"?h:0,c=typeof c!="undefined"?c:1,h+i()*(c-h)};var i=function(){return t._seed=(t._seed*9301+49297)%233280,t._seed/233280};t.colorToNumber=function(h){return h=h.replace("#",""),h.length==3&&(h=h.charAt(0)+h.charAt(0)+h.charAt(1)+h.charAt(1)+h.charAt(2)+h.charAt(2)),parseInt(h,16)},t.logLevel=1,t.log=function(){console&&t.logLevel>0&&t.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},t.info=function(){console&&t.logLevel>0&&t.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},t.warn=function(){console&&t.logLevel>0&&t.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},t.nextId=function(){return t._nextId++},t.indexOf=function(h,c){if(h.indexOf)return h.indexOf(c);for(var P=0;P<h.length;P++)if(h[P]===c)return P;return-1},t.map=function(h,c){if(h.map)return h.map(c);for(var P=[],U=0;U<h.length;U+=1)P.push(c(h[U]));return P},t.topologicalSort=function(h){var c=[],P=[],U=[];for(var G in h)!P[G]&&!U[G]&&t._topologicalSort(G,P,U,h,c);return c},t._topologicalSort=function(h,c,P,U,G){var A=U[h]||[];P[h]=!0;for(var X=0;X<A.length;X+=1){var I=A[X];P[I]||c[I]||t._topologicalSort(I,c,P,U,G)}P[h]=!1,c[h]=!0,G.push(h)},t.chain=function(){for(var h=[],c=0;c<arguments.length;c+=1){var P=arguments[c];P._chained?h.push.apply(h,P._chained):h.push(P)}var U=function(){for(var G,A=new Array(arguments.length),X=0,I=arguments.length;X<I;X++)A[X]=arguments[X];for(X=0;X<h.length;X+=1){var j=h[X].apply(G,A);typeof j!="undefined"&&(G=j)}return G};return U._chained=h,U},t.chainPathBefore=function(h,c,P){return t.set(h,c,t.chain(P,t.get(h,c)))},t.chainPathAfter=function(h,c,P){return t.set(h,c,t.chain(t.get(h,c),P))}}()},function(a,n){var t={};a.exports=t,function(){t.create=function(i){var h={min:{x:0,y:0},max:{x:0,y:0}};return i&&t.update(h,i),h},t.update=function(i,h,c){i.min.x=1/0,i.max.x=-1/0,i.min.y=1/0,i.max.y=-1/0;for(var P=0;P<h.length;P++){var U=h[P];U.x>i.max.x&&(i.max.x=U.x),U.x<i.min.x&&(i.min.x=U.x),U.y>i.max.y&&(i.max.y=U.y),U.y<i.min.y&&(i.min.y=U.y)}c&&(c.x>0?i.max.x+=c.x:i.min.x+=c.x,c.y>0?i.max.y+=c.y:i.min.y+=c.y)},t.contains=function(i,h){return h.x>=i.min.x&&h.x<=i.max.x&&h.y>=i.min.y&&h.y<=i.max.y},t.overlaps=function(i,h){return i.min.x<=h.max.x&&i.max.x>=h.min.x&&i.max.y>=h.min.y&&i.min.y<=h.max.y},t.translate=function(i,h){i.min.x+=h.x,i.max.x+=h.x,i.min.y+=h.y,i.max.y+=h.y},t.shift=function(i,h){var c=i.max.x-i.min.x,P=i.max.y-i.min.y;i.min.x=h.x,i.max.x=h.x+c,i.min.y=h.y,i.max.y=h.y+P}}()},function(a,n){var t={};a.exports=t,function(){t.create=function(i,h){return{x:i||0,y:h||0}},t.clone=function(i){return{x:i.x,y:i.y}},t.magnitude=function(i){return Math.sqrt(i.x*i.x+i.y*i.y)},t.magnitudeSquared=function(i){return i.x*i.x+i.y*i.y},t.rotate=function(i,h,c){var P=Math.cos(h),U=Math.sin(h);c||(c={});var G=i.x*P-i.y*U;return c.y=i.x*U+i.y*P,c.x=G,c},t.rotateAbout=function(i,h,c,P){var U=Math.cos(h),G=Math.sin(h);P||(P={});var A=c.x+((i.x-c.x)*U-(i.y-c.y)*G);return P.y=c.y+((i.x-c.x)*G+(i.y-c.y)*U),P.x=A,P},t.normalise=function(i){var h=t.magnitude(i);return h===0?{x:0,y:0}:{x:i.x/h,y:i.y/h}},t.dot=function(i,h){return i.x*h.x+i.y*h.y},t.cross=function(i,h){return i.x*h.y-i.y*h.x},t.cross3=function(i,h,c){return(h.x-i.x)*(c.y-i.y)-(h.y-i.y)*(c.x-i.x)},t.add=function(i,h,c){return c||(c={}),c.x=i.x+h.x,c.y=i.y+h.y,c},t.sub=function(i,h,c){return c||(c={}),c.x=i.x-h.x,c.y=i.y-h.y,c},t.mult=function(i,h){return{x:i.x*h,y:i.y*h}},t.div=function(i,h){return{x:i.x/h,y:i.y/h}},t.perp=function(i,h){return h=h===!0?-1:1,{x:h*-i.y,y:h*i.x}},t.neg=function(i){return{x:-i.x,y:-i.y}},t.angle=function(i,h){return Math.atan2(h.y-i.y,h.x-i.x)},t._temp=[t.create(),t.create(),t.create(),t.create(),t.create(),t.create()]}()},function(a,n,t){var i={};a.exports=i;var h=t(2),c=t(0);(function(){i.create=function(P,U){for(var G=[],A=0;A<P.length;A++){var X=P[A],I={x:X.x,y:X.y,index:A,body:U,isInternal:!1};G.push(I)}return G},i.fromPath=function(P,U){var G=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,A=[];return P.replace(G,function(X,I,j){A.push({x:parseFloat(I),y:parseFloat(j)})}),i.create(A,U)},i.centre=function(P){for(var U=i.area(P,!0),G={x:0,y:0},A,X,I,j=0;j<P.length;j++)I=(j+1)%P.length,A=h.cross(P[j],P[I]),X=h.mult(h.add(P[j],P[I]),A),G=h.add(G,X);return h.div(G,6*U)},i.mean=function(P){for(var U={x:0,y:0},G=0;G<P.length;G++)U.x+=P[G].x,U.y+=P[G].y;return h.div(U,P.length)},i.area=function(P,U){for(var G=0,A=P.length-1,X=0;X<P.length;X++)G+=(P[A].x-P[X].x)*(P[A].y+P[X].y),A=X;return U?G/2:Math.abs(G)/2},i.inertia=function(P,U){for(var G=0,A=0,X=P,I,j,re=0;re<X.length;re++)j=(re+1)%X.length,I=Math.abs(h.cross(X[j],X[re])),G+=I*(h.dot(X[j],X[j])+h.dot(X[j],X[re])+h.dot(X[re],X[re])),A+=I;return U/6*(G/A)},i.translate=function(P,U,G){var A;if(G)for(A=0;A<P.length;A++)P[A].x+=U.x*G,P[A].y+=U.y*G;else for(A=0;A<P.length;A++)P[A].x+=U.x,P[A].y+=U.y;return P},i.rotate=function(P,U,G){if(U!==0){for(var A=Math.cos(U),X=Math.sin(U),I=0;I<P.length;I++){var j=P[I],re=j.x-G.x,q=j.y-G.y;j.x=G.x+(re*A-q*X),j.y=G.y+(re*X+q*A)}return P}},i.contains=function(P,U){for(var G=0;G<P.length;G++){var A=P[G],X=P[(G+1)%P.length];if((U.x-A.x)*(X.y-A.y)+(U.y-A.y)*(A.x-X.x)>0)return!1}return!0},i.scale=function(P,U,G,A){if(U===1&&G===1)return P;A=A||i.centre(P);for(var X,I,j=0;j<P.length;j++)X=P[j],I=h.sub(X,A),P[j].x=A.x+I.x*U,P[j].y=A.y+I.y*G;return P},i.chamfer=function(P,U,G,A,X){typeof U=="number"?U=[U]:U=U||[8],G=typeof G!="undefined"?G:-1,A=A||2,X=X||14;for(var I=[],j=0;j<P.length;j++){var re=P[j-1>=0?j-1:P.length-1],q=P[j],ce=P[(j+1)%P.length],he=U[j<U.length?j:U.length-1];if(he===0){I.push(q);continue}var ne=h.normalise({x:q.y-re.y,y:re.x-q.x}),le=h.normalise({x:ce.y-q.y,y:q.x-ce.x}),pe=Math.sqrt(2*Math.pow(he,2)),fe=h.mult(c.clone(ne),he),xe=h.normalise(h.mult(h.add(ne,le),.5)),ye=h.sub(q,h.mult(xe,pe)),Me=G;G===-1&&(Me=Math.pow(he,.32)*1.75),Me=c.clamp(Me,A,X),Me%2==1&&(Me+=1);for(var be=Math.acos(h.dot(ne,le)),De=be/Me,Be=0;Be<Me;Be++)I.push(h.add(h.rotate(fe,De*Be),ye))}return I},i.clockwiseSort=function(P){var U=i.mean(P);return P.sort(function(G,A){return h.angle(U,G)-h.angle(U,A)}),P},i.isConvex=function(P){var U=0,G=P.length,A,X,I,j;if(G<3)return null;for(A=0;A<G;A++)if(X=(A+1)%G,I=(A+2)%G,j=(P[X].x-P[A].x)*(P[I].y-P[X].y),j-=(P[X].y-P[A].y)*(P[I].x-P[X].x),j<0?U|=1:j>0&&(U|=2),U===3)return!1;return U!==0?!0:null},i.hull=function(P){var U=[],G=[],A,X;for(P=P.slice(0),P.sort(function(I,j){var re=I.x-j.x;return re!==0?re:I.y-j.y}),X=0;X<P.length;X+=1){for(A=P[X];G.length>=2&&h.cross3(G[G.length-2],G[G.length-1],A)<=0;)G.pop();G.push(A)}for(X=P.length-1;X>=0;X-=1){for(A=P[X];U.length>=2&&h.cross3(U[U.length-2],U[U.length-1],A)<=0;)U.pop();U.push(A)}return U.pop(),G.pop(),U.concat(G)}})()},function(a,n,t){var i={};a.exports=i;var h=t(0);(function(){i.on=function(c,P,U){for(var G=P.split(" "),A,X=0;X<G.length;X++)A=G[X],c.events=c.events||{},c.events[A]=c.events[A]||[],c.events[A].push(U);return U},i.off=function(c,P,U){if(!P){c.events={};return}typeof P=="function"&&(U=P,P=h.keys(c.events).join(" "));for(var G=P.split(" "),A=0;A<G.length;A++){var X=c.events[G[A]],I=[];if(U&&X)for(var j=0;j<X.length;j++)X[j]!==U&&I.push(X[j]);c.events[G[A]]=I}},i.trigger=function(c,P,U){var G,A,X,I,j=c.events;if(j&&h.keys(j).length>0){U||(U={}),G=P.split(" ");for(var re=0;re<G.length;re++)if(A=G[re],X=j[A],X){I=h.clone(U,!1),I.name=A,I.source=c;for(var q=0;q<X.length;q++)X[q].apply(c,[I])}}}})()},function(a,n,t){var i={};a.exports=i;var h=t(4),c=t(0),P=t(1),U=t(6);(function(){i.create=function(G){return c.extend({id:c.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},G)},i.setModified=function(G,A,X,I){if(G.isModified=A,X&&G.parent&&i.setModified(G.parent,A,X,I),I)for(var j=0;j<G.composites.length;j++){var re=G.composites[j];i.setModified(re,A,X,I)}},i.add=function(G,A){var X=[].concat(A);h.trigger(G,"beforeAdd",{object:A});for(var I=0;I<X.length;I++){var j=X[I];switch(j.type){case"body":if(j.parent!==j){c.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}i.addBody(G,j);break;case"constraint":i.addConstraint(G,j);break;case"composite":i.addComposite(G,j);break;case"mouseConstraint":i.addConstraint(G,j.constraint);break}}return h.trigger(G,"afterAdd",{object:A}),G},i.remove=function(G,A,X){var I=[].concat(A);h.trigger(G,"beforeRemove",{object:A});for(var j=0;j<I.length;j++){var re=I[j];switch(re.type){case"body":i.removeBody(G,re,X);break;case"constraint":i.removeConstraint(G,re,X);break;case"composite":i.removeComposite(G,re,X);break;case"mouseConstraint":i.removeConstraint(G,re.constraint);break}}return h.trigger(G,"afterRemove",{object:A}),G},i.addComposite=function(G,A){return G.composites.push(A),A.parent=G,i.setModified(G,!0,!0,!1),G},i.removeComposite=function(G,A,X){var I=c.indexOf(G.composites,A);if(I!==-1&&(i.removeCompositeAt(G,I),i.setModified(G,!0,!0,!1)),X)for(var j=0;j<G.composites.length;j++)i.removeComposite(G.composites[j],A,!0);return G},i.removeCompositeAt=function(G,A){return G.composites.splice(A,1),i.setModified(G,!0,!0,!1),G},i.addBody=function(G,A){return G.bodies.push(A),i.setModified(G,!0,!0,!1),G},i.removeBody=function(G,A,X){var I=c.indexOf(G.bodies,A);if(I!==-1&&(i.removeBodyAt(G,I),i.setModified(G,!0,!0,!1)),X)for(var j=0;j<G.composites.length;j++)i.removeBody(G.composites[j],A,!0);return G},i.removeBodyAt=function(G,A){return G.bodies.splice(A,1),i.setModified(G,!0,!0,!1),G},i.addConstraint=function(G,A){return G.constraints.push(A),i.setModified(G,!0,!0,!1),G},i.removeConstraint=function(G,A,X){var I=c.indexOf(G.constraints,A);if(I!==-1&&i.removeConstraintAt(G,I),X)for(var j=0;j<G.composites.length;j++)i.removeConstraint(G.composites[j],A,!0);return G},i.removeConstraintAt=function(G,A){return G.constraints.splice(A,1),i.setModified(G,!0,!0,!1),G},i.clear=function(G,A,X){if(X)for(var I=0;I<G.composites.length;I++)i.clear(G.composites[I],A,!0);return A?G.bodies=G.bodies.filter(function(j){return j.isStatic}):G.bodies.length=0,G.constraints.length=0,G.composites.length=0,i.setModified(G,!0,!0,!1),G},i.allBodies=function(G){for(var A=[].concat(G.bodies),X=0;X<G.composites.length;X++)A=A.concat(i.allBodies(G.composites[X]));return A},i.allConstraints=function(G){for(var A=[].concat(G.constraints),X=0;X<G.composites.length;X++)A=A.concat(i.allConstraints(G.composites[X]));return A},i.allComposites=function(G){for(var A=[].concat(G.composites),X=0;X<G.composites.length;X++)A=A.concat(i.allComposites(G.composites[X]));return A},i.get=function(G,A,X){var I,j;switch(X){case"body":I=i.allBodies(G);break;case"constraint":I=i.allConstraints(G);break;case"composite":I=i.allComposites(G).concat(G);break}return I?(j=I.filter(function(re){return re.id.toString()===A.toString()}),j.length===0?null:j[0]):null},i.move=function(G,A,X){return i.remove(G,A),i.add(X,A),G},i.rebase=function(G){for(var A=i.allBodies(G).concat(i.allConstraints(G)).concat(i.allComposites(G)),X=0;X<A.length;X++)A[X].id=c.nextId();return i.setModified(G,!0,!0,!1),G},i.translate=function(G,A,X){for(var I=X?i.allBodies(G):G.bodies,j=0;j<I.length;j++)U.translate(I[j],A);return i.setModified(G,!0,!0,!1),G},i.rotate=function(G,A,X,I){for(var j=Math.cos(A),re=Math.sin(A),q=I?i.allBodies(G):G.bodies,ce=0;ce<q.length;ce++){var he=q[ce],ne=he.position.x-X.x,le=he.position.y-X.y;U.setPosition(he,{x:X.x+(ne*j-le*re),y:X.y+(ne*re+le*j)}),U.rotate(he,A)}return i.setModified(G,!0,!0,!1),G},i.scale=function(G,A,X,I,j){for(var re=j?i.allBodies(G):G.bodies,q=0;q<re.length;q++){var ce=re[q],he=ce.position.x-I.x,ne=ce.position.y-I.y;U.setPosition(ce,{x:I.x+he*A,y:I.y+ne*X}),U.scale(ce,A,X)}return i.setModified(G,!0,!0,!1),G},i.bounds=function(G){for(var A=i.allBodies(G),X=[],I=0;I<A.length;I+=1){var j=A[I];X.push(j.bounds.min,j.bounds.max)}return P.create(X)}})()},function(a,n,t){var i={};a.exports=i;var h=t(3),c=t(2),P=t(7);t(10);var U=t(0),G=t(1),A=t(15);(function(){i._inertiaScale=4,i._nextCollidingGroupId=1,i._nextNonCollidingGroupId=-1,i._nextCategory=1,i.create=function(I){var j={id:U.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:h.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0},lineWidth:0},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,_original:null},re=U.extend(j,I);return X(re,I),re},i.nextGroup=function(I){return I?i._nextNonCollidingGroupId--:i._nextCollidingGroupId++},i.nextCategory=function(){return i._nextCategory=i._nextCategory<<1,i._nextCategory};var X=function(I,j){j=j||{},i.set(I,{bounds:I.bounds||G.create(I.vertices),positionPrev:I.positionPrev||c.clone(I.position),anglePrev:I.anglePrev||I.angle,vertices:I.vertices,parts:I.parts||[I],isStatic:I.isStatic,isSleeping:I.isSleeping,parent:I.parent||I}),h.rotate(I.vertices,I.angle,I.position),A.rotate(I.axes,I.angle),G.update(I.bounds,I.vertices,I.velocity),i.set(I,{axes:j.axes||I.axes,area:j.area||I.area,mass:j.mass||I.mass,inertia:j.inertia||I.inertia});var re=I.isStatic?"#2e2b44":U.choose(["#006BA6","#0496FF","#FFBC42","#D81159","#8F2D56"]),q="#000";I.render.fillStyle=I.render.fillStyle||re,I.render.strokeStyle=I.render.strokeStyle||q,I.render.sprite.xOffset+=-(I.bounds.min.x-I.position.x)/(I.bounds.max.x-I.bounds.min.x),I.render.sprite.yOffset+=-(I.bounds.min.y-I.position.y)/(I.bounds.max.y-I.bounds.min.y)};i.set=function(I,j,re){var q;typeof j=="string"&&(q=j,j={},j[q]=re);for(q in j)if(!!Object.prototype.hasOwnProperty.call(j,q))switch(re=j[q],q){case"isStatic":i.setStatic(I,re);break;case"isSleeping":P.set(I,re);break;case"mass":i.setMass(I,re);break;case"density":i.setDensity(I,re);break;case"inertia":i.setInertia(I,re);break;case"vertices":i.setVertices(I,re);break;case"position":i.setPosition(I,re);break;case"angle":i.setAngle(I,re);break;case"velocity":i.setVelocity(I,re);break;case"angularVelocity":i.setAngularVelocity(I,re);break;case"parts":i.setParts(I,re);break;case"centre":i.setCentre(I,re);break;default:I[q]=re}},i.setStatic=function(I,j){for(var re=0;re<I.parts.length;re++){var q=I.parts[re];q.isStatic=j,j?(q._original={restitution:q.restitution,friction:q.friction,mass:q.mass,inertia:q.inertia,density:q.density,inverseMass:q.inverseMass,inverseInertia:q.inverseInertia},q.restitution=0,q.friction=1,q.mass=q.inertia=q.density=1/0,q.inverseMass=q.inverseInertia=0,q.positionPrev.x=q.position.x,q.positionPrev.y=q.position.y,q.anglePrev=q.angle,q.angularVelocity=0,q.speed=0,q.angularSpeed=0,q.motion=0):q._original&&(q.restitution=q._original.restitution,q.friction=q._original.friction,q.mass=q._original.mass,q.inertia=q._original.inertia,q.density=q._original.density,q.inverseMass=q._original.inverseMass,q.inverseInertia=q._original.inverseInertia,q._original=null)}},i.setMass=function(I,j){var re=I.inertia/(I.mass/6);I.inertia=re*(j/6),I.inverseInertia=1/I.inertia,I.mass=j,I.inverseMass=1/I.mass,I.density=I.mass/I.area},i.setDensity=function(I,j){i.setMass(I,j*I.area),I.density=j},i.setInertia=function(I,j){I.inertia=j,I.inverseInertia=1/I.inertia},i.setVertices=function(I,j){j[0].body===I?I.vertices=j:I.vertices=h.create(j,I),I.axes=A.fromVertices(I.vertices),I.area=h.area(I.vertices),i.setMass(I,I.density*I.area);var re=h.centre(I.vertices);h.translate(I.vertices,re,-1),i.setInertia(I,i._inertiaScale*h.inertia(I.vertices,I.mass)),h.translate(I.vertices,I.position),G.update(I.bounds,I.vertices,I.velocity)},i.setParts=function(I,j,re){var q;for(j=j.slice(0),I.parts.length=0,I.parts.push(I),I.parent=I,q=0;q<j.length;q++){var ce=j[q];ce!==I&&(ce.parent=I,I.parts.push(ce))}if(I.parts.length!==1){if(re=typeof re!="undefined"?re:!0,re){var he=[];for(q=0;q<j.length;q++)he=he.concat(j[q].vertices);h.clockwiseSort(he);var ne=h.hull(he),le=h.centre(ne);i.setVertices(I,ne),h.translate(I.vertices,le)}var pe=i._totalProperties(I);I.area=pe.area,I.parent=I,I.position.x=pe.centre.x,I.position.y=pe.centre.y,I.positionPrev.x=pe.centre.x,I.positionPrev.y=pe.centre.y,i.setMass(I,pe.mass),i.setInertia(I,pe.inertia),i.setPosition(I,pe.centre)}},i.setCentre=function(I,j,re){re?(I.positionPrev.x+=j.x,I.positionPrev.y+=j.y,I.position.x+=j.x,I.position.y+=j.y):(I.positionPrev.x=j.x-(I.position.x-I.positionPrev.x),I.positionPrev.y=j.y-(I.position.y-I.positionPrev.y),I.position.x=j.x,I.position.y=j.y)},i.setPosition=function(I,j){var re=c.sub(j,I.position);I.positionPrev.x+=re.x,I.positionPrev.y+=re.y;for(var q=0;q<I.parts.length;q++){var ce=I.parts[q];ce.position.x+=re.x,ce.position.y+=re.y,h.translate(ce.vertices,re),G.update(ce.bounds,ce.vertices,I.velocity)}},i.setAngle=function(I,j){var re=j-I.angle;I.anglePrev+=re;for(var q=0;q<I.parts.length;q++){var ce=I.parts[q];ce.angle+=re,h.rotate(ce.vertices,re,I.position),A.rotate(ce.axes,re),G.update(ce.bounds,ce.vertices,I.velocity),q>0&&c.rotateAbout(ce.position,re,I.position,ce.position)}},i.setVelocity=function(I,j){I.positionPrev.x=I.position.x-j.x,I.positionPrev.y=I.position.y-j.y,I.velocity.x=j.x,I.velocity.y=j.y,I.speed=c.magnitude(I.velocity)},i.setAngularVelocity=function(I,j){I.anglePrev=I.angle-j,I.angularVelocity=j,I.angularSpeed=Math.abs(I.angularVelocity)},i.translate=function(I,j){i.setPosition(I,c.add(I.position,j))},i.rotate=function(I,j,re){if(!re)i.setAngle(I,I.angle+j);else{var q=Math.cos(j),ce=Math.sin(j),he=I.position.x-re.x,ne=I.position.y-re.y;i.setPosition(I,{x:re.x+(he*q-ne*ce),y:re.y+(he*ce+ne*q)}),i.setAngle(I,I.angle+j)}},i.scale=function(I,j,re,q){var ce=0,he=0;q=q||I.position;for(var ne=0;ne<I.parts.length;ne++){var le=I.parts[ne];h.scale(le.vertices,j,re,q),le.axes=A.fromVertices(le.vertices),le.area=h.area(le.vertices),i.setMass(le,I.density*le.area),h.translate(le.vertices,{x:-le.position.x,y:-le.position.y}),i.setInertia(le,i._inertiaScale*h.inertia(le.vertices,le.mass)),h.translate(le.vertices,{x:le.position.x,y:le.position.y}),ne>0&&(ce+=le.area,he+=le.inertia),le.position.x=q.x+(le.position.x-q.x)*j,le.position.y=q.y+(le.position.y-q.y)*re,G.update(le.bounds,le.vertices,I.velocity)}I.parts.length>1&&(I.area=ce,I.isStatic||(i.setMass(I,I.density*ce),i.setInertia(I,he))),I.circleRadius&&(j===re?I.circleRadius*=j:I.circleRadius=null)},i.update=function(I,j,re,q){var ce=Math.pow(j*re*I.timeScale,2),he=1-I.frictionAir*re*I.timeScale,ne=I.position.x-I.positionPrev.x,le=I.position.y-I.positionPrev.y;I.velocity.x=ne*he*q+I.force.x/I.mass*ce,I.velocity.y=le*he*q+I.force.y/I.mass*ce,I.positionPrev.x=I.position.x,I.positionPrev.y=I.position.y,I.position.x+=I.velocity.x,I.position.y+=I.velocity.y,I.angularVelocity=(I.angle-I.anglePrev)*he*q+I.torque/I.inertia*ce,I.anglePrev=I.angle,I.angle+=I.angularVelocity,I.speed=c.magnitude(I.velocity),I.angularSpeed=Math.abs(I.angularVelocity);for(var pe=0;pe<I.parts.length;pe++){var fe=I.parts[pe];h.translate(fe.vertices,I.velocity),pe>0&&(fe.position.x+=I.velocity.x,fe.position.y+=I.velocity.y),I.angularVelocity!==0&&(h.rotate(fe.vertices,I.angularVelocity,I.position),A.rotate(fe.axes,I.angularVelocity),pe>0&&c.rotateAbout(fe.position,I.angularVelocity,I.position,fe.position)),G.update(fe.bounds,fe.vertices,I.velocity)}},i.applyForce=function(I,j,re){I.force.x+=re.x,I.force.y+=re.y;var q={x:j.x-I.position.x,y:j.y-I.position.y};I.torque+=q.x*re.y-q.y*re.x},i._totalProperties=function(I){for(var j={mass:0,area:0,inertia:0,centre:{x:0,y:0}},re=I.parts.length===1?0:1;re<I.parts.length;re++){var q=I.parts[re],ce=q.mass!==1/0?q.mass:1;j.mass+=ce,j.area+=q.area,j.inertia+=q.inertia,j.centre=c.add(j.centre,c.mult(q.position,ce))}return j.centre=c.div(j.centre,j.mass),j}})()},function(a,n,t){var i={};a.exports=i;var h=t(4);(function(){i._motionWakeThreshold=.18,i._motionSleepThreshold=.08,i._minBias=.9,i.update=function(c,P){for(var U=P*P*P,G=0;G<c.length;G++){var A=c[G],X=A.speed*A.speed+A.angularSpeed*A.angularSpeed;if(A.force.x!==0||A.force.y!==0){i.set(A,!1);continue}var I=Math.min(A.motion,X),j=Math.max(A.motion,X);A.motion=i._minBias*I+(1-i._minBias)*j,A.sleepThreshold>0&&A.motion<i._motionSleepThreshold*U?(A.sleepCounter+=1,A.sleepCounter>=A.sleepThreshold&&i.set(A,!0)):A.sleepCounter>0&&(A.sleepCounter-=1)}},i.afterCollisions=function(c,P){for(var U=P*P*P,G=0;G<c.length;G++){var A=c[G];if(!!A.isActive){var X=A.collision,I=X.bodyA.parent,j=X.bodyB.parent;if(!(I.isSleeping&&j.isSleeping||I.isStatic||j.isStatic)&&(I.isSleeping||j.isSleeping)){var re=I.isSleeping&&!I.isStatic?I:j,q=re===I?j:I;!re.isStatic&&q.motion>i._motionWakeThreshold*U&&i.set(re,!1)}}}},i.set=function(c,P){var U=c.isSleeping;P?(c.isSleeping=!0,c.sleepCounter=c.sleepThreshold,c.positionImpulse.x=0,c.positionImpulse.y=0,c.positionPrev.x=c.position.x,c.positionPrev.y=c.position.y,c.anglePrev=c.angle,c.speed=0,c.angularSpeed=0,c.motion=0,U||h.trigger(c,"sleepStart")):(c.isSleeping=!1,c.sleepCounter=0,U&&h.trigger(c,"sleepEnd"))}})()},function(a,n,t){var i={};a.exports=i;var h=t(3),c=t(2),P=t(7),U=t(1),G=t(15),A=t(0);(function(){i._warming=.4,i._torqueDampen=1,i._minLength=1e-6,i.create=function(X){var I=X;I.bodyA&&!I.pointA&&(I.pointA={x:0,y:0}),I.bodyB&&!I.pointB&&(I.pointB={x:0,y:0});var j=I.bodyA?c.add(I.bodyA.position,I.pointA):I.pointA,re=I.bodyB?c.add(I.bodyB.position,I.pointB):I.pointB,q=c.magnitude(c.sub(j,re));I.length=typeof I.length!="undefined"?I.length:q,I.id=I.id||A.nextId(),I.label=I.label||"Constraint",I.type="constraint",I.stiffness=I.stiffness||(I.length>0?1:.7),I.damping=I.damping||0,I.angularStiffness=I.angularStiffness||0,I.angleA=I.bodyA?I.bodyA.angle:I.angleA,I.angleB=I.bodyB?I.bodyB.angle:I.angleB,I.plugin={};var ce={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return I.length===0&&I.stiffness>.1?(ce.type="pin",ce.anchors=!1):I.stiffness<.9&&(ce.type="spring"),I.render=A.extend(ce,I.render),I},i.preSolveAll=function(X){for(var I=0;I<X.length;I+=1){var j=X[I],re=j.constraintImpulse;j.isStatic||re.x===0&&re.y===0&&re.angle===0||(j.position.x+=re.x,j.position.y+=re.y,j.angle+=re.angle)}},i.solveAll=function(X,I){for(var j=0;j<X.length;j+=1){var re=X[j],q=!re.bodyA||re.bodyA&&re.bodyA.isStatic,ce=!re.bodyB||re.bodyB&&re.bodyB.isStatic;(q||ce)&&i.solve(X[j],I)}for(j=0;j<X.length;j+=1)re=X[j],q=!re.bodyA||re.bodyA&&re.bodyA.isStatic,ce=!re.bodyB||re.bodyB&&re.bodyB.isStatic,!q&&!ce&&i.solve(X[j],I)},i.solve=function(X,I){var j=X.bodyA,re=X.bodyB,q=X.pointA,ce=X.pointB;if(!(!j&&!re)){j&&!j.isStatic&&(c.rotate(q,j.angle-X.angleA,q),X.angleA=j.angle),re&&!re.isStatic&&(c.rotate(ce,re.angle-X.angleB,ce),X.angleB=re.angle);var he=q,ne=ce;if(j&&(he=c.add(j.position,q)),re&&(ne=c.add(re.position,ce)),!(!he||!ne)){var le=c.sub(he,ne),pe=c.magnitude(le);pe<i._minLength&&(pe=i._minLength);var fe=(pe-X.length)/pe,xe=X.stiffness<1?X.stiffness*I:X.stiffness,ye=c.mult(le,fe*xe),Me=(j?j.inverseMass:0)+(re?re.inverseMass:0),be=(j?j.inverseInertia:0)+(re?re.inverseInertia:0),De=Me+be,Be,Xe,Ye,Ze,Tt;if(X.damping){var bt=c.create();Ye=c.div(le,pe),Tt=c.sub(re&&c.sub(re.position,re.positionPrev)||bt,j&&c.sub(j.position,j.positionPrev)||bt),Ze=c.dot(Ye,Tt)}j&&!j.isStatic&&(Xe=j.inverseMass/Me,j.constraintImpulse.x-=ye.x*Xe,j.constraintImpulse.y-=ye.y*Xe,j.position.x-=ye.x*Xe,j.position.y-=ye.y*Xe,X.damping&&(j.positionPrev.x-=X.damping*Ye.x*Ze*Xe,j.positionPrev.y-=X.damping*Ye.y*Ze*Xe),Be=c.cross(q,ye)/De*i._torqueDampen*j.inverseInertia*(1-X.angularStiffness),j.constraintImpulse.angle-=Be,j.angle-=Be),re&&!re.isStatic&&(Xe=re.inverseMass/Me,re.constraintImpulse.x+=ye.x*Xe,re.constraintImpulse.y+=ye.y*Xe,re.position.x+=ye.x*Xe,re.position.y+=ye.y*Xe,X.damping&&(re.positionPrev.x+=X.damping*Ye.x*Ze*Xe,re.positionPrev.y+=X.damping*Ye.y*Ze*Xe),Be=c.cross(ce,ye)/De*i._torqueDampen*re.inverseInertia*(1-X.angularStiffness),re.constraintImpulse.angle+=Be,re.angle+=Be)}}},i.postSolveAll=function(X){for(var I=0;I<X.length;I++){var j=X[I],re=j.constraintImpulse;if(!(j.isStatic||re.x===0&&re.y===0&&re.angle===0)){P.set(j,!1);for(var q=0;q<j.parts.length;q++){var ce=j.parts[q];h.translate(ce.vertices,re),q>0&&(ce.position.x+=re.x,ce.position.y+=re.y),re.angle!==0&&(h.rotate(ce.vertices,re.angle,j.position),G.rotate(ce.axes,re.angle),q>0&&c.rotateAbout(ce.position,re.angle,j.position,ce.position)),U.update(ce.bounds,ce.vertices,j.velocity)}re.angle*=i._warming,re.x*=i._warming,re.y*=i._warming}}},i.pointAWorld=function(X){return{x:(X.bodyA?X.bodyA.position.x:0)+X.pointA.x,y:(X.bodyA?X.bodyA.position.y:0)+X.pointA.y}},i.pointBWorld=function(X){return{x:(X.bodyB?X.bodyB.position.x:0)+X.pointB.x,y:(X.bodyB?X.bodyB.position.y:0)+X.pointB.y}}})()},function(a,n,t){var i={};a.exports=i;var h=t(18);(function(){i.create=function(c,P){var U=c.bodyA,G=c.bodyB,A=c.parentA,X=c.parentB,I={id:i.id(U,G),bodyA:U,bodyB:G,contacts:{},activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:U.isSensor||G.isSensor,timeCreated:P,timeUpdated:P,inverseMass:A.inverseMass+X.inverseMass,friction:Math.min(A.friction,X.friction),frictionStatic:Math.max(A.frictionStatic,X.frictionStatic),restitution:Math.max(A.restitution,X.restitution),slop:Math.max(A.slop,X.slop)};return i.update(I,c,P),I},i.update=function(c,P,U){var G=c.contacts,A=P.supports,X=c.activeContacts,I=P.parentA,j=P.parentB;if(c.collision=P,c.inverseMass=I.inverseMass+j.inverseMass,c.friction=Math.min(I.friction,j.friction),c.frictionStatic=Math.max(I.frictionStatic,j.frictionStatic),c.restitution=Math.max(I.restitution,j.restitution),c.slop=Math.max(I.slop,j.slop),X.length=0,P.collided){for(var re=0;re<A.length;re++){var q=A[re],ce=h.id(q),he=G[ce];he?X.push(he):X.push(G[ce]=h.create(q))}c.separation=P.depth,i.setActive(c,!0,U)}else c.isActive===!0&&i.setActive(c,!1,U)},i.setActive=function(c,P,U){P?(c.isActive=!0,c.timeUpdated=U):(c.isActive=!1,c.activeContacts.length=0)},i.id=function(c,P){return c.id<P.id?"A"+c.id+"B"+P.id:"A"+P.id+"B"+c.id}})()},function(a,n,t){var i={};a.exports=i;var h=t(0),c=t(5),P=t(1),U=t(4),G=t(11),A=t(2),X=t(14);(function(){var I,j;typeof window!="undefined"&&(I=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(ne){window.setTimeout(function(){ne(h.now())},1e3/60)},j=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),i.create=function(ne){var le={controller:i,engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,options:{width:800,height:600,pixelRatio:1,background:"#18181d",wireframeBackground:"#0f0f13",hasBounds:!!ne.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},pe=h.extend(le,ne);return pe.canvas&&(pe.canvas.width=pe.options.width||pe.canvas.width,pe.canvas.height=pe.options.height||pe.canvas.height),pe.mouse=ne.mouse,pe.engine=ne.engine,pe.canvas=pe.canvas||re(pe.options.width,pe.options.height),pe.context=pe.canvas.getContext("2d"),pe.textures={},pe.bounds=pe.bounds||{min:{x:0,y:0},max:{x:pe.canvas.width,y:pe.canvas.height}},pe.options.pixelRatio!==1&&i.setPixelRatio(pe,pe.options.pixelRatio),h.isElement(pe.element)?pe.element.appendChild(pe.canvas):pe.canvas.parentNode||h.log("Render.create: options.element was undefined, render.canvas was created but not appended","warn"),pe},i.run=function(ne){(function le(pe){ne.frameRequestId=I(le),i.world(ne)})()},i.stop=function(ne){j(ne.frameRequestId)},i.setPixelRatio=function(ne,le){var pe=ne.options,fe=ne.canvas;le==="auto"&&(le=q(fe)),pe.pixelRatio=le,fe.setAttribute("data-pixel-ratio",le),fe.width=pe.width*le,fe.height=pe.height*le,fe.style.width=pe.width/2+"px",fe.style.height=pe.height/2+"px"},i.lookAt=function(ne,le,pe,fe){fe=typeof fe!="undefined"?fe:!0,le=h.isArray(le)?le:[le],pe=pe||{x:0,y:0};for(var xe={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},ye=0;ye<le.length;ye+=1){var Me=le[ye],be=Me.bounds?Me.bounds.min:Me.min||Me.position||Me,De=Me.bounds?Me.bounds.max:Me.max||Me.position||Me;be&&De&&(be.x<xe.min.x&&(xe.min.x=be.x),De.x>xe.max.x&&(xe.max.x=De.x),be.y<xe.min.y&&(xe.min.y=be.y),De.y>xe.max.y&&(xe.max.y=De.y))}var Be=xe.max.x-xe.min.x+2*pe.x,Xe=xe.max.y-xe.min.y+2*pe.y,Ye=ne.canvas.height,Ze=ne.canvas.width,Tt=Ze/Ye,bt=Be/Xe,Yt=1,zt=1;bt>Tt?zt=bt/Tt:Yt=Tt/bt,ne.options.hasBounds=!0,ne.bounds.min.x=xe.min.x,ne.bounds.max.x=xe.min.x+Be*Yt,ne.bounds.min.y=xe.min.y,ne.bounds.max.y=xe.min.y+Xe*zt,fe&&(ne.bounds.min.x+=Be*.5-Be*Yt*.5,ne.bounds.max.x+=Be*.5-Be*Yt*.5,ne.bounds.min.y+=Xe*.5-Xe*zt*.5,ne.bounds.max.y+=Xe*.5-Xe*zt*.5),ne.bounds.min.x-=pe.x,ne.bounds.max.x-=pe.x,ne.bounds.min.y-=pe.y,ne.bounds.max.y-=pe.y,ne.mouse&&(X.setScale(ne.mouse,{x:(ne.bounds.max.x-ne.bounds.min.x)/ne.canvas.width,y:(ne.bounds.max.y-ne.bounds.min.y)/ne.canvas.height}),X.setOffset(ne.mouse,ne.bounds.min))},i.startViewTransform=function(ne){var le=ne.bounds.max.x-ne.bounds.min.x,pe=ne.bounds.max.y-ne.bounds.min.y,fe=le/ne.options.width,xe=pe/ne.options.height;ne.context.setTransform(ne.options.pixelRatio/fe,0,0,ne.options.pixelRatio/xe,0,0),ne.context.translate(-ne.bounds.min.x,-ne.bounds.min.y)},i.endViewTransform=function(ne){ne.context.setTransform(ne.options.pixelRatio,0,0,ne.options.pixelRatio,0,0)},i.world=function(ne){var le=ne.engine,pe=le.world,fe=ne.canvas,xe=ne.context,ye=ne.options,Me=c.allBodies(pe),be=c.allConstraints(pe),De=ye.wireframes?ye.wireframeBackground:ye.background,Be=[],Xe=[],Ye,Ze={timestamp:le.timing.timestamp};if(U.trigger(ne,"beforeRender",Ze),ne.currentBackground!==De&&he(ne,De),xe.globalCompositeOperation="source-in",xe.fillStyle="transparent",xe.fillRect(0,0,fe.width,fe.height),xe.globalCompositeOperation="source-over",ye.hasBounds){for(Ye=0;Ye<Me.length;Ye++){var Tt=Me[Ye];P.overlaps(Tt.bounds,ne.bounds)&&Be.push(Tt)}for(Ye=0;Ye<be.length;Ye++){var bt=be[Ye],Yt=bt.bodyA,zt=bt.bodyB,cr=bt.pointA,hr=bt.pointB;Yt&&(cr=A.add(Yt.position,bt.pointA)),zt&&(hr=A.add(zt.position,bt.pointB)),!(!cr||!hr)&&(P.contains(ne.bounds,cr)||P.contains(ne.bounds,hr))&&Xe.push(bt)}i.startViewTransform(ne),ne.mouse&&(X.setScale(ne.mouse,{x:(ne.bounds.max.x-ne.bounds.min.x)/ne.options.width,y:(ne.bounds.max.y-ne.bounds.min.y)/ne.options.height}),X.setOffset(ne.mouse,ne.bounds.min))}else Xe=be,Be=Me,ne.options.pixelRatio!==1&&ne.context.setTransform(ne.options.pixelRatio,0,0,ne.options.pixelRatio,0,0);!ye.wireframes||le.enableSleeping&&ye.showSleeping?i.bodies(ne,Be,xe):(ye.showConvexHulls&&i.bodyConvexHulls(ne,Be,xe),i.bodyWireframes(ne,Be,xe)),ye.showBounds&&i.bodyBounds(ne,Be,xe),(ye.showAxes||ye.showAngleIndicator)&&i.bodyAxes(ne,Be,xe),ye.showPositions&&i.bodyPositions(ne,Be,xe),ye.showVelocity&&i.bodyVelocity(ne,Be,xe),ye.showIds&&i.bodyIds(ne,Be,xe),ye.showSeparations&&i.separations(ne,le.pairs.list,xe),ye.showCollisions&&i.collisions(ne,le.pairs.list,xe),ye.showVertexNumbers&&i.vertexNumbers(ne,Be,xe),ye.showMousePosition&&i.mousePosition(ne,ne.mouse,xe),i.constraints(Xe,xe),ye.showBroadphase&&le.broadphase.controller===G&&i.grid(ne,le.broadphase,xe),ye.showDebug&&i.debug(ne,xe),ye.hasBounds&&i.endViewTransform(ne),U.trigger(ne,"afterRender",Ze)},i.debug=function(ne,le){var pe=le,fe=ne.engine,xe=fe.world,ye=fe.metrics,Me=ne.options,be=c.allBodies(xe),De="    ";if(fe.timing.timestamp-(ne.debugTimestamp||0)>=500){var Be="";ye.timing&&(Be+="fps: "+Math.round(ye.timing.fps)+De),ye.extended&&(ye.timing&&(Be+="delta: "+ye.timing.delta.toFixed(3)+De,Be+="correction: "+ye.timing.correction.toFixed(3)+De),Be+="bodies: "+be.length+De,fe.broadphase.controller===G&&(Be+="buckets: "+ye.buckets+De),Be+=`
`,Be+="collisions: "+ye.collisions+De,Be+="pairs: "+fe.pairs.list.length+De,Be+="broad: "+ye.broadEff+De,Be+="mid: "+ye.midEff+De,Be+="narrow: "+ye.narrowEff+De),ne.debugString=Be,ne.debugTimestamp=fe.timing.timestamp}if(ne.debugString){pe.font="12px Arial",Me.wireframes?pe.fillStyle="rgba(255,255,255,0.5)":pe.fillStyle="rgba(0,0,0,0.5)";for(var Xe=ne.debugString.split(`
`),Ye=0;Ye<Xe.length;Ye++)pe.fillText(Xe[Ye],50,50+Ye*18)}},i.constraints=function(ne,le){for(var pe=le,fe=0;fe<ne.length;fe++){var xe=ne[fe];if(!(!xe.render.visible||!xe.pointA||!xe.pointB)){var ye=xe.bodyA,Me=xe.bodyB,be,De;if(ye?be=A.add(ye.position,xe.pointA):be=xe.pointA,xe.render.type==="pin")pe.beginPath(),pe.arc(be.x,be.y,3,0,2*Math.PI),pe.closePath();else{if(Me?De=A.add(Me.position,xe.pointB):De=xe.pointB,pe.beginPath(),pe.moveTo(be.x,be.y),xe.render.type==="spring")for(var Be=A.sub(De,be),Xe=A.perp(A.normalise(Be)),Ye=Math.ceil(h.clamp(xe.length/5,12,20)),Ze,Tt=1;Tt<Ye;Tt+=1)Ze=Tt%2==0?1:-1,pe.lineTo(be.x+Be.x*(Tt/Ye)+Xe.x*Ze*4,be.y+Be.y*(Tt/Ye)+Xe.y*Ze*4);pe.lineTo(De.x,De.y)}xe.render.lineWidth&&(pe.lineWidth=xe.render.lineWidth,pe.strokeStyle=xe.render.strokeStyle,pe.stroke()),xe.render.anchors&&(pe.fillStyle=xe.render.strokeStyle,pe.beginPath(),pe.arc(be.x,be.y,3,0,2*Math.PI),pe.arc(De.x,De.y,3,0,2*Math.PI),pe.closePath(),pe.fill())}}},i.bodyShadows=function(ne,le,pe){var fe=pe;ne.engine;for(var xe=0;xe<le.length;xe++){var ye=le[xe];if(!!ye.render.visible){if(ye.circleRadius)fe.beginPath(),fe.arc(ye.position.x,ye.position.y,ye.circleRadius,0,2*Math.PI),fe.closePath();else{fe.beginPath(),fe.moveTo(ye.vertices[0].x,ye.vertices[0].y);for(var Me=1;Me<ye.vertices.length;Me++)fe.lineTo(ye.vertices[Me].x,ye.vertices[Me].y);fe.closePath()}var be=ye.position.x-ne.options.width*.5,De=ye.position.y-ne.options.height*.2,Be=Math.abs(be)+Math.abs(De);fe.shadowColor="rgba(0,0,0,0.15)",fe.shadowOffsetX=.05*be,fe.shadowOffsetY=.05*De,fe.shadowBlur=1+12*Math.min(1,Be/1e3),fe.fill(),fe.shadowColor=null,fe.shadowOffsetX=null,fe.shadowOffsetY=null,fe.shadowBlur=null}}},i.bodies=function(ne,le,pe){var fe=pe;ne.engine;var xe=ne.options,ye=xe.showInternalEdges||!xe.wireframes,Me,be,De,Be;for(De=0;De<le.length;De++)if(Me=le[De],!!Me.render.visible){for(Be=Me.parts.length>1?1:0;Be<Me.parts.length;Be++)if(be=Me.parts[Be],!!be.render.visible){if(xe.showSleeping&&Me.isSleeping?fe.globalAlpha=.5*be.render.opacity:be.render.opacity!==1&&(fe.globalAlpha=be.render.opacity),be.render.sprite&&be.render.sprite.texture&&!xe.wireframes){var Xe=be.render.sprite,Ye=ce(ne,Xe.texture);fe.translate(be.position.x,be.position.y),fe.rotate(be.angle),fe.drawImage(Ye,Ye.width*-Xe.xOffset*Xe.xScale,Ye.height*-Xe.yOffset*Xe.yScale,Ye.width*Xe.xScale,Ye.height*Xe.yScale),fe.rotate(-be.angle),fe.translate(-be.position.x,-be.position.y)}else{if(be.circleRadius)fe.beginPath(),fe.arc(be.position.x,be.position.y,be.circleRadius,0,2*Math.PI);else{fe.beginPath(),fe.moveTo(be.vertices[0].x,be.vertices[0].y);for(var Ze=1;Ze<be.vertices.length;Ze++)!be.vertices[Ze-1].isInternal||ye?fe.lineTo(be.vertices[Ze].x,be.vertices[Ze].y):fe.moveTo(be.vertices[Ze].x,be.vertices[Ze].y),be.vertices[Ze].isInternal&&!ye&&fe.moveTo(be.vertices[(Ze+1)%be.vertices.length].x,be.vertices[(Ze+1)%be.vertices.length].y);fe.lineTo(be.vertices[0].x,be.vertices[0].y),fe.closePath()}xe.wireframes?(fe.lineWidth=1,fe.strokeStyle="#bbb",fe.stroke()):(fe.fillStyle=be.render.fillStyle,be.render.lineWidth&&(fe.lineWidth=be.render.lineWidth,fe.strokeStyle=be.render.strokeStyle,fe.stroke()),fe.fill())}fe.globalAlpha=1}}},i.bodyWireframes=function(ne,le,pe){var fe=pe,xe=ne.options.showInternalEdges,ye,Me,be,De,Be;for(fe.beginPath(),be=0;be<le.length;be++)if(ye=le[be],!!ye.render.visible)for(Be=ye.parts.length>1?1:0;Be<ye.parts.length;Be++){for(Me=ye.parts[Be],fe.moveTo(Me.vertices[0].x,Me.vertices[0].y),De=1;De<Me.vertices.length;De++)!Me.vertices[De-1].isInternal||xe?fe.lineTo(Me.vertices[De].x,Me.vertices[De].y):fe.moveTo(Me.vertices[De].x,Me.vertices[De].y),Me.vertices[De].isInternal&&!xe&&fe.moveTo(Me.vertices[(De+1)%Me.vertices.length].x,Me.vertices[(De+1)%Me.vertices.length].y);fe.lineTo(Me.vertices[0].x,Me.vertices[0].y)}fe.lineWidth=1,fe.strokeStyle="#bbb",fe.stroke()},i.bodyConvexHulls=function(ne,le,pe){var fe=pe,xe,ye,Me;for(fe.beginPath(),ye=0;ye<le.length;ye++)if(xe=le[ye],!(!xe.render.visible||xe.parts.length===1)){for(fe.moveTo(xe.vertices[0].x,xe.vertices[0].y),Me=1;Me<xe.vertices.length;Me++)fe.lineTo(xe.vertices[Me].x,xe.vertices[Me].y);fe.lineTo(xe.vertices[0].x,xe.vertices[0].y)}fe.lineWidth=1,fe.strokeStyle="rgba(255,255,255,0.2)",fe.stroke()},i.vertexNumbers=function(ne,le,pe){var fe=pe,xe,ye,Me;for(xe=0;xe<le.length;xe++){var be=le[xe].parts;for(Me=be.length>1?1:0;Me<be.length;Me++){var De=be[Me];for(ye=0;ye<De.vertices.length;ye++)fe.fillStyle="rgba(255,255,255,0.2)",fe.fillText(xe+"_"+ye,De.position.x+(De.vertices[ye].x-De.position.x)*.8,De.position.y+(De.vertices[ye].y-De.position.y)*.8)}}},i.mousePosition=function(ne,le,pe){var fe=pe;fe.fillStyle="rgba(255,255,255,0.8)",fe.fillText(le.position.x+"  "+le.position.y,le.position.x+5,le.position.y-5)},i.bodyBounds=function(ne,le,pe){var fe=pe;ne.engine;var xe=ne.options;fe.beginPath();for(var ye=0;ye<le.length;ye++){var Me=le[ye];if(Me.render.visible)for(var be=le[ye].parts,De=be.length>1?1:0;De<be.length;De++){var Be=be[De];fe.rect(Be.bounds.min.x,Be.bounds.min.y,Be.bounds.max.x-Be.bounds.min.x,Be.bounds.max.y-Be.bounds.min.y)}}xe.wireframes?fe.strokeStyle="rgba(255,255,255,0.08)":fe.strokeStyle="rgba(0,0,0,0.1)",fe.lineWidth=1,fe.stroke()},i.bodyAxes=function(ne,le,pe){var fe=pe;ne.engine;var xe=ne.options,ye,Me,be,De;for(fe.beginPath(),Me=0;Me<le.length;Me++){var Be=le[Me],Xe=Be.parts;if(!!Be.render.visible)if(xe.showAxes)for(be=Xe.length>1?1:0;be<Xe.length;be++)for(ye=Xe[be],De=0;De<ye.axes.length;De++){var Ye=ye.axes[De];fe.moveTo(ye.position.x,ye.position.y),fe.lineTo(ye.position.x+Ye.x*20,ye.position.y+Ye.y*20)}else for(be=Xe.length>1?1:0;be<Xe.length;be++)for(ye=Xe[be],De=0;De<ye.axes.length;De++)fe.moveTo(ye.position.x,ye.position.y),fe.lineTo((ye.vertices[0].x+ye.vertices[ye.vertices.length-1].x)/2,(ye.vertices[0].y+ye.vertices[ye.vertices.length-1].y)/2)}xe.wireframes?(fe.strokeStyle="indianred",fe.lineWidth=1):(fe.strokeStyle="rgba(255, 255, 255, 0.4)",fe.globalCompositeOperation="overlay",fe.lineWidth=2),fe.stroke(),fe.globalCompositeOperation="source-over"},i.bodyPositions=function(ne,le,pe){var fe=pe;ne.engine;var xe=ne.options,ye,Me,be,De;for(fe.beginPath(),be=0;be<le.length;be++)if(ye=le[be],!!ye.render.visible)for(De=0;De<ye.parts.length;De++)Me=ye.parts[De],fe.arc(Me.position.x,Me.position.y,3,0,2*Math.PI,!1),fe.closePath();for(xe.wireframes?fe.fillStyle="indianred":fe.fillStyle="rgba(0,0,0,0.5)",fe.fill(),fe.beginPath(),be=0;be<le.length;be++)ye=le[be],ye.render.visible&&(fe.arc(ye.positionPrev.x,ye.positionPrev.y,2,0,2*Math.PI,!1),fe.closePath());fe.fillStyle="rgba(255,165,0,0.8)",fe.fill()},i.bodyVelocity=function(ne,le,pe){var fe=pe;fe.beginPath();for(var xe=0;xe<le.length;xe++){var ye=le[xe];!ye.render.visible||(fe.moveTo(ye.position.x,ye.position.y),fe.lineTo(ye.position.x+(ye.position.x-ye.positionPrev.x)*2,ye.position.y+(ye.position.y-ye.positionPrev.y)*2))}fe.lineWidth=3,fe.strokeStyle="cornflowerblue",fe.stroke()},i.bodyIds=function(ne,le,pe){var fe=pe,xe,ye;for(xe=0;xe<le.length;xe++)if(!!le[xe].render.visible){var Me=le[xe].parts;for(ye=Me.length>1?1:0;ye<Me.length;ye++){var be=Me[ye];fe.font="12px Arial",fe.fillStyle="rgba(255,255,255,0.5)",fe.fillText(be.id,be.position.x+10,be.position.y-10)}}},i.collisions=function(ne,le,pe){var fe=pe,xe=ne.options,ye,Me,be,De;for(fe.beginPath(),be=0;be<le.length;be++)if(ye=le[be],!!ye.isActive)for(Me=ye.collision,De=0;De<ye.activeContacts.length;De++){var Be=ye.activeContacts[De],Xe=Be.vertex;fe.rect(Xe.x-1.5,Xe.y-1.5,3.5,3.5)}for(xe.wireframes?fe.fillStyle="rgba(255,255,255,0.7)":fe.fillStyle="orange",fe.fill(),fe.beginPath(),be=0;be<le.length;be++)if(ye=le[be],!!ye.isActive&&(Me=ye.collision,ye.activeContacts.length>0)){var Ye=ye.activeContacts[0].vertex.x,Ze=ye.activeContacts[0].vertex.y;ye.activeContacts.length===2&&(Ye=(ye.activeContacts[0].vertex.x+ye.activeContacts[1].vertex.x)/2,Ze=(ye.activeContacts[0].vertex.y+ye.activeContacts[1].vertex.y)/2),Me.bodyB===Me.supports[0].body||Me.bodyA.isStatic===!0?fe.moveTo(Ye-Me.normal.x*8,Ze-Me.normal.y*8):fe.moveTo(Ye+Me.normal.x*8,Ze+Me.normal.y*8),fe.lineTo(Ye,Ze)}xe.wireframes?fe.strokeStyle="rgba(255,165,0,0.7)":fe.strokeStyle="orange",fe.lineWidth=1,fe.stroke()},i.separations=function(ne,le,pe){var fe=pe,xe=ne.options,ye,Me,be,De,Be;for(fe.beginPath(),Be=0;Be<le.length;Be++)if(ye=le[Be],!!ye.isActive){Me=ye.collision,be=Me.bodyA,De=Me.bodyB;var Xe=1;!De.isStatic&&!be.isStatic&&(Xe=.5),De.isStatic&&(Xe=0),fe.moveTo(De.position.x,De.position.y),fe.lineTo(De.position.x-Me.penetration.x*Xe,De.position.y-Me.penetration.y*Xe),Xe=1,!De.isStatic&&!be.isStatic&&(Xe=.5),be.isStatic&&(Xe=0),fe.moveTo(be.position.x,be.position.y),fe.lineTo(be.position.x+Me.penetration.x*Xe,be.position.y+Me.penetration.y*Xe)}xe.wireframes?fe.strokeStyle="rgba(255,165,0,0.5)":fe.strokeStyle="orange",fe.stroke()},i.grid=function(ne,le,pe){var fe=pe,xe=ne.options;xe.wireframes?fe.strokeStyle="rgba(255,180,0,0.1)":fe.strokeStyle="rgba(255,180,0,0.5)",fe.beginPath();for(var ye=h.keys(le.buckets),Me=0;Me<ye.length;Me++){var be=ye[Me];if(!(le.buckets[be].length<2)){var De=be.split(/C|R/);fe.rect(.5+parseInt(De[1],10)*le.bucketWidth,.5+parseInt(De[2],10)*le.bucketHeight,le.bucketWidth,le.bucketHeight)}}fe.lineWidth=1,fe.stroke()},i.inspector=function(ne,le){ne.engine;var pe=ne.selected,fe=ne.render,xe=fe.options,ye;if(xe.hasBounds){var Me=fe.bounds.max.x-fe.bounds.min.x,be=fe.bounds.max.y-fe.bounds.min.y,De=Me/fe.options.width,Be=be/fe.options.height;le.scale(1/De,1/Be),le.translate(-fe.bounds.min.x,-fe.bounds.min.y)}for(var Xe=0;Xe<pe.length;Xe++){var Ye=pe[Xe].data;switch(le.translate(.5,.5),le.lineWidth=1,le.strokeStyle="rgba(255,165,0,0.9)",le.setLineDash([1,2]),Ye.type){case"body":ye=Ye.bounds,le.beginPath(),le.rect(Math.floor(ye.min.x-3),Math.floor(ye.min.y-3),Math.floor(ye.max.x-ye.min.x+6),Math.floor(ye.max.y-ye.min.y+6)),le.closePath(),le.stroke();break;case"constraint":var Ze=Ye.pointA;Ye.bodyA&&(Ze=Ye.pointB),le.beginPath(),le.arc(Ze.x,Ze.y,10,0,2*Math.PI),le.closePath(),le.stroke();break}le.setLineDash([]),le.translate(-.5,-.5)}ne.selectStart!==null&&(le.translate(.5,.5),le.lineWidth=1,le.strokeStyle="rgba(255,165,0,0.6)",le.fillStyle="rgba(255,165,0,0.1)",ye=ne.selectBounds,le.beginPath(),le.rect(Math.floor(ye.min.x),Math.floor(ye.min.y),Math.floor(ye.max.x-ye.min.x),Math.floor(ye.max.y-ye.min.y)),le.closePath(),le.stroke(),le.fill(),le.translate(-.5,-.5)),xe.hasBounds&&le.setTransform(1,0,0,1,0,0)};var re=function(ne,le){var pe=document.createElement("canvas");return pe.width=ne,pe.height=le,pe.oncontextmenu=function(){return!1},pe.onselectstart=function(){return!1},pe},q=function(ne){var le=ne.getContext("2d"),pe=window.devicePixelRatio||1,fe=le.webkitBackingStorePixelRatio||le.mozBackingStorePixelRatio||le.msBackingStorePixelRatio||le.oBackingStorePixelRatio||le.backingStorePixelRatio||1;return pe/fe},ce=function(ne,le){var pe=ne.textures[le];return pe||(pe=ne.textures[le]=new Image,pe.src=le,pe)},he=function(ne,le){var pe=le;/(jpg|gif|png)$/.test(le)&&(pe="url("+le+")"),ne.canvas.style.background=pe,ne.canvas.style.backgroundSize="contain",ne.currentBackground=le}})()},function(a,n,t){var i={};a.exports=i;var h=t(9),c=t(12),P=t(0);(function(){i.create=function(U){var G={controller:i,detector:c.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return P.extend(G,U)},i.update=function(U,G,A,X){var I,j,re,q=A.world,ce=U.buckets,he,ne,le=!1,pe=A.metrics;for(pe.broadphaseTests=0,I=0;I<G.length;I++){var fe=G[I];if(!(fe.isSleeping&&!X)&&!(fe.bounds.max.x<q.bounds.min.x||fe.bounds.min.x>q.bounds.max.x||fe.bounds.max.y<q.bounds.min.y||fe.bounds.min.y>q.bounds.max.y)){var xe=i._getRegion(U,fe);if(!fe.region||xe.id!==fe.region.id||X){pe.broadphaseTests+=1,(!fe.region||X)&&(fe.region=xe);var ye=i._regionUnion(xe,fe.region);for(j=ye.startCol;j<=ye.endCol;j++)for(re=ye.startRow;re<=ye.endRow;re++){ne=i._getBucketId(j,re),he=ce[ne];var Me=j>=xe.startCol&&j<=xe.endCol&&re>=xe.startRow&&re<=xe.endRow,be=j>=fe.region.startCol&&j<=fe.region.endCol&&re>=fe.region.startRow&&re<=fe.region.endRow;!Me&&be&&be&&he&&i._bucketRemoveBody(U,he,fe),(fe.region===xe||Me&&!be||X)&&(he||(he=i._createBucket(ce,ne)),i._bucketAddBody(U,he,fe))}fe.region=xe,le=!0}}}le&&(U.pairsList=i._createActivePairsList(U))},i.clear=function(U){U.buckets={},U.pairs={},U.pairsList=[]},i._regionUnion=function(U,G){var A=Math.min(U.startCol,G.startCol),X=Math.max(U.endCol,G.endCol),I=Math.min(U.startRow,G.startRow),j=Math.max(U.endRow,G.endRow);return i._createRegion(A,X,I,j)},i._getRegion=function(U,G){var A=G.bounds,X=Math.floor(A.min.x/U.bucketWidth),I=Math.floor(A.max.x/U.bucketWidth),j=Math.floor(A.min.y/U.bucketHeight),re=Math.floor(A.max.y/U.bucketHeight);return i._createRegion(X,I,j,re)},i._createRegion=function(U,G,A,X){return{id:U+","+G+","+A+","+X,startCol:U,endCol:G,startRow:A,endRow:X}},i._getBucketId=function(U,G){return"C"+U+"R"+G},i._createBucket=function(U,G){var A=U[G]=[];return A},i._bucketAddBody=function(U,G,A){for(var X=0;X<G.length;X++){var I=G[X];if(!(A.id===I.id||A.isStatic&&I.isStatic)){var j=h.id(A,I),re=U.pairs[j];re?re[2]+=1:U.pairs[j]=[A,I,1]}}G.push(A)},i._bucketRemoveBody=function(U,G,A){G.splice(P.indexOf(G,A),1);for(var X=0;X<G.length;X++){var I=G[X],j=h.id(A,I),re=U.pairs[j];re&&(re[2]-=1)}},i._createActivePairsList=function(U){var G,A,X=[];G=P.keys(U.pairs);for(var I=0;I<G.length;I++)A=U.pairs[G[I]],A[2]>0?X.push(A):delete U.pairs[G[I]];return X}})()},function(a,n,t){var i={};a.exports=i;var h=t(13),c=t(9),P=t(1);(function(){i.collisions=function(U,G){for(var A=[],X=G.pairs.table,I=G.metrics,j=0;j<U.length;j++){var re=U[j][0],q=U[j][1];if(!((re.isStatic||re.isSleeping)&&(q.isStatic||q.isSleeping))&&!!i.canCollide(re.collisionFilter,q.collisionFilter)&&(I.midphaseTests+=1,P.overlaps(re.bounds,q.bounds)))for(var ce=re.parts.length>1?1:0;ce<re.parts.length;ce++)for(var he=re.parts[ce],ne=q.parts.length>1?1:0;ne<q.parts.length;ne++){var le=q.parts[ne];if(he===re&&le===q||P.overlaps(he.bounds,le.bounds)){var pe=c.id(he,le),fe=X[pe],xe;fe&&fe.isActive?xe=fe.collision:xe=null;var ye=h.collides(he,le,xe);I.narrowphaseTests+=1,ye.reused&&(I.narrowReuseCount+=1),ye.collided&&(A.push(ye),I.narrowDetections+=1)}}}return A},i.canCollide=function(U,G){return U.group===G.group&&U.group!==0?U.group>0:(U.mask&G.category)!=0&&(G.mask&U.category)!=0}})()},function(a,n,t){var i={};a.exports=i;var h=t(3),c=t(2);(function(){i.collides=function(P,U,G){var A,X,I,j,re=!1;if(G){var q=P.parent,ce=U.parent,he=q.speed*q.speed+q.angularSpeed*q.angularSpeed+ce.speed*ce.speed+ce.angularSpeed*ce.angularSpeed;re=G&&G.collided&&he<.2,j=G}else j={collided:!1,bodyA:P,bodyB:U};if(G&&re){var ne=j.axisBody,le=ne===P?U:P,pe=[ne.axes[G.axisNumber]];if(I=i._overlapAxes(ne.vertices,le.vertices,pe),j.reused=!0,I.overlap<=0)return j.collided=!1,j}else{if(A=i._overlapAxes(P.vertices,U.vertices,P.axes),A.overlap<=0||(X=i._overlapAxes(U.vertices,P.vertices,U.axes),X.overlap<=0))return j.collided=!1,j;A.overlap<X.overlap?(I=A,j.axisBody=P):(I=X,j.axisBody=U),j.axisNumber=I.axisNumber}j.bodyA=P.id<U.id?P:U,j.bodyB=P.id<U.id?U:P,j.collided=!0,j.depth=I.overlap,j.parentA=j.bodyA.parent,j.parentB=j.bodyB.parent,P=j.bodyA,U=j.bodyB,c.dot(I.axis,c.sub(U.position,P.position))<0?j.normal={x:I.axis.x,y:I.axis.y}:j.normal={x:-I.axis.x,y:-I.axis.y},j.tangent=c.perp(j.normal),j.penetration=j.penetration||{},j.penetration.x=j.normal.x*j.depth,j.penetration.y=j.normal.y*j.depth;var fe=i._findSupports(P,U,j.normal),xe=[];if(h.contains(P.vertices,fe[0])&&xe.push(fe[0]),h.contains(P.vertices,fe[1])&&xe.push(fe[1]),xe.length<2){var ye=i._findSupports(U,P,c.neg(j.normal));h.contains(U.vertices,ye[0])&&xe.push(ye[0]),xe.length<2&&h.contains(U.vertices,ye[1])&&xe.push(ye[1])}return xe.length<1&&(xe=[fe[0]]),j.supports=xe,j},i._overlapAxes=function(P,U,G){for(var A=c._temp[0],X=c._temp[1],I={overlap:Number.MAX_VALUE},j,re,q=0;q<G.length;q++){if(re=G[q],i._projectToAxis(A,P,re),i._projectToAxis(X,U,re),j=Math.min(A.max-X.min,X.max-A.min),j<=0)return I.overlap=j,I;j<I.overlap&&(I.overlap=j,I.axis=re,I.axisNumber=q)}return I},i._projectToAxis=function(P,U,G){for(var A=c.dot(U[0],G),X=A,I=1;I<U.length;I+=1){var j=c.dot(U[I],G);j>X?X=j:j<A&&(A=j)}P.min=A,P.max=X},i._findSupports=function(P,U,G){for(var A=Number.MAX_VALUE,X=c._temp[0],I=U.vertices,j=P.position,re,q,ce,he,ne=0;ne<I.length;ne++)q=I[ne],X.x=q.x-j.x,X.y=q.y-j.y,re=-c.dot(G,X),re<A&&(A=re,ce=q);var le=ce.index-1>=0?ce.index-1:I.length-1;q=I[le],X.x=q.x-j.x,X.y=q.y-j.y,A=-c.dot(G,X),he=q;var pe=(ce.index+1)%I.length;return q=I[pe],X.x=q.x-j.x,X.y=q.y-j.y,re=-c.dot(G,X),re<A&&(he=q),[ce,he]}})()},function(a,n,t){var i={};a.exports=i;var h=t(0);(function(){i.create=function(c){var P={};return c||h.log("Mouse.create: element was undefined, defaulting to document.body","warn"),P.element=c||document.body,P.absolute={x:0,y:0},P.position={x:0,y:0},P.mousedownPosition={x:0,y:0},P.mouseupPosition={x:0,y:0},P.offset={x:0,y:0},P.scale={x:1,y:1},P.wheelDelta=0,P.button=-1,P.pixelRatio=parseInt(P.element.getAttribute("data-pixel-ratio"),10)||1,P.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},P.mousemove=function(U){var G=i._getRelativeMousePosition(U,P.element,P.pixelRatio),A=U.changedTouches;A&&(P.button=0,U.preventDefault()),P.absolute.x=G.x,P.absolute.y=G.y,P.position.x=P.absolute.x*P.scale.x+P.offset.x,P.position.y=P.absolute.y*P.scale.y+P.offset.y,P.sourceEvents.mousemove=U},P.mousedown=function(U){var G=i._getRelativeMousePosition(U,P.element,P.pixelRatio),A=U.changedTouches;A?(P.button=0,U.preventDefault()):P.button=U.button,P.absolute.x=G.x,P.absolute.y=G.y,P.position.x=P.absolute.x*P.scale.x+P.offset.x,P.position.y=P.absolute.y*P.scale.y+P.offset.y,P.mousedownPosition.x=P.position.x,P.mousedownPosition.y=P.position.y,P.sourceEvents.mousedown=U},P.mouseup=function(U){var G=i._getRelativeMousePosition(U,P.element,P.pixelRatio),A=U.changedTouches;A&&U.preventDefault(),P.button=-1,P.absolute.x=G.x,P.absolute.y=G.y,P.position.x=P.absolute.x*P.scale.x+P.offset.x,P.position.y=P.absolute.y*P.scale.y+P.offset.y,P.mouseupPosition.x=P.position.x,P.mouseupPosition.y=P.position.y,P.sourceEvents.mouseup=U},P.mousewheel=function(U){P.wheelDelta=Math.max(-1,Math.min(1,U.wheelDelta||-U.detail)),U.preventDefault()},i.setElement(P,P.element),P},i.setElement=function(c,P){c.element=P,P.addEventListener("mousemove",c.mousemove),P.addEventListener("mousedown",c.mousedown),P.addEventListener("mouseup",c.mouseup),P.addEventListener("mousewheel",c.mousewheel),P.addEventListener("DOMMouseScroll",c.mousewheel),P.addEventListener("touchmove",c.mousemove),P.addEventListener("touchstart",c.mousedown),P.addEventListener("touchend",c.mouseup)},i.clearSourceEvents=function(c){c.sourceEvents.mousemove=null,c.sourceEvents.mousedown=null,c.sourceEvents.mouseup=null,c.sourceEvents.mousewheel=null,c.wheelDelta=0},i.setOffset=function(c,P){c.offset.x=P.x,c.offset.y=P.y,c.position.x=c.absolute.x*c.scale.x+c.offset.x,c.position.y=c.absolute.y*c.scale.y+c.offset.y},i.setScale=function(c,P){c.scale.x=P.x,c.scale.y=P.y,c.position.x=c.absolute.x*c.scale.x+c.offset.x,c.position.y=c.absolute.y*c.scale.y+c.offset.y},i._getRelativeMousePosition=function(c,P,U){var G=P.getBoundingClientRect(),A=document.documentElement||document.body.parentNode||document.body,X=window.pageXOffset!==void 0?window.pageXOffset:A.scrollLeft,I=window.pageYOffset!==void 0?window.pageYOffset:A.scrollTop,j=c.changedTouches,re,q;return j?(re=j[0].pageX-G.left-X,q=j[0].pageY-G.top-I):(re=c.pageX-G.left-X,q=c.pageY-G.top-I),{x:re/(P.clientWidth/(P.width||P.clientWidth)*U),y:q/(P.clientHeight/(P.height||P.clientHeight)*U)}}})()},function(a,n,t){var i={};a.exports=i;var h=t(2),c=t(0);(function(){i.fromVertices=function(P){for(var U={},G=0;G<P.length;G++){var A=(G+1)%P.length,X=h.normalise({x:P[A].y-P[G].y,y:P[G].x-P[A].x}),I=X.y===0?1/0:X.x/X.y;I=I.toFixed(3).toString(),U[I]=X}return c.values(U)},i.rotate=function(P,U){if(U!==0)for(var G=Math.cos(U),A=Math.sin(U),X=0;X<P.length;X++){var I=P[X],j;j=I.x*G-I.y*A,I.y=I.x*A+I.y*G,I.x=j}}})()},function(a,n,t){var i={};a.exports=i;var h=t(3),c=t(0),P=t(6),U=t(1),G=t(2);(function(){i.rectangle=function(A,X,I,j,re){re=re||{};var q={label:"Rectangle Body",position:{x:A,y:X},vertices:h.fromPath("L 0 0 L "+I+" 0 L "+I+" "+j+" L 0 "+j)};if(re.chamfer){var ce=re.chamfer;q.vertices=h.chamfer(q.vertices,ce.radius,ce.quality,ce.qualityMin,ce.qualityMax),delete re.chamfer}return P.create(c.extend({},q,re))},i.trapezoid=function(A,X,I,j,re,q){q=q||{},re*=.5;var ce=(1-re*2)*I,he=I*re,ne=he+ce,le=ne+he,pe;re<.5?pe="L 0 0 L "+he+" "+-j+" L "+ne+" "+-j+" L "+le+" 0":pe="L 0 0 L "+ne+" "+-j+" L "+le+" 0";var fe={label:"Trapezoid Body",position:{x:A,y:X},vertices:h.fromPath(pe)};if(q.chamfer){var xe=q.chamfer;fe.vertices=h.chamfer(fe.vertices,xe.radius,xe.quality,xe.qualityMin,xe.qualityMax),delete q.chamfer}return P.create(c.extend({},fe,q))},i.circle=function(A,X,I,j,re){j=j||{};var q={label:"Circle Body",circleRadius:I};re=re||25;var ce=Math.ceil(Math.max(10,Math.min(re,I)));return ce%2==1&&(ce+=1),i.polygon(A,X,ce,I,c.extend({},q,j))},i.polygon=function(A,X,I,j,re){if(re=re||{},I<3)return i.circle(A,X,j,re);for(var q=2*Math.PI/I,ce="",he=q*.5,ne=0;ne<I;ne+=1){var le=he+ne*q,pe=Math.cos(le)*j,fe=Math.sin(le)*j;ce+="L "+pe.toFixed(3)+" "+fe.toFixed(3)+" "}var xe={label:"Polygon Body",position:{x:A,y:X},vertices:h.fromPath(ce)};if(re.chamfer){var ye=re.chamfer;xe.vertices=h.chamfer(xe.vertices,ye.radius,ye.quality,ye.qualityMin,ye.qualityMax),delete re.chamfer}return P.create(c.extend({},xe,re))},i.fromVertices=function(A,X,I,j,re,q,ce){var he=typeof pt.g!="undefined"?pt.g:window,ne,le,pe,fe,xe,ye,Me,be,De,Be;try{ne=he.decomp||t(27)}catch(Ir){}for(j=j||{},pe=[],re=typeof re!="undefined"?re:!1,q=typeof q!="undefined"?q:.01,ce=typeof ce!="undefined"?ce:10,ne||c.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),c.isArray(I[0])||(I=[I]),De=0;De<I.length;De+=1)if(xe=I[De],fe=h.isConvex(xe),fe||!ne)fe?xe=h.clockwiseSort(xe):xe=h.hull(xe),pe.push({position:{x:A,y:X},vertices:xe});else{var Xe=xe.map(function(Ir){return[Ir.x,Ir.y]});ne.makeCCW(Xe),q!==!1&&ne.removeCollinearPoints(Xe,q);var Ye=ne.quickDecomp(Xe);for(ye=0;ye<Ye.length;ye++){var Ze=Ye[ye],Tt=Ze.map(function(Ir){return{x:Ir[0],y:Ir[1]}});ce>0&&h.area(Tt)<ce||pe.push({position:h.centre(Tt),vertices:Tt})}}for(ye=0;ye<pe.length;ye++)pe[ye]=P.create(c.extend(pe[ye],j));if(re){var bt=5;for(ye=0;ye<pe.length;ye++){var Yt=pe[ye];for(Me=ye+1;Me<pe.length;Me++){var zt=pe[Me];if(U.overlaps(Yt.bounds,zt.bounds)){var cr=Yt.vertices,hr=zt.vertices;for(be=0;be<Yt.vertices.length;be++)for(Be=0;Be<zt.vertices.length;Be++){var Nl=G.magnitudeSquared(G.sub(cr[(be+1)%cr.length],hr[Be])),hc=G.magnitudeSquared(G.sub(cr[be],hr[(Be+1)%hr.length]));Nl<bt&&hc<bt&&(cr[be].isInternal=!0,hr[Be].isInternal=!0)}}}}}return pe.length>1?(le=P.create(c.extend({parts:pe.slice(0)},j)),P.setPosition(le,{x:A,y:X}),le):pe[0]}})()},function(a,n,t){var i={};a.exports=i;var h=t(0);(function(){i._registry={},i.register=function(c){if(i.isPlugin(c)||h.warn("Plugin.register:",i.toString(c),"does not implement all required fields."),c.name in i._registry){var P=i._registry[c.name],U=i.versionParse(c.version).number,G=i.versionParse(P.version).number;U>G?(h.warn("Plugin.register:",i.toString(P),"was upgraded to",i.toString(c)),i._registry[c.name]=c):U<G?h.warn("Plugin.register:",i.toString(P),"can not be downgraded to",i.toString(c)):c!==P&&h.warn("Plugin.register:",i.toString(c),"is already registered to different plugin object")}else i._registry[c.name]=c;return c},i.resolve=function(c){return i._registry[i.dependencyParse(c).name]},i.toString=function(c){return typeof c=="string"?c:(c.name||"anonymous")+"@"+(c.version||c.range||"0.0.0")},i.isPlugin=function(c){return c&&c.name&&c.version&&c.install},i.isUsed=function(c,P){return c.used.indexOf(P)>-1},i.isFor=function(c,P){var U=c.for&&i.dependencyParse(c.for);return!c.for||P.name===U.name&&i.versionSatisfies(P.version,U.range)},i.use=function(c,P){if(c.uses=(c.uses||[]).concat(P||[]),c.uses.length===0){h.warn("Plugin.use:",i.toString(c),"does not specify any dependencies to install.");return}for(var U=i.dependencies(c),G=h.topologicalSort(U),A=[],X=0;X<G.length;X+=1)if(G[X]!==c.name){var I=i.resolve(G[X]);if(!I){A.push("\u274C "+G[X]);continue}i.isUsed(c,I.name)||(i.isFor(I,c)||(h.warn("Plugin.use:",i.toString(I),"is for",I.for,"but installed on",i.toString(c)+"."),I._warned=!0),I.install?I.install(c):(h.warn("Plugin.use:",i.toString(I),"does not specify an install function."),I._warned=!0),I._warned?(A.push("\u{1F536} "+i.toString(I)),delete I._warned):A.push("\u2705 "+i.toString(I)),c.used.push(I.name))}A.length>0&&h.info(A.join("  "))},i.dependencies=function(c,P){var U=i.dependencyParse(c),G=U.name;if(P=P||{},!(G in P)){c=i.resolve(c)||c,P[G]=h.map(c.uses||[],function(X){i.isPlugin(X)&&i.register(X);var I=i.dependencyParse(X),j=i.resolve(X);return j&&!i.versionSatisfies(j.version,I.range)?(h.warn("Plugin.dependencies:",i.toString(j),"does not satisfy",i.toString(I),"used by",i.toString(U)+"."),j._warned=!0,c._warned=!0):j||(h.warn("Plugin.dependencies:",i.toString(X),"used by",i.toString(U),"could not be resolved."),c._warned=!0),I.name});for(var A=0;A<P[G].length;A+=1)i.dependencies(P[G][A],P);return P}},i.dependencyParse=function(c){if(h.isString(c)){var P=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/;return P.test(c)||h.warn("Plugin.dependencyParse:",c,"is not a valid dependency string."),{name:c.split("@")[0],range:c.split("@")[1]||"*"}}return{name:c.name,range:c.range||c.version}},i.versionParse=function(c){var P=/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/;P.test(c)||h.warn("Plugin.versionParse:",c,"is not a valid version or range.");var U=c.split("-");c=U[0];var G=isNaN(Number(c[0])),A=G?c.substr(1):c,X=h.map(A.split("."),function(I){return Number(I)});return{isRange:G,version:A,range:c,operator:G?c[0]:"",parts:X,prerelease:U[1],number:X[0]*1e8+X[1]*1e4+X[2]}},i.versionSatisfies=function(c,P){P=P||"*";var U=i.versionParse(P),G=U.parts,A=i.versionParse(c),X=A.parts;if(U.isRange){if(U.operator==="*"||c==="*")return!0;if(U.operator==="~")return X[0]===G[0]&&X[1]===G[1]&&X[2]>=G[2];if(U.operator==="^")return G[0]>0?X[0]===G[0]&&A.number>=U.number:G[1]>0?X[1]===G[1]&&X[2]>=G[2]:X[2]===G[2]}return c===P||c==="*"}})()},function(a,n){var t={};a.exports=t,function(){t.create=function(i){return{id:t.id(i),vertex:i,normalImpulse:0,tangentImpulse:0}},t.id=function(i){return i.body.id+"_"+i.index}}()},function(a,n,t){var i={};a.exports=i;var h=t(5);t(8);var c=t(0);(function(){i.create=function(P){var U=h.create(),G={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return c.extend(U,G,P)}})()},function(a,n,t){var i={};a.exports=i;var h=t(9),c=t(0);(function(){i._pairMaxIdleLife=1e3,i.create=function(P){return c.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},P)},i.update=function(P,U,G){var A=P.list,X=P.table,I=P.collisionStart,j=P.collisionEnd,re=P.collisionActive,q,ce,he,ne;for(I.length=0,j.length=0,re.length=0,ne=0;ne<A.length;ne++)A[ne].confirmedActive=!1;for(ne=0;ne<U.length;ne++)q=U[ne],q.collided&&(ce=h.id(q.bodyA,q.bodyB),he=X[ce],he?(he.isActive?re.push(he):I.push(he),h.update(he,q,G),he.confirmedActive=!0):(he=h.create(q,G),X[ce]=he,I.push(he),A.push(he)));for(ne=0;ne<A.length;ne++)he=A[ne],he.isActive&&!he.confirmedActive&&(h.setActive(he,!1,G),j.push(he))},i.removeOld=function(P,U){var G=P.list,A=P.table,X=[],I,j,re,q;for(q=0;q<G.length;q++){if(I=G[q],j=I.collision,j.bodyA.isSleeping||j.bodyB.isSleeping){I.timeUpdated=U;continue}U-I.timeUpdated>i._pairMaxIdleLife&&X.push(q)}for(q=0;q<X.length;q++)re=X[q]-q,I=G[re],delete A[I.id],G.splice(re,1)},i.clear=function(P){return P.table={},P.list.length=0,P.collisionStart.length=0,P.collisionActive.length=0,P.collisionEnd.length=0,P}})()},function(a,n,t){var i={};a.exports=i;var h=t(3),c=t(2),P=t(0),U=t(1);(function(){i._restingThresh=4,i._restingThreshTangent=6,i._positionDampen=.9,i._positionWarming=.8,i._frictionNormalMultiplier=5,i.preSolvePosition=function(G){var A,X,I;for(A=0;A<G.length;A++)X=G[A],!!X.isActive&&(I=X.activeContacts.length,X.collision.parentA.totalContacts+=I,X.collision.parentB.totalContacts+=I)},i.solvePosition=function(G,A){var X,I,j,re,q,ce,he,ne,le,pe=c._temp[0],fe=c._temp[1],xe=c._temp[2],ye=c._temp[3];for(X=0;X<G.length;X++)I=G[X],!(!I.isActive||I.isSensor)&&(j=I.collision,re=j.parentA,q=j.parentB,ce=j.normal,he=c.sub(c.add(q.positionImpulse,q.position,pe),c.add(re.positionImpulse,c.sub(q.position,j.penetration,fe),xe),ye),I.separation=c.dot(ce,he));for(X=0;X<G.length;X++)I=G[X],!(!I.isActive||I.isSensor)&&(j=I.collision,re=j.parentA,q=j.parentB,ce=j.normal,le=(I.separation-I.slop)*A,(re.isStatic||q.isStatic)&&(le*=2),re.isStatic||re.isSleeping||(ne=i._positionDampen/re.totalContacts,re.positionImpulse.x+=ce.x*le*ne,re.positionImpulse.y+=ce.y*le*ne),q.isStatic||q.isSleeping||(ne=i._positionDampen/q.totalContacts,q.positionImpulse.x-=ce.x*le*ne,q.positionImpulse.y-=ce.y*le*ne))},i.postSolvePosition=function(G){for(var A=0;A<G.length;A++){var X=G[A];if(X.totalContacts=0,X.positionImpulse.x!==0||X.positionImpulse.y!==0){for(var I=0;I<X.parts.length;I++){var j=X.parts[I];h.translate(j.vertices,X.positionImpulse),U.update(j.bounds,j.vertices,X.velocity),j.position.x+=X.positionImpulse.x,j.position.y+=X.positionImpulse.y}X.positionPrev.x+=X.positionImpulse.x,X.positionPrev.y+=X.positionImpulse.y,c.dot(X.positionImpulse,X.velocity)<0?(X.positionImpulse.x=0,X.positionImpulse.y=0):(X.positionImpulse.x*=i._positionWarming,X.positionImpulse.y*=i._positionWarming)}}},i.preSolveVelocity=function(G){var A,X,I,j,re,q,ce,he,ne,le,pe,fe,xe,ye,Me=c._temp[0],be=c._temp[1];for(A=0;A<G.length;A++)if(I=G[A],!(!I.isActive||I.isSensor))for(j=I.activeContacts,re=I.collision,q=re.parentA,ce=re.parentB,he=re.normal,ne=re.tangent,X=0;X<j.length;X++)le=j[X],pe=le.vertex,fe=le.normalImpulse,xe=le.tangentImpulse,(fe!==0||xe!==0)&&(Me.x=he.x*fe+ne.x*xe,Me.y=he.y*fe+ne.y*xe,q.isStatic||q.isSleeping||(ye=c.sub(pe,q.position,be),q.positionPrev.x+=Me.x*q.inverseMass,q.positionPrev.y+=Me.y*q.inverseMass,q.anglePrev+=c.cross(ye,Me)*q.inverseInertia),ce.isStatic||ce.isSleeping||(ye=c.sub(pe,ce.position,be),ce.positionPrev.x-=Me.x*ce.inverseMass,ce.positionPrev.y-=Me.y*ce.inverseMass,ce.anglePrev-=c.cross(ye,Me)*ce.inverseInertia))},i.solveVelocity=function(G,A){for(var X=A*A,I=c._temp[0],j=c._temp[1],re=c._temp[2],q=c._temp[3],ce=c._temp[4],he=c._temp[5],ne=0;ne<G.length;ne++){var le=G[ne];if(!(!le.isActive||le.isSensor)){var pe=le.collision,fe=pe.parentA,xe=pe.parentB,ye=pe.normal,Me=pe.tangent,be=le.activeContacts,De=1/be.length;fe.velocity.x=fe.position.x-fe.positionPrev.x,fe.velocity.y=fe.position.y-fe.positionPrev.y,xe.velocity.x=xe.position.x-xe.positionPrev.x,xe.velocity.y=xe.position.y-xe.positionPrev.y,fe.angularVelocity=fe.angle-fe.anglePrev,xe.angularVelocity=xe.angle-xe.anglePrev;for(var Be=0;Be<be.length;Be++){var Xe=be[Be],Ye=Xe.vertex,Ze=c.sub(Ye,fe.position,j),Tt=c.sub(Ye,xe.position,re),bt=c.add(fe.velocity,c.mult(c.perp(Ze),fe.angularVelocity),q),Yt=c.add(xe.velocity,c.mult(c.perp(Tt),xe.angularVelocity),ce),zt=c.sub(bt,Yt,he),cr=c.dot(ye,zt),hr=c.dot(Me,zt),Nl=Math.abs(hr),hc=P.sign(hr),Ir=(1+le.restitution)*cr,Wc=P.clamp(le.separation+cr,0,1)*i._frictionNormalMultiplier,ga=hr,Qs=1/0;Nl>le.friction*le.frictionStatic*Wc*X&&(Qs=Nl,ga=P.clamp(le.friction*hc*X,-Qs,Qs));var Pc=c.cross(Ze,ye),Mc=c.cross(Tt,ye),bc=De/(fe.inverseMass+xe.inverseMass+fe.inverseInertia*Pc*Pc+xe.inverseInertia*Mc*Mc);if(Ir*=bc,ga*=bc,cr<0&&cr*cr>i._restingThresh*X)Xe.normalImpulse=0;else{var Xc=Xe.normalImpulse;Xe.normalImpulse=Math.min(Xe.normalImpulse+Ir,0),Ir=Xe.normalImpulse-Xc}if(hr*hr>i._restingThreshTangent*X)Xe.tangentImpulse=0;else{var Hc=Xe.tangentImpulse;Xe.tangentImpulse=P.clamp(Xe.tangentImpulse+ga,-Qs,Qs),ga=Xe.tangentImpulse-Hc}I.x=ye.x*Ir+Me.x*ga,I.y=ye.y*Ir+Me.y*ga,fe.isStatic||fe.isSleeping||(fe.positionPrev.x+=I.x*fe.inverseMass,fe.positionPrev.y+=I.y*fe.inverseMass,fe.anglePrev+=c.cross(Ze,I)*fe.inverseInertia),xe.isStatic||xe.isSleeping||(xe.positionPrev.x-=I.x*xe.inverseMass,xe.positionPrev.y-=I.y*xe.inverseMass,xe.anglePrev-=c.cross(Tt,I)*xe.inverseInertia)}}}}})()},function(a,n,t){var i={};a.exports=i;var h=t(19),c=t(7),P=t(21),U=t(10),G=t(20),A=t(23),X=t(11),I=t(4),j=t(5),re=t(8),q=t(0),ce=t(6);(function(){i.create=function(he,ne){ne=q.isElement(he)?ne:he,he=q.isElement(he)?he:null,ne=ne||{},(he||ne.render)&&q.warn("Engine.create: engine.render is deprecated (see docs)");var le={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:X}},pe=q.extend(le,ne);if(he||pe.render){var fe={element:he,controller:U};pe.render=q.extend(fe,pe.render)}return pe.render&&pe.render.controller&&(pe.render=pe.render.controller.create(pe.render)),pe.render&&(pe.render.engine=pe),pe.world=ne.world||h.create(pe.world),pe.pairs=G.create(),pe.broadphase=pe.broadphase.controller.create(pe.broadphase),pe.metrics=pe.metrics||{extended:!1},pe.metrics=A.create(pe.metrics),pe},i.update=function(he,ne,le){ne=ne||1e3/60,le=le||1;var pe=he.world,fe=he.timing,xe=he.broadphase,ye=[],Me;fe.timestamp+=ne*fe.timeScale;var be={timestamp:fe.timestamp};I.trigger(he,"beforeUpdate",be);var De=j.allBodies(pe),Be=j.allConstraints(pe);for(A.reset(he.metrics),he.enableSleeping&&c.update(De,fe.timeScale),i._bodiesApplyGravity(De,pe.gravity),i._bodiesUpdate(De,ne,fe.timeScale,le,pe.bounds),re.preSolveAll(De),Me=0;Me<he.constraintIterations;Me++)re.solveAll(Be,fe.timeScale);re.postSolveAll(De),xe.controller?(pe.isModified&&xe.controller.clear(xe),xe.controller.update(xe,De,he,pe.isModified),ye=xe.pairsList):ye=De,pe.isModified&&j.setModified(pe,!1,!1,!0);var Xe=xe.detector(ye,he),Ye=he.pairs,Ze=fe.timestamp;for(G.update(Ye,Xe,Ze),G.removeOld(Ye,Ze),he.enableSleeping&&c.afterCollisions(Ye.list,fe.timeScale),Ye.collisionStart.length>0&&I.trigger(he,"collisionStart",{pairs:Ye.collisionStart}),P.preSolvePosition(Ye.list),Me=0;Me<he.positionIterations;Me++)P.solvePosition(Ye.list,fe.timeScale);for(P.postSolvePosition(De),re.preSolveAll(De),Me=0;Me<he.constraintIterations;Me++)re.solveAll(Be,fe.timeScale);for(re.postSolveAll(De),P.preSolveVelocity(Ye.list),Me=0;Me<he.velocityIterations;Me++)P.solveVelocity(Ye.list,fe.timeScale);return Ye.collisionActive.length>0&&I.trigger(he,"collisionActive",{pairs:Ye.collisionActive}),Ye.collisionEnd.length>0&&I.trigger(he,"collisionEnd",{pairs:Ye.collisionEnd}),A.update(he.metrics,he),i._bodiesClearForces(De),I.trigger(he,"afterUpdate",be),he},i.merge=function(he,ne){if(q.extend(he,ne),ne.world){he.world=ne.world,i.clear(he);for(var le=j.allBodies(he.world),pe=0;pe<le.length;pe++){var fe=le[pe];c.set(fe,!1),fe.id=q.nextId()}}},i.clear=function(he){var ne=he.world;G.clear(he.pairs);var le=he.broadphase;if(le.controller){var pe=j.allBodies(ne);le.controller.clear(le),le.controller.update(le,pe,he,!0)}},i._bodiesClearForces=function(he){for(var ne=0;ne<he.length;ne++){var le=he[ne];le.force.x=0,le.force.y=0,le.torque=0}},i._bodiesApplyGravity=function(he,ne){var le=typeof ne.scale!="undefined"?ne.scale:.001;if(!(ne.x===0&&ne.y===0||le===0))for(var pe=0;pe<he.length;pe++){var fe=he[pe];fe.isStatic||fe.isSleeping||(fe.force.y+=fe.mass*ne.y*le,fe.force.x+=fe.mass*ne.x*le)}},i._bodiesUpdate=function(he,ne,le,pe,fe){for(var xe=0;xe<he.length;xe++){var ye=he[xe];ye.isStatic||ye.isSleeping||ce.update(ye,ne,le,pe)}}})()},function(a,n,t){var i={};a.exports=i;var h=t(5),c=t(0);(function(){i.create=function(P){var U={extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0};return c.extend(U,!1,P)},i.reset=function(P){P.extended&&(P.narrowDetections=0,P.narrowphaseTests=0,P.narrowReuse=0,P.narrowReuseCount=0,P.midphaseTests=0,P.broadphaseTests=0,P.narrowEff=0,P.midEff=0,P.broadEff=0,P.collisions=0,P.buckets=0,P.pairs=0,P.bodies=0)},i.update=function(P,U){if(P.extended){var G=U.world,A=h.allBodies(G);P.collisions=P.narrowDetections,P.pairs=U.pairs.list.length,P.bodies=A.length,P.midEff=(P.narrowDetections/(P.midphaseTests||1)).toFixed(2),P.narrowEff=(P.narrowDetections/(P.narrowphaseTests||1)).toFixed(2),P.broadEff=(1-P.broadphaseTests/(A.length||1)).toFixed(2),P.narrowReuse=(P.narrowReuseCount/(P.narrowphaseTests||1)).toFixed(2)}}})()},function(a,n,t){var i=a.exports=t(25);i.Body=t(6),i.Composite=t(5),i.World=t(19),i.Contact=t(18),i.Detector=t(12),i.Grid=t(11),i.Pairs=t(20),i.Pair=t(9),i.Query=t(26),i.Resolver=t(21),i.SAT=t(13),i.Constraint=t(8),i.MouseConstraint=t(28),i.Common=t(0),i.Engine=t(22),i.Events=t(4),i.Mouse=t(14),i.Runner=t(29),i.Sleeping=t(7),i.Plugin=t(17),i.Metrics=t(23),i.Bodies=t(16),i.Composites=t(30),i.Axes=t(15),i.Bounds=t(1),i.Svg=t(31),i.Vector=t(2),i.Vertices=t(3),i.Render=t(10),i.RenderPixi=t(32),i.World.add=i.Composite.add,i.World.remove=i.Composite.remove,i.World.addComposite=i.Composite.addComposite,i.World.addBody=i.Composite.addBody,i.World.addConstraint=i.Composite.addConstraint,i.World.clear=i.Composite.clear,i.Engine.run=i.Runner.run},function(a,n,t){var i={};a.exports=i;var h=t(17),c=t(0);(function(){i.name="matter-js",i.version="0.14.2",i.uses=[],i.used=[],i.use=function(){h.use(i,Array.prototype.slice.call(arguments))},i.before=function(P,U){return P=P.replace(/^Matter./,""),c.chainPathBefore(i,P,U)},i.after=function(P,U){return P=P.replace(/^Matter./,""),c.chainPathAfter(i,P,U)}})()},function(a,n,t){var i={};a.exports=i;var h=t(2),c=t(13),P=t(1),U=t(16),G=t(3);(function(){i.collides=function(A,X){for(var I=[],j=0;j<X.length;j++){var re=X[j];if(P.overlaps(re.bounds,A.bounds))for(var q=re.parts.length===1?0:1;q<re.parts.length;q++){var ce=re.parts[q];if(P.overlaps(ce.bounds,A.bounds)){var he=c.collides(ce,A);if(he.collided){I.push(he);break}}}}return I},i.ray=function(A,X,I,j){j=j||1e-100;for(var re=h.angle(X,I),q=h.magnitude(h.sub(X,I)),ce=(I.x+X.x)*.5,he=(I.y+X.y)*.5,ne=U.rectangle(ce,he,q,j,{angle:re}),le=i.collides(ne,A),pe=0;pe<le.length;pe+=1){var fe=le[pe];fe.body=fe.bodyB=fe.bodyA}return le},i.region=function(A,X,I){for(var j=[],re=0;re<A.length;re++){var q=A[re],ce=P.overlaps(q.bounds,X);(ce&&!I||!ce&&I)&&j.push(q)}return j},i.point=function(A,X){for(var I=[],j=0;j<A.length;j++){var re=A[j];if(P.contains(re.bounds,X))for(var q=re.parts.length===1?0:1;q<re.parts.length;q++){var ce=re.parts[q];if(P.contains(ce.bounds,X)&&G.contains(ce.vertices,X)){I.push(re);break}}}return I}})()},function(a,n){if(typeof Cs=="undefined"){var t=new Error("Cannot find module 'undefined'");throw t.code="MODULE_NOT_FOUND",t}a.exports=Cs},function(a,n,t){var i={};a.exports=i;var h=t(3),c=t(7),P=t(14),U=t(4),G=t(12),A=t(8),X=t(5),I=t(0),j=t(1);(function(){i.create=function(re,q){var ce=(re?re.mouse:null)||(q?q.mouse:null);ce||(re&&re.render&&re.render.canvas?ce=P.create(re.render.canvas):q&&q.element?ce=P.create(q.element):(ce=P.create(),I.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var he=A.create({label:"Mouse Constraint",pointA:ce.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),ne={type:"mouseConstraint",mouse:ce,element:null,body:null,constraint:he,collisionFilter:{category:1,mask:4294967295,group:0}},le=I.extend(ne,q);return U.on(re,"beforeUpdate",function(){var pe=X.allBodies(re.world);i.update(le,pe),i._triggerEvents(le)}),le},i.update=function(re,q){var ce=re.mouse,he=re.constraint,ne=re.body;if(ce.button===0){if(he.bodyB)c.set(he.bodyB,!1),he.pointA=ce.position;else for(var le=0;le<q.length;le++)if(ne=q[le],j.contains(ne.bounds,ce.position)&&G.canCollide(ne.collisionFilter,re.collisionFilter))for(var pe=ne.parts.length>1?1:0;pe<ne.parts.length;pe++){var fe=ne.parts[pe];if(h.contains(fe.vertices,ce.position)){he.pointA=ce.position,he.bodyB=re.body=ne,he.pointB={x:ce.position.x-ne.position.x,y:ce.position.y-ne.position.y},he.angleB=ne.angle,c.set(ne,!1),U.trigger(re,"startdrag",{mouse:ce,body:ne});break}}}else he.bodyB=re.body=null,he.pointB=null,ne&&U.trigger(re,"enddrag",{mouse:ce,body:ne})},i._triggerEvents=function(re){var q=re.mouse,ce=q.sourceEvents;ce.mousemove&&U.trigger(re,"mousemove",{mouse:q}),ce.mousedown&&U.trigger(re,"mousedown",{mouse:q}),ce.mouseup&&U.trigger(re,"mouseup",{mouse:q}),P.clearSourceEvents(q)}})()},function(a,n,t){var i={};a.exports=i;var h=t(4),c=t(22),P=t(0);(function(){var U,G;if(typeof window!="undefined"&&(U=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,G=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),!U){var A;U=function(X){A=setTimeout(function(){X(P.now())},1e3/60)},G=function(){clearTimeout(A)}}i.create=function(X){var I={fps:60,correction:1,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:!1,enabled:!0},j=P.extend(I,X);return j.delta=j.delta||1e3/j.fps,j.deltaMin=j.deltaMin||1e3/j.fps,j.deltaMax=j.deltaMax||1e3/(j.fps*.5),j.fps=1e3/j.delta,j},i.run=function(X,I){return typeof X.positionIterations!="undefined"&&(I=X,X=i.create()),function j(re){X.frameRequestId=U(j),re&&X.enabled&&i.tick(X,I,re)}(),X},i.tick=function(X,I,j){var re=I.timing,q=1,ce,he={timestamp:re.timestamp};h.trigger(X,"beforeTick",he),h.trigger(I,"beforeTick",he),X.isFixed?ce=X.delta:(ce=j-X.timePrev||X.delta,X.timePrev=j,X.deltaHistory.push(ce),X.deltaHistory=X.deltaHistory.slice(-X.deltaSampleSize),ce=Math.min.apply(null,X.deltaHistory),ce=ce<X.deltaMin?X.deltaMin:ce,ce=ce>X.deltaMax?X.deltaMax:ce,q=ce/X.delta,X.delta=ce),X.timeScalePrev!==0&&(q*=re.timeScale/X.timeScalePrev),re.timeScale===0&&(q=0),X.timeScalePrev=re.timeScale,X.correction=q,X.frameCounter+=1,j-X.counterTimestamp>=1e3&&(X.fps=X.frameCounter*((j-X.counterTimestamp)/1e3),X.counterTimestamp=j,X.frameCounter=0),h.trigger(X,"tick",he),h.trigger(I,"tick",he),I.world.isModified&&I.render&&I.render.controller&&I.render.controller.clear&&I.render.controller.clear(I.render),h.trigger(X,"beforeUpdate",he),c.update(I,ce,q),h.trigger(X,"afterUpdate",he),I.render&&I.render.controller&&(h.trigger(X,"beforeRender",he),h.trigger(I,"beforeRender",he),I.render.controller.world(I.render),h.trigger(X,"afterRender",he),h.trigger(I,"afterRender",he)),h.trigger(X,"afterTick",he),h.trigger(I,"afterTick",he)},i.stop=function(X){G(X.frameRequestId)},i.start=function(X,I){i.run(X,I)}})()},function(a,n,t){var i={};a.exports=i;var h=t(5),c=t(8),P=t(0),U=t(6),G=t(16);(function(){i.stack=function(A,X,I,j,re,q,ce){for(var he=h.create({label:"Stack"}),ne=A,le=X,pe,fe=0,xe=0;xe<j;xe++){for(var ye=0,Me=0;Me<I;Me++){var be=ce(ne,le,Me,xe,pe,fe);if(be){var De=be.bounds.max.y-be.bounds.min.y,Be=be.bounds.max.x-be.bounds.min.x;De>ye&&(ye=De),U.translate(be,{x:Be*.5,y:De*.5}),ne=be.bounds.max.x+re,h.addBody(he,be),pe=be,fe+=1}else ne+=re}le+=ye+q,ne=A}return he},i.chain=function(A,X,I,j,re,q){for(var ce=A.bodies,he=1;he<ce.length;he++){var ne=ce[he-1],le=ce[he],pe=ne.bounds.max.y-ne.bounds.min.y,fe=ne.bounds.max.x-ne.bounds.min.x,xe=le.bounds.max.y-le.bounds.min.y,ye=le.bounds.max.x-le.bounds.min.x,Me={bodyA:ne,pointA:{x:fe*X,y:pe*I},bodyB:le,pointB:{x:ye*j,y:xe*re}},be=P.extend(Me,q);h.addConstraint(A,c.create(be))}return A.label+=" Chain",A},i.mesh=function(A,X,I,j,re){var q=A.bodies,ce,he,ne,le,pe;for(ce=0;ce<I;ce++){for(he=1;he<X;he++)ne=q[he-1+ce*X],le=q[he+ce*X],h.addConstraint(A,c.create(P.extend({bodyA:ne,bodyB:le},re)));if(ce>0)for(he=0;he<X;he++)ne=q[he+(ce-1)*X],le=q[he+ce*X],h.addConstraint(A,c.create(P.extend({bodyA:ne,bodyB:le},re))),j&&he>0&&(pe=q[he-1+(ce-1)*X],h.addConstraint(A,c.create(P.extend({bodyA:pe,bodyB:le},re)))),j&&he<X-1&&(pe=q[he+1+(ce-1)*X],h.addConstraint(A,c.create(P.extend({bodyA:pe,bodyB:le},re))))}return A.label+=" Mesh",A},i.pyramid=function(A,X,I,j,re,q,ce){return i.stack(A,X,I,j,re,q,function(he,ne,le,pe,fe,xe){var ye=Math.min(j,Math.ceil(I/2)),Me=fe?fe.bounds.max.x-fe.bounds.min.x:0;if(!(pe>ye)){pe=ye-pe;var be=pe,De=I-1-pe;if(!(le<be||le>De)){xe===1&&U.translate(fe,{x:(le+(I%2==1?1:-1))*Me,y:0});var Be=fe?le*Me:0;return ce(A+Be+le*re,ne,le,pe,fe,xe)}}})},i.newtonsCradle=function(A,X,I,j,re){for(var q=h.create({label:"Newtons Cradle"}),ce=0;ce<I;ce++){var he=1.9,ne=G.circle(A+ce*(j*he),X+re,j,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),le=c.create({pointA:{x:A+ce*(j*he),y:X},bodyB:ne});h.addBody(q,ne),h.addConstraint(q,le)}return q},i.car=function(A,X,I,j,re){var q=U.nextGroup(!0),ce=20,he=-I*.5+ce,ne=I*.5-ce,le=0,pe=h.create({label:"Car"}),fe=G.rectangle(A,X,I,j,{collisionFilter:{group:q},chamfer:{radius:j*.5},density:2e-4}),xe=G.circle(A+he,X+le,re,{collisionFilter:{group:q},friction:.8}),ye=G.circle(A+ne,X+le,re,{collisionFilter:{group:q},friction:.8}),Me=c.create({bodyB:fe,pointB:{x:he,y:le},bodyA:xe,stiffness:1,length:0}),be=c.create({bodyB:fe,pointB:{x:ne,y:le},bodyA:ye,stiffness:1,length:0});return h.addBody(pe,fe),h.addBody(pe,xe),h.addBody(pe,ye),h.addConstraint(pe,Me),h.addConstraint(pe,be),pe},i.softBody=function(A,X,I,j,re,q,ce,he,ne,le){ne=P.extend({inertia:1/0},ne),le=P.extend({stiffness:.2,render:{type:"line",anchors:!1}},le);var pe=i.stack(A,X,I,j,re,q,function(fe,xe){return G.circle(fe,xe,he,ne)});return i.mesh(pe,I,j,ce,le),pe.label="Soft Body",pe}})()},function(a,n,t){var i={};a.exports=i,t(1);var h=t(0);(function(){i.pathToVertices=function(c,P){typeof window!="undefined"&&!("SVGPathSeg"in window)&&h.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var U,G,A,X,I,j,re,q,ce,he,ne=[],le,pe,fe=0,xe=0,ye=0;P=P||15;var Me=function(De,Be,Xe){var Ye=Xe%2==1&&Xe>1;if(!ce||De!=ce.x||Be!=ce.y){ce&&Ye?(le=ce.x,pe=ce.y):(le=0,pe=0);var Ze={x:le+De,y:pe+Be};(Ye||!ce)&&(ce=Ze),ne.push(Ze),xe=le+De,ye=pe+Be}},be=function(De){var Be=De.pathSegTypeAsLetter.toUpperCase();if(Be!=="Z"){switch(Be){case"M":case"L":case"T":case"C":case"S":case"Q":xe=De.x,ye=De.y;break;case"H":xe=De.x;break;case"V":ye=De.y;break}Me(xe,ye,De.pathSegType)}};for(i._svgPathToAbsolute(c),A=c.getTotalLength(),j=[],U=0;U<c.pathSegList.numberOfItems;U+=1)j.push(c.pathSegList.getItem(U));for(re=j.concat();fe<A;){if(he=c.getPathSegAtLength(fe),I=j[he],I!=q){for(;re.length&&re[0]!=I;)be(re.shift());q=I}switch(I.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":X=c.getPointAtLength(fe),Me(X.x,X.y,0);break}fe+=P}for(U=0,G=re.length;U<G;++U)be(re[U]);return ne},i._svgPathToAbsolute=function(c){for(var P,U,G,A,X,I,j=c.pathSegList,re=0,q=0,ce=j.numberOfItems,he=0;he<ce;++he){var ne=j.getItem(he),le=ne.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(le))"x"in ne&&(re=ne.x),"y"in ne&&(q=ne.y);else switch("x1"in ne&&(G=re+ne.x1),"x2"in ne&&(X=re+ne.x2),"y1"in ne&&(A=q+ne.y1),"y2"in ne&&(I=q+ne.y2),"x"in ne&&(re+=ne.x),"y"in ne&&(q+=ne.y),le){case"m":j.replaceItem(c.createSVGPathSegMovetoAbs(re,q),he);break;case"l":j.replaceItem(c.createSVGPathSegLinetoAbs(re,q),he);break;case"h":j.replaceItem(c.createSVGPathSegLinetoHorizontalAbs(re),he);break;case"v":j.replaceItem(c.createSVGPathSegLinetoVerticalAbs(q),he);break;case"c":j.replaceItem(c.createSVGPathSegCurvetoCubicAbs(re,q,G,A,X,I),he);break;case"s":j.replaceItem(c.createSVGPathSegCurvetoCubicSmoothAbs(re,q,X,I),he);break;case"q":j.replaceItem(c.createSVGPathSegCurvetoQuadraticAbs(re,q,G,A),he);break;case"t":j.replaceItem(c.createSVGPathSegCurvetoQuadraticSmoothAbs(re,q),he);break;case"a":j.replaceItem(c.createSVGPathSegArcAbs(re,q,ne.r1,ne.r2,ne.angle,ne.largeArcFlag,ne.sweepFlag),he);break;case"z":case"Z":re=P,q=U;break}(le=="M"||le=="m")&&(P=re,U=q)}}})()},function(a,n,t){var i={};a.exports=i;var h=t(1),c=t(5),P=t(0),U=t(4),G=t(2);(function(){var A,X;typeof window!="undefined"&&(A=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(q){window.setTimeout(function(){q(P.now())},1e3/60)},X=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),i.create=function(q){P.warn("RenderPixi.create: Matter.RenderPixi is deprecated (see docs)");var ce={controller:i,engine:null,element:null,frameRequestId:null,canvas:null,renderer:null,container:null,spriteContainer:null,pixiOptions:null,options:{width:800,height:600,background:"#fafafa",wireframeBackground:"#222",hasBounds:!1,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1}},he=P.extend(ce,q),ne=!he.options.wireframes&&he.options.background==="transparent";return he.pixiOptions=he.pixiOptions||{view:he.canvas,transparent:ne,antialias:!0,backgroundColor:q.background},he.mouse=q.mouse,he.engine=q.engine,he.renderer=he.renderer||new PIXI.WebGLRenderer(he.options.width,he.options.height,he.pixiOptions),he.container=he.container||new PIXI.Container,he.spriteContainer=he.spriteContainer||new PIXI.Container,he.canvas=he.canvas||he.renderer.view,he.bounds=he.bounds||{min:{x:0,y:0},max:{x:he.options.width,y:he.options.height}},U.on(he.engine,"beforeUpdate",function(){i.clear(he)}),he.textures={},he.sprites={},he.primitives={},he.container.addChild(he.spriteContainer),P.isElement(he.element)?he.element.appendChild(he.canvas):P.warn('No "render.element" passed, "render.canvas" was not inserted into document.'),he.canvas.oncontextmenu=function(){return!1},he.canvas.onselectstart=function(){return!1},he},i.run=function(q){(function ce(he){q.frameRequestId=A(ce),i.world(q)})()},i.stop=function(q){X(q.frameRequestId)},i.clear=function(q){for(var ce=q.container,he=q.spriteContainer;ce.children[0];)ce.removeChild(ce.children[0]);for(;he.children[0];)he.removeChild(he.children[0]);var ne=q.sprites["bg-0"];q.textures={},q.sprites={},q.primitives={},q.sprites["bg-0"]=ne,ne&&ce.addChildAt(ne,0),q.container.addChild(q.spriteContainer),q.currentBackground=null,ce.scale.set(1,1),ce.position.set(0,0)},i.setBackground=function(q,ce){if(q.currentBackground!==ce){var he=ce.indexOf&&ce.indexOf("#")!==-1,ne=q.sprites["bg-0"];if(he){var le=P.colorToNumber(ce);q.renderer.backgroundColor=le,ne&&q.container.removeChild(ne)}else if(!ne){var pe=re(q,ce);ne=q.sprites["bg-0"]=new PIXI.Sprite(pe),ne.position.x=0,ne.position.y=0,q.container.addChildAt(ne,0)}q.currentBackground=ce}},i.world=function(q){var ce=q.engine,he=ce.world,ne=q.renderer,le=q.container,pe=q.options,fe=c.allBodies(he),xe=c.allConstraints(he),ye=[],Me;pe.wireframes?i.setBackground(q,pe.wireframeBackground):i.setBackground(q,pe.background);var be=q.bounds.max.x-q.bounds.min.x,De=q.bounds.max.y-q.bounds.min.y,Be=be/q.options.width,Xe=De/q.options.height;if(pe.hasBounds){for(Me=0;Me<fe.length;Me++){var Ye=fe[Me];Ye.render.sprite.visible=h.overlaps(Ye.bounds,q.bounds)}for(Me=0;Me<xe.length;Me++){var Ze=xe[Me],Tt=Ze.bodyA,bt=Ze.bodyB,Yt=Ze.pointA,zt=Ze.pointB;Tt&&(Yt=G.add(Tt.position,Ze.pointA)),bt&&(zt=G.add(bt.position,Ze.pointB)),!(!Yt||!zt)&&(h.contains(q.bounds,Yt)||h.contains(q.bounds,zt))&&ye.push(Ze)}le.scale.set(1/Be,1/Xe),le.position.set(-q.bounds.min.x*(1/Be),-q.bounds.min.y*(1/Xe))}else ye=xe;for(Me=0;Me<fe.length;Me++)i.body(q,fe[Me]);for(Me=0;Me<ye.length;Me++)i.constraint(q,ye[Me]);ne.render(le)},i.constraint=function(q,ce){q.engine;var he=ce.bodyA,ne=ce.bodyB,le=ce.pointA,pe=ce.pointB,fe=q.container,xe=ce.render,ye="c-"+ce.id,Me=q.primitives[ye];if(Me||(Me=q.primitives[ye]=new PIXI.Graphics),!xe.visible||!ce.pointA||!ce.pointB){Me.clear();return}P.indexOf(fe.children,Me)===-1&&fe.addChild(Me),Me.clear(),Me.beginFill(0,0),Me.lineStyle(xe.lineWidth,P.colorToNumber(xe.strokeStyle),1),he?Me.moveTo(he.position.x+le.x,he.position.y+le.y):Me.moveTo(le.x,le.y),ne?Me.lineTo(ne.position.x+pe.x,ne.position.y+pe.y):Me.lineTo(pe.x,pe.y),Me.endFill()},i.body=function(q,ce){q.engine;var he=ce.render;if(!!he.visible)if(he.sprite&&he.sprite.texture){var ne="b-"+ce.id,le=q.sprites[ne],pe=q.spriteContainer;le||(le=q.sprites[ne]=I(q,ce)),P.indexOf(pe.children,le)===-1&&pe.addChild(le),le.position.x=ce.position.x,le.position.y=ce.position.y,le.rotation=ce.angle,le.scale.x=he.sprite.xScale||1,le.scale.y=he.sprite.yScale||1}else{var fe="b-"+ce.id,xe=q.primitives[fe],ye=q.container;xe||(xe=q.primitives[fe]=j(q,ce),xe.initialAngle=ce.angle),P.indexOf(ye.children,xe)===-1&&ye.addChild(xe),xe.position.x=ce.position.x,xe.position.y=ce.position.y,xe.rotation=ce.angle-xe.initialAngle}};var I=function(q,ce){var he=ce.render,ne=he.sprite.texture,le=re(q,ne),pe=new PIXI.Sprite(le);return pe.anchor.x=ce.render.sprite.xOffset,pe.anchor.y=ce.render.sprite.yOffset,pe},j=function(q,ce){var he=ce.render,ne=q.options,le=new PIXI.Graphics,pe=P.colorToNumber(he.fillStyle),fe=P.colorToNumber(he.strokeStyle),xe=P.colorToNumber(he.strokeStyle),ye=P.colorToNumber("#bbb"),Me=P.colorToNumber("#CD5C5C"),be;le.clear();for(var De=ce.parts.length>1?1:0;De<ce.parts.length;De++){be=ce.parts[De],ne.wireframes?(le.beginFill(0,0),le.lineStyle(1,ye,1)):(le.beginFill(pe,1),le.lineStyle(he.lineWidth,fe,1)),le.moveTo(be.vertices[0].x-ce.position.x,be.vertices[0].y-ce.position.y);for(var Be=1;Be<be.vertices.length;Be++)le.lineTo(be.vertices[Be].x-ce.position.x,be.vertices[Be].y-ce.position.y);le.lineTo(be.vertices[0].x-ce.position.x,be.vertices[0].y-ce.position.y),le.endFill(),(ne.showAngleIndicator||ne.showAxes)&&(le.beginFill(0,0),ne.wireframes?le.lineStyle(1,Me,1):le.lineStyle(1,xe),le.moveTo(be.position.x-ce.position.x,be.position.y-ce.position.y),le.lineTo((be.vertices[0].x+be.vertices[be.vertices.length-1].x)/2-ce.position.x,(be.vertices[0].y+be.vertices[be.vertices.length-1].y)/2-ce.position.y),le.endFill())}return le},re=function(q,ce){var he=q.textures[ce];return he||(he=q.textures[ce]=PIXI.Texture.fromImage(ce)),he}})()}])}(),Vr;(function(a){a.RECTANGLE="rectangle",a.CIRCLE="circle",a.POLYGON="polygon"})(Vr||(Vr={}));var io=function(a){Rs(n,a);function n(t){return a.call(this,t)||this}return n.prototype.init=function(t){this.bodyParams=t},n.prototype.update=function(){this.body&&this.gameObject&&(this.gameObject.transform.anchor.x=0,this.gameObject.transform.anchor.y=0,this.gameObject.transform.position.x=this.body.position.x,this.gameObject.transform.position.y=this.body.position.y,this.bodyParams.stopRotation||(this.gameObject.transform.rotation=this.body.angle))},n.prototype.onDestroy=function(){ir.World.remove(this.PhysicsEngine.world,this.body,!0)},n.componentName="Physics",n}(ht),As=function(){function a(){this.Bodies=ir.Bodies}return a.prototype.create=function(n){var t=null,i=n.gameObject,h=n.bodyParams,c=this.getCoordinate(i),P=h.position?h.position.x:c.x,U=h.position?h.position.y:c.y;switch(h.type){case Vr.RECTANGLE:{var G=i.transform.size.width*i.transform.scale.x,A=i.transform.size.height*i.transform.scale.y;t=this.Bodies.rectangle(P,U,G,A,h.bodyOptions);break}case Vr.CIRCLE:{t=this.Bodies.circle(P,U,h.radius,h.bodyOptions);break}case Vr.POLYGON:{t=this.Bodies.polygon(P,U,h.sides,h.radius,h.bodyOptions);break}}return t},a.prototype.getCoordinate=function(n){var t=n.transform.position.x+n.transform.anchor.x*n.parent.transform.size.width,i=n.transform.position.y+n.transform.anchor.y*n.parent.transform.size.height;return{x:t,y:i}},a}(),Is=As,Pl=function(){function a(n,t){this.enabled=!1,this.Engine=ir.Engine,this.World=ir.World,this.bodiesFatoty=new Is,this.Render=ir.Render,this.Runner=ir.Runner,this.Constraint=ir.Constraint,this.game=n,this.collisionEvents=["collisionStart","collisionActive","collisionEnd"],this.bodyEvents=["tick","beforeUpdate","afterUpdate","beforeRender","afterRender","afterTick"],this.options=t}return a.prototype.start=function(){this.engine=this.Engine.create();var n=this.World.create(this.options.world);if(this.engine.world=n,this.runner=this.Runner.create({fps:this.options.fps||70}),this.options.isTest){var t=this.Render.create({element:this.options.element,engine:this.engine,options:{width:this.game.canvas.width/this.options.resolution,height:this.game.canvas.height/this.options.resolution,pixelRatio:this.options.resolution,showAngleIndicator:!0}});this.Render.run(t),this.Runner.run(this.runner,this.engine)}this.enabled=!0,this.initMouse(),this.initCollisionEvents(),this.initBodyEvents()},a.prototype.update=function(){this.options.isTest||this.Runner.tick(this.runner,this.engine)},a.prototype.stop=function(){this.enabled=!1,this.runner.enabled=!1},a.prototype.awake=function(){this.enabled=!0,this.runner.enabled=!0},a.prototype.add=function(n){var t=this.createBodies(n);this.World.add(this.engine.world,[t]),n.body=t,n.Body=ir.Body,n.PhysicsEngine=this.engine,n.Constraint=this.Constraint,n.mouseConstraint=this.mouseConstraint,n.World=this.World,t.component=n},a.prototype.createBodies=function(n){var t=this.bodiesFatoty.create(n);return t},a.prototype.initCollisionEvents=function(){var n=this;this.collisionEvents.forEach(function(t){ir.Events.on(n.engine,t,function(i){for(var h=i.pairs||[],c=0;c<h.length;c++){var P=h[c],U=P.bodyA,G=P.bodyB,A=U.component,X=G.component;A.emit(t,X.gameObject,A.gameObject),X.emit(t,A.gameObject,X.gameObject)}})})},a.prototype.initMouse=function(){if(this.options.mouse&&this.options.mouse.open){var n=ir.Mouse.create(this.game.canvas);this.mouseConstraint=ir.MouseConstraint.create(this.engine,{mouse:n,constraint:this.options.mouse.constraint}),this.World.add(this.engine.world,this.mouseConstraint)}},a.prototype.initBodyEvents=function(){var n=this;this.bodyEvents.forEach(function(t){ir.Events.on(n.engine,t,function(i){var h=i.source.world.bodies;h.forEach(function(c){c.component.emit(t,c,c.component.gameObject)})})})},a}(),Ds=Pl,Ml=function(a){Rs(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.init=function(t){this.engine=new Ds(this.game,t),this.game.canvas.setAttribute("data-pixel-ratio",t.resolution||"1")},n.prototype.awake=function(){},n.prototype.start=function(){this.engine.start()},n.prototype.update=function(){var t,i,h=this.componentObserver.clear();try{for(var c=Yf(h),P=c.next();!P.done;P=c.next()){var U=P.value;U&&U.componentName==="Physics"&&this.componentChanged(U)}}catch(G){t={error:G}}finally{try{P&&!P.done&&(i=c.return)&&i.call(c)}finally{if(t)throw t.error}}this.engine.update()},n.prototype.componentChanged=function(t){switch(t.type){case st.ADD:{this.engine.add(t.component);break}case st.CHANGE:break;case st.REMOVE:break}},n.prototype.lateUpdate=function(){},n.prototype.onResume=function(){this.engine.enabled||this.engine.awake()},n.prototype.onPause=function(){this.engine.stop()},n.prototype.onDestroy=function(){},n.systemName="PhysicsSystem",n=Vf([wt.componentObserver({Physics:[{prop:["bodyParams"],deep:!0}]})],n),n}(dt),Kf=Ml;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ls=function(a,n){return Ls=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var h in i)i.hasOwnProperty(h)&&(t[h]=i[h])},Ls(a,n)};function si(a,n){Ls(a,n);function t(){this.constructor=a}a.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}function Fs(a,n,t,i){var h=arguments.length,c=h<3?n:i===null?i=Object.getOwnPropertyDescriptor(n,t):i,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(a,n,t,i);else for(var U=a.length-1;U>=0;U--)(P=a[U])&&(c=(h<3?P(c):h>3?P(n,t,c):P(n,t))||c);return h>3&&c&&Object.defineProperty(n,t,c),c}function et(a,n,t,i){return new(t||(t=Promise))(function(h,c){function P(A){try{G(i.next(A))}catch(X){c(X)}}function U(A){try{G(i.throw(A))}catch(X){c(X)}}function G(A){A.done?h(A.value):new t(function(X){X(A.value)}).then(P,U)}G((i=i.apply(a,n||[])).next())})}function Vt(a,n){var t={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},i,h,c,P;return P={next:U(0),throw:U(1),return:U(2)},typeof Symbol=="function"&&(P[Symbol.iterator]=function(){return this}),P;function U(A){return function(X){return G([A,X])}}function G(A){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,h&&(c=A[0]&2?h.return:A[0]?h.throw||((c=h.return)&&c.call(h),0):h.next)&&!(c=c.call(h,A[1])).done)return c;switch(h=0,c&&(A=[A[0]&2,c.value]),A[0]){case 0:case 1:c=A;break;case 4:return t.label++,{value:A[1],done:!1};case 5:t.label++,h=A[1],A=[0];continue;case 7:A=t.ops.pop(),t.trys.pop();continue;default:if(c=t.trys,!(c=c.length>0&&c[c.length-1])&&(A[0]===6||A[0]===2)){t=0;continue}if(A[0]===3&&(!c||A[1]>c[0]&&A[1]<c[3])){t.label=A[1];break}if(A[0]===6&&t.label<c[1]){t.label=c[1],c=A;break}if(c&&t.label<c[2]){t.label=c[2],t.ops.push(A);break}c[2]&&t.ops.pop(),t.trys.pop();continue}A=n.call(a,t)}catch(X){A=[6,X],h=0}finally{i=c=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}}var Ct=function(a){si(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(lt.Graphics),Xt=Ct,Fn=function(a){si(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.graphics=null,t}return n.prototype.init=function(){this.graphics=new Xt},n.componentName="Graphics",n}(ht),ui=Fn,Bt=function(a){si(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.name="Graphics",t}return n.prototype.init=function(){this.renderSystem=this.game.getSystem(Wt),this.renderSystem.rendererManager.register(this)},n.prototype.componentChanged=function(t){return et(this,void 0,void 0,function(){return Vt(this,function(i){return t.type===st.ADD?this.containerManager.getContainer(t.gameObject.id).addChildAt(t.component.graphics,0):t.type===st.REMOVE&&(this.containerManager.getContainer(t.gameObject.id).removeChild(t.component.graphics),t.component.graphics.destroy({children:!0})),[2]})})},n.systemName="Graphics",n=Fs([wt.componentObserver({Graphics:["graphics"]})],n),n}(zr),ia=Bt;class kn extends ht{constructor(){super(...arguments);this.bowStartTime=0,this.arrowStartTime=0,this.background=15658734,this.arrowColor=10000127,this.bowColor=4997596,this.arrowStop=!1,this.bowStop=!1}init(){const n=new Dt("back"),t=new Dt("front"),i=new Dt("bow");this.gameObject.addChild(n),this.gameObject.addChild(t),this.gameObject.addChild(i),this.backGraphics=n.addComponent(new ui({size:{width:100,height:100}})),this.arrowGraphics=t.addComponent(new ui),this.backGraphics.graphics.lineStyle(10,this.background),this.backGraphics.graphics.arc(0,0,40,0,Math.PI*2)}setArrowProgress(n){this.arrowGraphics.graphics.clear(),this.arrowGraphics.graphics.lineStyle(10,this.arrowColor),this.arrowGraphics.graphics.arc(0,0,40,0,Math.PI*2*n)}setBowProgress(n){this.bowGraphics.graphics.clear(),this.bowGraphics.graphics.lineStyle(10,this.bowColor),this.bowGraphics.graphics.arc(0,0,40,0,Math.PI*2*n)}update(){this.updateArrow()}updateArrow(){if(this.arrowStop)return;let n=(Date.now()-this.arrowStartTime)/s;n=n>1?1:n,n===1&&(this.arrowStop=!0,this.emit("arrowReady")),this.setArrowProgress(n)}updateBow(){if(this.bowStop)return;let n=(Date.now()-this.bowStartTime)/f;n=n>1?1:n,n===1&&(this.bowStop=!0,this.emit("bowReady")),this.setBowProgress(n)}canBow(){return Date.now()-this.bowStartTime>f}canArrow(){return Date.now()-this.arrowStartTime>s}bow(){this.bowStartTime=Date.now(),this.bowStop=!1}arrow(){this.arrowStartTime=Date.now(),this.arrowStop=!1}}kn.componentName="Progress";const Nn=34;class li extends ht{constructor(){super(...arguments);this.percent=0,this.point={left:[-80,Nn],right:[80,Nn]}}init(){const n=new Dt("back"),t=new Dt("front");this.gameObject.addChild(n),this.gameObject.addChild(t),this.leftGraphics=n.addComponent(new ui),this.rightGraphics=t.addComponent(new ui)}setPercent(n){this.percent=n,this.leftGraphics.graphics.clear(),this.rightGraphics.graphics.clear(),this.draw(this.leftGraphics.graphics,"left"),this.draw(this.rightGraphics.graphics,"right")}draw(n,t){n.lineStyle(1,0),n.moveTo(...this.point[t]),n.lineTo(0,this.percent+Nn)}}class oo extends ht{constructor(){super(...arguments);this.hp=80}onAttack(n){this.hp-=n,this.hp=Math.max(0,this.hp),this.emit("onAttack"),this.hp===0&&this.emit("gameover")}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ao=function(a,n){return ao=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var h in i)i.hasOwnProperty(h)&&(t[h]=i[h])},ao(a,n)};function oa(a,n){ao(a,n);function t(){this.constructor=a}a.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}function so(a,n,t,i){var h=arguments.length,c=h<3?n:i===null?i=Object.getOwnPropertyDescriptor(n,t):i,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(a,n,t,i);else for(var U=a.length-1;U>=0;U--)(P=a[U])&&(c=(h<3?P(c):h>3?P(n,t,c):P(n,t))||c);return h>3&&c&&Object.defineProperty(n,t,c),c}function fi(a,n,t,i){return new(t||(t=Promise))(function(h,c){function P(A){try{G(i.next(A))}catch(X){c(X)}}function U(A){try{G(i.throw(A))}catch(X){c(X)}}function G(A){A.done?h(A.value):new t(function(X){X(A.value)}).then(P,U)}G((i=i.apply(a,n||[])).next())})}function je(a,n){var t={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},i,h,c,P;return P={next:U(0),throw:U(1),return:U(2)},typeof Symbol=="function"&&(P[Symbol.iterator]=function(){return this}),P;function U(A){return function(X){return G([A,X])}}function G(A){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,h&&(c=A[0]&2?h.return:A[0]?h.throw||((c=h.return)&&c.call(h),0):h.next)&&!(c=c.call(h,A[1])).done)return c;switch(h=0,c&&(A=[A[0]&2,c.value]),A[0]){case 0:case 1:c=A;break;case 4:return t.label++,{value:A[1],done:!1};case 5:t.label++,h=A[1],A=[0];continue;case 7:A=t.ops.pop(),t.trys.pop();continue;default:if(c=t.trys,!(c=c.length>0&&c[c.length-1])&&(A[0]===6||A[0]===2)){t=0;continue}if(A[0]===3&&(!c||A[1]>c[0]&&A[1]<c[3])){t.label=A[1];break}if(A[0]===6&&t.label<c[1]){t.label=c[1],c=A;break}if(c&&t.label<c[2]){t.label=c[2],t.ops.push(A);break}c[2]&&t.ops.pop(),t.trys.pop();continue}A=n.call(a,t)}catch(X){A=[6,X],h=0}finally{i=c=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}}var aa=function(a){oa(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.text="",t.style={},t}return n.prototype.init=function(t){var i=new lt.TextStyle({fontSize:20}),h={};for(var c in i)c.indexOf("_")===0&&(h[c.substring(1)]=i[c]);this.style=h,t&&(this.text=t.text,Object.assign(this.style,t.style))},n.componentName="Text",so([wt.IDEProp],n.prototype,"text",void 0),so([wt.IDEProp],n.prototype,"style",void 0),n}(ht),sa=aa,Cr=function(a){oa(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.name="Text",t.texts={},t}return n.prototype.init=function(){this.renderSystem=this.game.getSystem(Wt),this.renderSystem.rendererManager.register(this)},n.prototype.componentChanged=function(t){return fi(this,void 0,void 0,function(){var i,h;return je(this,function(c){return t.componentName!=="Text"?[2]:(t.type===st.ADD?(i=t.component,h=new Wf(i.text,i.style),this.containerManager.getContainer(t.gameObject.id).addChildAt(h,0),this.texts[t.gameObject.id]={text:h,component:t.component},this.setSize(t)):t.type===st.REMOVE?(this.containerManager.getContainer(t.gameObject.id).removeChild(this.texts[t.gameObject.id].text),this.texts[t.gameObject.id].text.destroy({children:!0}),delete this.texts[t.gameObject.id]):(this.change(t),this.setSize(t)),[2])})})},n.prototype.change=function(t){var i=this.texts[t.gameObject.id],h=i.text,c=i.component;t.prop.prop[0]==="text"?h.text=c.text:t.prop.prop[0]==="style"&&Object.assign(h.style,t.component.style)},n.prototype.setSize=function(t){var i=t.gameObject.transform;!i||(i.size.width=this.texts[t.gameObject.id].text.width,i.size.height=this.texts[t.gameObject.id].text.height)},n.systemName="Text",n=so([wt.componentObserver({Text:["text",{prop:["style"],deep:!0}]})],n),n}(zr),pn=Cr;class uo extends ht{awake(){this.text=this.gameObject.getComponent(sa)}setHP(n){this.text.text=n}}function ci({position:a}){const n=new Dt("hp",{position:a});n.addComponent(new sa({text:"\u5339\u914D\u4E2D...",style:{fontSize:50,fill:16777215}}));const t=n.addComponent(new uo);return{hp:n,hpText:t}}var Ns=Object.defineProperty,Bs=Object.defineProperties,Yr=Object.getOwnPropertyDescriptors,hi=Object.getOwnPropertySymbols,Us=Object.prototype.hasOwnProperty,ua=Object.prototype.propertyIsEnumerable,xr=Math.pow,lo=(a,n,t)=>n in a?Ns(a,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[n]=t,fo=(a,n)=>{for(var t in n||(n={}))Us.call(n,t)&&lo(a,t,n[t]);if(hi)for(var t of hi(n))ua.call(n,t)&&lo(a,t,n[t]);return a},la=(a,n)=>Bs(a,Yr(n));class er extends ht{constructor(){super(...arguments);this.doing=!1,this.limitPos=!0}init({box:n,progress:t,string:i,myHPText:h}){this.box=n,this.progress=t,this.string=i,this.myHPText=h,this.player=this.gameObject.getComponent(oo),this.progress.on("arrowReady",()=>{const c=Math.cos(this.gameObject.transform.rotation)*-7,P=Math.sin(this.gameObject.transform.rotation)*7;this.createArrow({rotation:this.gameObject.transform.rotation,position:{x:P,y:c}})}),this.boxPhysics=this.box.getComponent(io),this.boxPhysics.on("collisionStart",c=>{if(c.destroy(),!window.isPlayerClient)return;const P=this.gameObject.getComponent(oo);P.onAttack(10),this.myHPText.setHP("HP\uFF1A"+P.hp)}),this.myHPText.setHP("HP\uFF1A"+this.player.hp)}awake(){}onBegin(){var n;((n=this.progress)==null?void 0:n.canArrow())&&(this.doing=!0)}onDrag(n){if(!this.doing)return;let t=Math.atan((n.y||1e-4)/(n.x||1e-7));n.x<0?t=t+Math.PI/2:t=t-Math.PI/2,this.gameObject.transform.rotation=t;const i=Math.sqrt(xr(n.x,2)+xr(n.y,2));this.string.setPercent(i*100),this.go.transform.rotation=t,this.go.transform.position.x=this.gameObject.transform.position.x+n.x*40,this.go.transform.position.y=this.gameObject.transform.position.y+n.y*40,this.force=i}onEnd(){if(this.string.setPercent(0),!this.doing)return;const n=Math.max(this.force*.6,.1),t=Math.tan(this.go.transform.rotation+Math.PI/2);let i=Math.sqrt(n/(1+xr(t,2)));i=t>0?-i:i;let h=t*i;this.go.addComponent(new io({type:Vr.RECTANGLE,bodyOptions:la(fo({},_),{force:{x:i,y:h},collisionFilter:{group:-1}}),stopRotation:!0})),this.progress.arrow(),this.emit("emit",{position:this.go.transform.position,force:{x:i,y:h},rotation:this.go.transform.rotation});let c=this.go;this.go=void 0,setTimeout(()=>{try{c.destroy()}catch(P){console.error(P)}},3e3),this.doing=!1}createArrow({position:n={x:0,y:0},rotation:t=0}){this.go=bs({x:n.x+this.gameObject.transform.position.x,y:n.y+this.gameObject.transform.position.y}),this.go.transform.rotation=t,this.gameObject.scene.addChild(this.go)}update(){const n=this.gameObject.transform.position,{x:t,y:i}=n;this.limitPos&&(t<100&&(n.x=100),i<12&&(n.y=12),t>y-100&&(n.x=y-100),i>l-32&&(n.y=l-32),!this.doing&&this.go&&(this.go.transform.position.x=this.gameObject.transform.position.x+40*Math.sin(this.go.transform.rotation),this.go.transform.position.y=this.gameObject.transform.position.y-40*Math.cos(this.go.transform.rotation))),this.boxPhysics.body&&this.boxPhysics.Body.setPosition(this.boxPhysics.body,{x:this.gameObject.transform.position.x,y:this.gameObject.transform.position.y}),this.emit("onframe")}}er.componentName="Attack";/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ar=function(a,n){return Ar=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var h in i)i.hasOwnProperty(h)&&(t[h]=i[h])},Ar(a,n)};function jr(a,n){Ar(a,n);function t(){this.constructor=a}a.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}function fa(a,n,t,i){var h=arguments.length,c=h<3?n:i===null?i=Object.getOwnPropertyDescriptor(n,t):i,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(a,n,t,i);else for(var U=a.length-1;U>=0;U--)(P=a[U])&&(c=(h<3?P(c):h>3?P(n,t,c):P(n,t))||c);return h>3&&c&&Object.defineProperty(n,t,c),c}function fr(a){var n=typeof Symbol=="function"&&a[Symbol.iterator],t=0;return n?n.call(a):{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}}}function bl(a,n){var t=typeof Symbol=="function"&&a[Symbol.iterator];if(!t)return a;var i=t.call(a),h,c=[],P;try{for(;(n===void 0||n-- >0)&&!(h=i.next()).done;)c.push(h.value)}catch(U){P={error:U}}finally{try{h&&!h.done&&(t=i.return)&&t.call(i)}finally{if(P)throw P.error}}return c}function di(){for(var a=[],n=0;n<arguments.length;n++)a=a.concat(bl(arguments[n]));return a}var ca={Circle:lt.Circle,Ellipse:lt.Ellipse,Polygon:lt.Polygon,Rect:lt.Rectangle,RoundedRect:lt.RoundedRectangle},$f={Circle:["x","y","radius"],Ellipse:["x","y","width","height"],Rect:["x","y","width","height"],RoundedRect:["x","y","width","height","radius"],Polygon:["paths"]},Ol=function(a){jr(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.name="Event",t}return n.prototype.init=function(t){var i=(t===void 0?{}:t).moveWhenInside,h=i===void 0?!1:i;this.renderSystem=this.game.getSystem(Wt),this.renderSystem.rendererManager.register(this);try{this.renderSystem.application.renderer.plugins.interaction.moveWhenInside=h}catch(c){console.error("Setting moveWhenInside error.",c)}},n.prototype.componentChanged=function(t){switch(t.type){case st.ADD:this.add(t);break;case st.REMOVE:this.remove(t);break;case st.CHANGE:this.change(t);break}},n.prototype.add=function(t){var i=this.containerManager.getContainer(t.gameObject.id);i.interactive=!0,i.interactiveChildren=!0;var h=t.component;h.hitArea&&this.addHitArea(t,i,h.hitArea),i.on("pointertap",function(c){h.emit("tap",{stopPropagation:function(){return c.stopPropagation()},data:{pointerId:c.data.pointerId,position:{x:c.data.global.x,y:c.data.global.y}},gameObject:h.gameObject})}),i.on("pointerdown",function(c){h.emit("touchstart",{stopPropagation:function(){return c.stopPropagation()},data:{pointerId:c.data.pointerId,position:{x:c.data.global.x,y:c.data.global.y}},gameObject:h.gameObject})}),i.on("pointermove",function(c){h.emit("touchmove",{stopPropagation:function(){return c.stopPropagation()},data:{pointerId:c.data.pointerId,position:{x:c.data.global.x,y:c.data.global.y}},gameObject:h.gameObject})}),i.on("pointerup",function(c){h.emit("touchend",{stopPropagation:function(){return c.stopPropagation()},data:{pointerId:c.data.pointerId,position:{x:c.data.global.x,y:c.data.global.y}},gameObject:h.gameObject})}),i.on("pointerupoutside",function(c){h.emit("touchendoutside",{stopPropagation:function(){return c.stopPropagation()},data:{pointerId:c.data.pointerId,position:{x:c.data.global.x,y:c.data.global.y}},gameObject:h.gameObject})}),i.on("pointercancel",function(c){h.emit("touchcancel",{stopPropagation:function(){return c.stopPropagation()},data:{pointerId:c.data.pointerId,position:{x:c.data.global.x,y:c.data.global.y}},gameObject:h.gameObject})})},n.prototype.remove=function(t){var i=this.containerManager.getContainer(t.gameObject.id);i.interactive=!1,i.off("tap"),i.off("pointerdown"),i.off("pointermove"),i.off("pointerup"),i.off("pointerupoutside"),i.off("pointercancel"),t.component.removeAllListeners()},n.prototype.change=function(t){var i=this.containerManager.getContainer(t.gameObject.id);i.interactive=!0;var h=t.component;h.hitArea?this.addHitArea(t,i,h.hitArea):h.hitArea=null},n.prototype.addHitArea=function(t,i,h){var c,P,U,G=h.type,A=h.style;if(!ca[G]){console.error(t.gameObject.name+"'s hitArea type is not defined");return}var X=[];try{for(var I=fr($f[G]),j=I.next();!j.done;j=I.next()){var re=j.value;X.push(A[re])}}catch(ce){c={error:ce}}finally{try{j&&!j.done&&(P=I.return)&&P.call(I)}finally{if(c)throw c.error}}var q=new((U=ca[G]).bind.apply(U,di([void 0],X)));i.hitArea=q},n.systemName="Event",n=fa([wt.componentObserver({Event:[{prop:["hitArea"],deep:!0}]})],n),n}(zr),Rl=Ol,pi;(function(a){a.Circle="Circle",a.Ellipse="Ellipse",a.Polygon="Polygon",a.Rect="Rect",a.RoundedRect="RoundedRect"})(pi||(pi={}));var Gs=function(a){jr(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.hitArea=void 0,t}return n.prototype.init=function(t){t&&Object.assign(this,t)},n.componentName="Event",n}(ht),vn=Gs;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ha=function(a,n){return ha=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var h in i)i.hasOwnProperty(h)&&(t[h]=i[h])},ha(a,n)};function Cl(a,n){ha(a,n);function t(){this.constructor=a}a.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var or=function(){return or=Object.assign||function(n){for(var t,i=1,h=arguments.length;i<h;i++){t=arguments[i];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(n[c]=t[c])}return n},or.apply(this,arguments)},wr;(function(a){a.Begin="Begin",a.Drag="Drag",a.End="End"})(wr||(wr={}));var Al=function(a){Cl(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.name="Joystick",t.limitRadius=70,t.boxImageResource="_Joystick_box",t.boxRadius=100,t.btnImageResource="_Joystick_btn",t.btnRadius=20,t.followPointer={open:!1},t.vector2={x:0,y:0},t.basePosition={x:0,y:0},t.moving=!1,t.triggerTouchstart=!1,t.triggerTouchend=!1,t.eventBinded=!1,t}return n.prototype.init=function(t){this.limitRadius=t.limitRadius||this.limitRadius,this.boxImageResource=t.boxImageResource||this.boxImageResource,this.boxRadius=t.boxRadius||this.boxRadius,this.btnImageResource=t.btnImageResource||this.btnImageResource,this.btnRadius=t.btnRadius||this.btnRadius,this.followPointer=t.followPointer||this.followPointer,this.initResource(t),this.boxGO=this.createGO("box",this.boxImageResource,this.boxRadius),this.btnGO=this.createGO("btn",this.btnImageResource,this.btnRadius,this.boxGO)},n.prototype.update=function(t){!this.eventBinded&&this.gameObject.scene&&(this.eventBinded=!0,this.bindTouch(),this.createFollowPointer()),this.triggerTouchstart&&(this.emit(wr.Begin,or(or({},this.vector2),{updateParams:t})),this.triggerTouchstart=!1),this.moving&&this.emit(wr.Drag,or(or({},this.vector2),{updateParams:t})),this.triggerTouchend&&(this.emit(wr.End,or(or({},this.vector2),{updateParams:t})),this.triggerTouchend=!1),this.btnGO.transform.position.x=this.vector2.x*this.limitRadius,this.btnGO.transform.position.y=this.vector2.y*this.limitRadius},n.prototype.bindTouch=function(){var t=this;if(this.followPointer.open){var i=new Dt("JoyStick_evt");this.evt=i.addComponent(new vn({hitArea:{type:pi.Rect,style:or({},this.followPointer.area)}})),this.gameObject.scene.addChild(i)}else this.evt=this.gameObject.addComponent(new vn);this.moving=!1,this.evt.on("touchstart",function(c){var P;t.moving=!0,t.basePosition.x=c.data.position.x,t.basePosition.y=c.data.position.y,t.triggerTouchstart=!0,t.pointerId=(P=c.data)===null||P===void 0?void 0:P.pointerId}),this.evt.on("touchmove",function(c){var P;if(!!t.moving&&!(((P=c.data)===null||P===void 0?void 0:P.pointerId)!==void 0&&t.pointerId!==c.data.pointerId)){var U=c.data.position,G=t.vector2;G.x=(U.x-t.basePosition.x)/t.limitRadius,G.y=(U.y-t.basePosition.y)/t.limitRadius;var A={x:Math.pow(G.x,2),y:Math.pow(G.y,2)};if(A.x+A.y>1){var X=Math.sqrt(A.x+A.y);G.x/=X,G.y/=X}}});var h=function(c){var P;((P=c.data)===null||P===void 0?void 0:P.pointerId)!==void 0&&t.pointerId!==c.data.pointerId||(t.moving=!1,t.vector2.x=0,t.vector2.y=0,t.triggerTouchend=!0)};this.evt.on("touchend",h),this.evt.on("touchendoutside",h)},n.prototype.createGO=function(t,i,h,c){var P=new Dt("Joystick_"+t,{size:{width:h*2,height:h*2},origin:{x:.5,y:.5},anchor:{x:.5,y:.5}});return P.addComponent(new ai({resource:i})),(c||this.gameObject).addChild(P),P},n.prototype.createFollowPointer=function(){var t=this;!this.followPointer.open||this.evt.on("touchstart",function(i){var h=i.data;t.gameObject.transform.position.x=h.position.x,t.gameObject.transform.position.y=h.position.y})},n.prototype.initResource=function(t){t.btnImageResource||Nt.addResource([{type:Jt.IMAGE,name:"_Joystick_btn",src:{image:{type:"png",url:"https://raw.githubusercontent.com/fanmingfei/eva-plugin-joystick/main/public/btn.png"}}}]),t.boxImageResource||Nt.addResource([{type:Jt.IMAGE,name:"_Joystick_box",src:{image:{type:"png",url:"https://raw.githubusercontent.com/fanmingfei/eva-plugin-joystick/main/public/box.png"}}}])},n.componentName="Joystick",n}(ht);class Il extends C(){on(n,t){return super.on(n,t)}once(n,t){return super.once(n,t)}}const Dl=[{name:"arrow",type:Jt.IMAGE,src:{image:{type:"png",url:"./statics/arrow.png"}},preload:!0},{name:"bow",type:Jt.IMAGE,src:{image:{type:"png",url:"./statics/bow.png"}},preload:!0},{name:"btn",type:Jt.IMAGE,src:{image:{type:"png",url:"./statics/btn.png"}},preload:!0},{name:"box",type:Jt.IMAGE,src:{image:{type:"png",url:"./statics/box.png"}},preload:!0},{name:"background",type:Jt.IMAGE,src:{image:{type:"png",url:"./statics/background.jpg"}},preload:!0}];/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Kr=function(a,n){return Kr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var h in i)i.hasOwnProperty(h)&&(t[h]=i[h])},Kr(a,n)};function Ll(a,n){Kr(a,n);function t(){this.constructor=a}a.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}function da(a,n,t,i){var h=arguments.length,c=h<3?n:i===null?i=Object.getOwnPropertyDescriptor(n,t):i,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(a,n,t,i);else for(var U=a.length-1;U>=0;U--)(P=a[U])&&(c=(h<3?P(c):h>3?P(n,t,c):P(n,t))||c);return h>3&&c&&Object.defineProperty(n,t,c),c}function mn(a,n,t,i){return new(t||(t=Promise))(function(h,c){function P(A){try{G(i.next(A))}catch(X){c(X)}}function U(A){try{G(i.throw(A))}catch(X){c(X)}}function G(A){A.done?h(A.value):new t(function(X){X(A.value)}).then(P,U)}G((i=i.apply(a,n||[])).next())})}function Qf(a,n){var t={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},i,h,c,P;return P={next:U(0),throw:U(1),return:U(2)},typeof Symbol=="function"&&(P[Symbol.iterator]=function(){return this}),P;function U(A){return function(X){return G([A,X])}}function G(A){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,h&&(c=A[0]&2?h.return:A[0]?h.throw||((c=h.return)&&c.call(h),0):h.next)&&!(c=c.call(h,A[1])).done)return c;switch(h=0,c&&(A=[A[0]&2,c.value]),A[0]){case 0:case 1:c=A;break;case 4:return t.label++,{value:A[1],done:!1};case 5:t.label++,h=A[1],A=[0];continue;case 7:A=t.ops.pop(),t.trys.pop();continue;default:if(c=t.trys,!(c=c.length>0&&c[c.length-1])&&(A[0]===6||A[0]===2)){t=0;continue}if(A[0]===3&&(!c||A[1]>c[0]&&A[1]<c[3])){t.label=A[1];break}if(A[0]===6&&t.label<c[1]){t.label=c[1],c=A;break}if(c&&t.label<c[2]){t.label=c[2],t.ops.push(A);break}c[2]&&t.ops.pop(),t.trys.pop();continue}A=n.call(a,t)}catch(X){A=[6,X],h=0}finally{i=c=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}}function Ws(a){var n=typeof Symbol=="function"&&a[Symbol.iterator],t=0;return n?n.call(a):{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}}}var pc=function(a){Ll(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.resource="",t.autoPlay=!0,t.speed=100,t.waitPlay=!1,t.waitStop=!1,t.times=1/0,t.count=0,t}return n.prototype.init=function(t){var i=this;t&&Object.assign(this,t),this.on("loop",function(){++i.count>=i.times&&(i.animate.stop(),i.emit("complete"))})},n.prototype.play=function(t){t===void 0&&(t=1/0),t!==0&&(this.times=t,this.animate?(this.animate.play(),this.count=0):this.waitPlay=!0)},n.prototype.stop=function(){this.animate?this.animate.stop():this.waitStop=!0},Object.defineProperty(n.prototype,"animate",{get:function(){return this._animate},set:function(t){this._animate=t,this.waitPlay&&(this.waitPlay=!1,this.play(this.times)),this.waitStop&&(this.waitStop=!1,this.stop())},enumerable:!1,configurable:!0}),n.prototype.gotoAndPlay=function(t){this.animate.gotoAndPlay(t)},n.prototype.gotoAndStop=function(t){this.animate.gotoAndStop(t)},n.componentName="SpriteAnimation",da([wt.IDEProp],n.prototype,"resource",void 0),da([wt.IDEProp],n.prototype,"autoPlay",void 0),da([wt.IDEProp],n.prototype,"speed",void 0),n}(ht),Zf=null,$r="_s|r|c_";Nt.registerInstance(Jt.SPRITE_ANIMATION,function(a){var n=a.name,t=a.data;return new Promise(function(i){var h,c,P=t.json,U=lt.BaseTexture.from(t.image),G=P.frames||{},A=P.animations||{},X={};for(var I in G){var j=n+$r+I;X[j]=G[I]}for(var I in A){var re=[];if(A[I]&&A[I].length>=0)try{for(var q=(h=void 0,Ws(A[I])),ce=q.next();!ce.done;ce=q.next()){var he=ce.value,ne=n+$r+he;re.push(ne)}}catch(fe){h={error:fe}}finally{try{ce&&!ce.done&&(c=q.return)&&c.call(q)}finally{if(h)throw h.error}}A[I]=re}P.frames=X;var le=new lt.Spritesheet(U,P);le.parse(function(){var pe=le.textures,fe=[];for(var xe in pe)fe.push(pe[xe]);i(fe)})})}),Nt.registerDestroy(Jt.SPRITE_ANIMATION,function(a){var n,t,i=a.instance;if(!!i)try{for(var h=Ws(i),c=h.next();!c.done;c=h.next()){var P=c.value;P.destroy(!0)}}catch(U){n={error:U}}finally{try{c&&!c.done&&(t=h.return)&&t.call(h)}finally{if(n)throw n.error}}});var Jf=function(a){Ll(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.name="SpriteAnimation",t.animates={},t.autoPlay={},t}return n.prototype.init=function(){this.renderSystem=this.game.getSystem(Wt),this.renderSystem.rendererManager.register(this)},n.prototype.rendererUpdate=function(t){var i=t.transform.size,h=i.width,c=i.height;this.animates[t.id]&&(this.animates[t.id].animatedSprite.width=h,this.animates[t.id].animatedSprite.height=c)},n.prototype.componentChanged=function(t){return mn(this,void 0,void 0,function(){var i,h,c;return Qf(this,function(P){switch(P.label){case 0:return t.componentName!=="SpriteAnimation"?[3,7]:(i=t.component,this.autoPlay[t.gameObject.id]=i.autoPlay,t.type!==st.ADD?[3,2]:[4,Nt.getResource(i.resource)]);case 1:return h=P.sent().instance,h||console.error("GameObject:"+t.gameObject.name+"'s Img resource load error"),this.add({frames:h,id:t.gameObject.id,component:i}),[3,7];case 2:return t.type!==st.CHANGE?[3,6]:t.prop&&t.prop.prop[0]==="speed"?(this.animates[t.gameObject.id].speed=1e3/60/i.speed,[3,5]):[3,3];case 3:return[4,Nt.getResource(i.resource)];case 4:c=P.sent().instance,c||console.error("GameObject:"+t.gameObject.name+"'s Img resource load error"),this.change({frames:c,id:t.gameObject.id,component:i}),P.label=5;case 5:return[3,7];case 6:t.type===st.REMOVE&&this.remove(t.gameObject.id),P.label=7;case 7:return[2]}})})},n.prototype.add=function(t){var i=t.frames,h=t.id,c=t.component,P=new Uf({frames:i});this.animates[h]=P,this.containerManager.getContainer(h).addChildAt(P.animatedSprite,0),P.animatedSprite.onComplete=function(){c.emit("complete")},P.animatedSprite.onFrameChange=function(){c.emit("frameChange")},P.animatedSprite.onLoop=function(){c.emit("loop")},c.animate=this.animates[h],this.animates[h].speed=1e3/60/c.speed,this.autoPlay[h]&&P.animatedSprite.play()},n.prototype.change=function(t){var i=t.frames,h=t.id,c=t.component;this.remove(h,!0),this.add({frames:i,id:h,component:c})},n.prototype.remove=function(t,i){var h=this.animates[t];this.autoPlay[t]=h.animatedSprite.playing,this.containerManager.getContainer(t).removeChild(h.animatedSprite),h.animatedSprite.destroy({children:!0}),delete this.animates[t],i||delete this.autoPlay[t]},n.systemName="SpriteAnimation",n=da([wt.componentObserver({SpriteAnimation:["speed","resource"]})],n),n}(zr),qf=Jf;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var pa=function(a,n){return pa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var h in i)i.hasOwnProperty(h)&&(t[h]=i[h])},pa(a,n)};function Fl(a,n){pa(a,n);function t(){this.constructor=a}a.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}function Ht(a,n,t,i){var h=arguments.length,c=h<3?n:i===null?i=Object.getOwnPropertyDescriptor(n,t):i,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(a,n,t,i);else for(var U=a.length-1;U>=0;U--)(P=a[U])&&(c=(h<3?P(c):h>3?P(n,t,c):P(n,t))||c);return h>3&&c&&Object.defineProperty(n,t,c),c}function Xs(a,n){var t=typeof Symbol=="function"&&a[Symbol.iterator];if(!t)return a;var i=t.call(a),h,c=[],P;try{for(;(n===void 0||n-- >0)&&!(h=i.next()).done;)c.push(h.value)}catch(U){P={error:U}}finally{try{h&&!h.done&&(t=i.return)&&t.call(i)}finally{if(P)throw P.error}}return c}function ec(){for(var a=[],n=0;n<arguments.length;n++)a=a.concat(Xs(arguments[n]));return a}var Bn=function(a){Fl(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.sortDirty=!1,t.visible=!0,t.alpha=1,t.zIndex=0,t.sortableChildren=!1,t}return n.prototype.init=function(t){t&&Object.assign(this,t)},n.componentName="Render",Ht([wt.IDEProp],n.prototype,"visible",void 0),Ht([wt.IDEProp],n.prototype,"alpha",void 0),Ht([wt.IDEProp],n.prototype,"zIndex",void 0),Ht([wt.IDEProp],n.prototype,"sortableChildren",void 0),n}(ht),Hs=null,vi=function(a){Fl(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.name="Render",t}return n.prototype.init=function(){this.renderSystem=this.game.getSystem(Wt),this.renderSystem.rendererManager.register(this)},n.prototype.rendererUpdate=function(t){var i=this,h=t.getComponent("Render"),c=this.containerManager.getContainer(t.id);if(c.alpha=h.alpha,c.visible=h.visible,h.sortDirty&&h.sortableChildren){var P=t.transform.children.map(function(X){var I=X.gameObject;return I}),U=P.sort(function(X,I){var j=X.getComponent("Render"),re=I.getComponent("Render");return j?re?j.zIndex-re.zIndex:1:-1}).map(function(X){return i.containerManager.getContainer(X.id)}),G=this.containerManager.getContainer(h.gameObject.id).children,A=G.filter(function(X){return U.indexOf(X)===-1});G.length=0,G.push.apply(G,ec(A,U)),h.sortDirty=!1}},n.prototype.componentChanged=function(t){(t.type===st.ADD||t.type===st.REMOVE)&&this.add(t),t.type===st.CHANGE&&this.change(t),t.type===st.REMOVE&&this.remove(t)},n.prototype.add=function(t){t.component.name==="Render"&&this.setDirty(t)},n.prototype.change=function(t){t.component.name==="Render"&&t.prop.prop[0]==="zIndex"&&this.setDirty(t)},n.prototype.remove=function(t){if(t.component.name==="Render"){var i=this.containerManager.getContainer(t.gameObject.id);i.alpha=1}},n.prototype.setDirty=function(t){var i=t.gameObject.parent&&t.gameObject.parent.getComponent("Render");i&&(i.sortDirty=!0)},n.systemName="Render",n=Ht([wt.componentObserver({Render:["zIndex"]})],n),n}(zr),zs=vi,tr={Linear:{None:function(a){return a}},Quadratic:{In:function(a){return a*a},Out:function(a){return a*(2-a)},InOut:function(a){return(a*=2)<1?.5*a*a:-.5*(--a*(a-2)-1)}},Cubic:{In:function(a){return a*a*a},Out:function(a){return--a*a*a+1},InOut:function(a){return(a*=2)<1?.5*a*a*a:.5*((a-=2)*a*a+2)}},Quartic:{In:function(a){return a*a*a*a},Out:function(a){return 1- --a*a*a*a},InOut:function(a){return(a*=2)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)}},Quintic:{In:function(a){return a*a*a*a*a},Out:function(a){return--a*a*a*a*a+1},InOut:function(a){return(a*=2)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)}},Sinusoidal:{In:function(a){return 1-Math.cos(a*Math.PI/2)},Out:function(a){return Math.sin(a*Math.PI/2)},InOut:function(a){return .5*(1-Math.cos(Math.PI*a))}},Exponential:{In:function(a){return a===0?0:Math.pow(1024,a-1)},Out:function(a){return a===1?1:1-Math.pow(2,-10*a)},InOut:function(a){return a===0?0:a===1?1:(a*=2)<1?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2)}},Circular:{In:function(a){return 1-Math.sqrt(1-a*a)},Out:function(a){return Math.sqrt(1- --a*a)},InOut:function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)}},Elastic:{In:function(a){return a===0?0:a===1?1:-Math.pow(2,10*(a-1))*Math.sin((a-1.1)*5*Math.PI)},Out:function(a){return a===0?0:a===1?1:Math.pow(2,-10*a)*Math.sin((a-.1)*5*Math.PI)+1},InOut:function(a){return a===0?0:a===1?1:(a*=2,a<1?-.5*Math.pow(2,10*(a-1))*Math.sin((a-1.1)*5*Math.PI):.5*Math.pow(2,-10*(a-1))*Math.sin((a-1.1)*5*Math.PI)+1)}},Back:{In:function(a){var n=1.70158;return a*a*((n+1)*a-n)},Out:function(a){var n=1.70158;return--a*a*((n+1)*a+n)+1},InOut:function(a){var n=1.70158*1.525;return(a*=2)<1?.5*(a*a*((n+1)*a-n)):.5*((a-=2)*a*((n+1)*a+n)+2)}},Bounce:{In:function(a){return 1-tr.Bounce.Out(1-a)},Out:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},InOut:function(a){return a<.5?tr.Bounce.In(a*2)*.5:tr.Bounce.Out(a*2-1)*.5+.5}}},Un;typeof self=="undefined"&&typeof process!="undefined"&&process.hrtime?Un=function(){var a=process.hrtime();return a[0]*1e3+a[1]/1e6}:typeof self!="undefined"&&self.performance!==void 0&&self.performance.now!==void 0?Un=self.performance.now.bind(self.performance):Date.now!==void 0?Un=Date.now:Un=function(){return new Date().getTime()};var Gn=Un,Vs=function(){function a(){this._tweens={},this._tweensAddedDuringUpdate={}}return a.prototype.getAll=function(){var n=this;return Object.keys(this._tweens).map(function(t){return n._tweens[t]})},a.prototype.removeAll=function(){this._tweens={}},a.prototype.add=function(n){this._tweens[n.getId()]=n,this._tweensAddedDuringUpdate[n.getId()]=n},a.prototype.remove=function(n){delete this._tweens[n.getId()],delete this._tweensAddedDuringUpdate[n.getId()]},a.prototype.update=function(n,t){n===void 0&&(n=Gn()),t===void 0&&(t=!1);var i=Object.keys(this._tweens);if(i.length===0)return!1;for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var h=0;h<i.length;h++){var c=this._tweens[i[h]],P=!t;c&&c.update(n,P)===!1&&!t&&delete this._tweens[i[h]]}i=Object.keys(this._tweensAddedDuringUpdate)}return!0},a}(),Qr={Linear:function(a,n){var t=a.length-1,i=t*n,h=Math.floor(i),c=Qr.Utils.Linear;return n<0?c(a[0],a[1],i):n>1?c(a[t],a[t-1],t-i):c(a[h],a[h+1>t?t:h+1],i-h)},Bezier:function(a,n){for(var t=0,i=a.length-1,h=Math.pow,c=Qr.Utils.Bernstein,P=0;P<=i;P++)t+=h(1-n,i-P)*h(n,P)*a[P]*c(i,P);return t},CatmullRom:function(a,n){var t=a.length-1,i=t*n,h=Math.floor(i),c=Qr.Utils.CatmullRom;return a[0]===a[t]?(n<0&&(h=Math.floor(i=t*(1+n))),c(a[(h-1+t)%t],a[h],a[(h+1)%t],a[(h+2)%t],i-h)):n<0?a[0]-(c(a[0],a[0],a[1],a[1],-i)-a[0]):n>1?a[t]-(c(a[t],a[t],a[t-1],a[t-1],i-t)-a[t]):c(a[h?h-1:0],a[h],a[t<h+1?t:h+1],a[t<h+2?t:h+2],i-h)},Utils:{Linear:function(a,n,t){return(n-a)*t+a},Bernstein:function(a,n){var t=Qr.Utils.Factorial;return t(a)/t(n)/t(a-n)},Factorial:function(){var a=[1];return function(n){var t=1;if(a[n])return a[n];for(var i=n;i>1;i--)t*=i;return a[n]=t,t}}(),CatmullRom:function(a,n,t,i,h){var c=(t-a)*.5,P=(i-n)*.5,U=h*h,G=h*U;return(2*n-2*t+c+P)*G+(-3*n+3*t-2*c-P)*U+c*h+n}}},co=function(){function a(){}return a.nextId=function(){return a._nextId++},a._nextId=0,a}(),Ys=new Vs,va=function(){function a(n,t){t===void 0&&(t=Ys),this._object=n,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=tr.Linear.None,this._interpolationFunction=Qr.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=co.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return a.prototype.getId=function(){return this._id},a.prototype.isPlaying=function(){return this._isPlaying},a.prototype.isPaused=function(){return this._isPaused},a.prototype.to=function(n,t){return this._valuesEnd=Object.create(n),t!==void 0&&(this._duration=t),this},a.prototype.duration=function(n){return this._duration=n,this},a.prototype.start=function(n){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var t in this._valuesStartRepeat)this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=n!==void 0?typeof n=="string"?Gn()+parseFloat(n):n:Gn(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},a.prototype._setupProperties=function(n,t,i,h){for(var c in i){var P=n[c],U=Array.isArray(P),G=U?"array":typeof P,A=!U&&Array.isArray(i[c]);if(!(G==="undefined"||G==="function")){if(A){var X=i[c];if(X.length===0)continue;X=X.map(this._handleRelativeValue.bind(this,P)),i[c]=[P].concat(X)}if((G==="object"||U)&&P&&!A){t[c]=U?[]:{};for(var I in P)t[c][I]=P[I];h[c]=U?[]:{},this._setupProperties(P,t[c],i[c],h[c])}else typeof t[c]=="undefined"&&(t[c]=P),U||(t[c]*=1),A?h[c]=i[c].slice().reverse():h[c]=t[c]||0}}},a.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},a.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},a.prototype.pause=function(n){return n===void 0&&(n=Gn()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=n,this._group&&this._group.remove(this),this)},a.prototype.resume=function(n){return n===void 0&&(n=Gn()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=n-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},a.prototype.stopChainedTweens=function(){for(var n=0,t=this._chainedTweens.length;n<t;n++)this._chainedTweens[n].stop();return this},a.prototype.group=function(n){return this._group=n,this},a.prototype.delay=function(n){return this._delayTime=n,this},a.prototype.repeat=function(n){return this._initialRepeat=n,this._repeat=n,this},a.prototype.repeatDelay=function(n){return this._repeatDelayTime=n,this},a.prototype.yoyo=function(n){return this._yoyo=n,this},a.prototype.easing=function(n){return this._easingFunction=n,this},a.prototype.interpolation=function(n){return this._interpolationFunction=n,this},a.prototype.chain=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return this._chainedTweens=n,this},a.prototype.onStart=function(n){return this._onStartCallback=n,this},a.prototype.onUpdate=function(n){return this._onUpdateCallback=n,this},a.prototype.onRepeat=function(n){return this._onRepeatCallback=n,this},a.prototype.onComplete=function(n){return this._onCompleteCallback=n,this},a.prototype.onStop=function(n){return this._onStopCallback=n,this},a.prototype.update=function(n,t){if(n===void 0&&(n=Gn()),t===void 0&&(t=!0),this._isPaused)return!0;var i,h,c=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(n>c)return!1;t&&this.start(n)}if(this._goToEnd=!1,n<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),h=(n-this._startTime)/this._duration,h=this._duration===0||h>1?1:h;var P=this._easingFunction(h);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,P),this._onUpdateCallback&&this._onUpdateCallback(this._object,h),h===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(i in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[i]=="string"&&(this._valuesStartRepeat[i]=this._valuesStartRepeat[i]+parseFloat(this._valuesEnd[i])),this._yoyo&&this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=n+this._repeatDelayTime:this._startTime=n+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var U=0,G=this._chainedTweens.length;U<G;U++)this._chainedTweens[U].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},a.prototype._updateProperties=function(n,t,i,h){for(var c in i)if(t[c]!==void 0){var P=t[c]||0,U=i[c],G=Array.isArray(n[c]),A=Array.isArray(U),X=!G&&A;X?n[c]=this._interpolationFunction(U,h):typeof U=="object"&&U?this._updateProperties(n[c],P,U,h):(U=this._handleRelativeValue(P,U),typeof U=="number"&&(n[c]=P+(U-P)*h))}},a.prototype._handleRelativeValue=function(n,t){return typeof t!="string"?t:t.charAt(0)==="+"||t.charAt(0)==="-"?n+parseFloat(t):parseFloat(t)},a.prototype._swapEndStartRepeatValues=function(n){var t=this._valuesStartRepeat[n],i=this._valuesEnd[n];typeof i=="string"?this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(i):this._valuesStartRepeat[n]=this._valuesEnd[n],this._valuesEnd[n]=t},a}(),tc="18.6.4",js=co.nextId,rr=Ys,rc=rr.getAll.bind(rr),ma=rr.removeAll.bind(rr),kl=rr.add.bind(rr),nc=rr.remove.bind(rr),ho=rr.update.bind(rr),vc={Easing:tr,Group:Vs,Interpolation:Qr,now:Gn,Sequence:co,nextId:js,Tween:va,VERSION:tc,getAll:rc,removeAll:ma,add:kl,remove:nc,update:ho};const Ks=null;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var e=function(a,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var h in i)i.hasOwnProperty(h)&&(t[h]=i[h])},e(a,n)};function r(a,n){e(a,n);function t(){this.constructor=a}a.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var u={linear:tr.Linear.None,"ease-in":tr.Quadratic.In,"ease-out":tr.Quadratic.Out,"ease-in-out":tr.Quadratic.InOut,"bounce-in":tr.Bounce.In,"bounce-out":tr.Bounce.Out,"bounce-in-out":tr.Bounce.InOut,none:function(a){return~~a}},R=function(){function a(n,t){this.tweens=[],this.timelines=[],this.finishCount=0,this.callbacks=new Map,this.objectCache={},this.currIteration=0,this.timelines=n,this.tweenGroup=t}return a.prototype.on=function(n,t){this.callbacks[n]||this.callbacks.set(n,[]),this.callbacks.get(n).push(t)},a.prototype.emit=function(n){var t=this.callbacks.get(n);!t||!t.length||t.forEach(function(i){return i()})},a.prototype.checkFinish=function(){if(++this.finishCount==this.tweens.length)if(++this.currIteration==this.iteration)this.emit("finish");else{if(this.stoped)return;this.start()}},a.prototype.getObjectCache=function(n,t){var i=""+n.gameObject.id+n.name;if(this.objectCache[i]||(this.objectCache[i]={}),this.objectCache[i][t])return this.objectCache[i][t];for(var h=t.split("."),c=h.length-1,P=n,U=0;U<c;U++)P=P[h[U]];return this.objectCache[i][t]={property:P,key:h[c]},this.objectCache[i][t]},a.prototype.doAnim=function(n){var t=n.component,i=n.name,h=n.value,c=this.getObjectCache(t,i),P=c.property,U=c.key;P[U]=h},a.prototype.init=function(){var n=this;this.checkFinishFunc=this.checkFinish.bind(this);var t;this.timelines.forEach(function(i,h){for(var c=0;c<i.values.length-1;c++){var P=i.values[c],U=i.values[c+1],G=new va({value:P.value},n.tweenGroup).to({value:U.value}).duration(U.time-P.time).easing(u[P.tween]).onUpdate(function(A){n.doAnim({component:i.component,name:i.name,value:A.value})});c===0?n.tweens[h]=G:t.chain(G),t=G}t&&t.onComplete(function(){return n.checkFinishFunc()})})},a.prototype.play=function(n){n===void 0&&(n=1),this.stoped=!1,this.start(),this.currIteration=0,this.iteration=n},a.prototype.start=function(){this.finishCount=0,this.tweens.length=0,this.init(),this.tweens.forEach(function(n){return n.start()})},a.prototype.pause=function(){this.tweens.forEach(function(n){return n.pause()})},a.prototype.resume=function(){this.tweens.forEach(function(n){return n.resume()})},a.prototype.stop=function(){this.stoped=!0,this.tweens.forEach(function(n){return n.stop()})},a.prototype.destroy=function(){this.stop(),this.tweens=null,this.timelines=null,this.objectCache=null,this.callbacks.clear(),this.callbacks=null},a}(),z=R,te=function(a){r(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.animations={},t.group={},t}return n.prototype.init=function(t){var i=(t===void 0?{group:{}}:t).group;this.group=i,this.tweenGroup=new Vs},n.prototype.awake=function(){for(var t in this.group)this.newAnimation(t)},n.prototype.play=function(t,i){t||(t=Object.keys(this.group)[0]),t&&!this.animations[t]&&this.group[t]&&this.newAnimation(t),t&&this.animations[t]&&this.animations[t].play(i)},n.prototype.stop=function(t){if(t)this.animations[t].stop();else for(var i in this.animations)this.animations[i].stop()},n.prototype.onPause=function(){for(var t in this.animations)this.animations[t].pause()},n.prototype.onResume=function(){for(var t in this.animations)this.animations[t].resume()},n.prototype.onDestroy=function(){for(var t in this.animations)this.animations[t].destroy();this.tweenGroup.removeAll(),this.tweenGroup=null,this.group=null,this.animations=null,this.removeAllListeners()},n.prototype.update=function(){this.tweenGroup.update()},n.prototype.newAnimation=function(t){var i=this,h=new z(this.group[t],this.tweenGroup);h.on("finish",function(){return i.emit("finish",t)}),this.animations[t]=h},n.componentName="Transition",n}(ht),ue=null,me=function(a){r(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.name="transition",t}return n.systemName="transition",n}(dt),Ee=me;const Ie=a=>{const n=a.addEventListener,t=[...new Set(["altKey","altitudeAngle","azimuthAngle","bubbles","button","buttons","cancelBubble","cancelable","clientX","clientY","composed","ctrlKey","currentTarget","defaultPrevented","detail","eventPhase","fromElement","height","isPrimary","isTrusted","layerX","layerY","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","path","pointerId","pointerType","pressure","relatedTarget","returnValue","screenX","screenY","shiftKey","sourceCapabilities","srcElement","tangentialPressure","target","tiltX","tiltY","timeStamp","toElement","twist","type","view","which","width","x","y"])],i=["altKey","touches","targetTouches","changedTouches","ctrlKey","shiftKey","metaKey"],h=["clientX","clientY","force","identifier","pageX","pageY","radiusX","radiusY","rotationAngle","screenX","screenY"],c=(U,G)=>{U.clientX=G.clientY,U.clientY=window.innerWidth-G.clientX},P=a.getBoundingClientRect;a.getBoundingClientRect=()=>{const U=P.call(a),G={};return G.width=U.height,G.height=U.width,G.x=U.y,G.y=innerWidth-U.width-U.left,Object.assign(U,G),U},a.addEventListener=function(U,G,A){n.call(a,U,X=>{const I={};(X instanceof TouchEvent?i:t).forEach(q=>{I[q]=X[q]}),X instanceof PointerEvent&&c(I,X),X.touches&&(I.touches=[],I.changedTouches=[],I.targetTouches=[],Object.values(X.touches).map((q,ce)=>{const he={};h.forEach(ne=>{he[ne]=q[ne]}),c(he,X.touches[ce]),he.target=a,I.touches.push(new Touch(he))}),Object.values(X.changedTouches).map((q,ce)=>{const he={};h.forEach(ne=>{he[ne]=q[ne]}),c(he,X.changedTouches[ce]),he.target=a,I.changedTouches.push(new Touch(he))}),Object.values(X.targetTouches).map((q,ce)=>{const he={};h.forEach(ne=>{he[ne]=q[ne]}),c(he,X.targetTouches[ce]),he.target=a,I.targetTouches.push(new Touch(he))}));let re;return X instanceof TouchEvent?re=new TouchEvent(U,I):re=new PointerEvent(U,I),G.call(a,re)},A)}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ve=function(a,n){return Ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var h in i)i.hasOwnProperty(h)&&(t[h]=i[h])},Ve(a,n)};function rt(a,n){Ve(a,n);function t(){this.constructor=a}a.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}function Ue(a,n,t,i){var h=arguments.length,c=h<3?n:i===null?i=Object.getOwnPropertyDescriptor(n,t):i,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(a,n,t,i);else for(var U=a.length-1;U>=0;U--)(P=a[U])&&(c=(h<3?P(c):h>3?P(n,t,c):P(n,t))||c);return h>3&&c&&Object.defineProperty(n,t,c),c}function Qe(a,n,t,i){return new(t||(t=Promise))(function(h,c){function P(A){try{G(i.next(A))}catch(X){c(X)}}function U(A){try{G(i.throw(A))}catch(X){c(X)}}function G(A){A.done?h(A.value):new t(function(X){X(A.value)}).then(P,U)}G((i=i.apply(a,n||[])).next())})}function nt(a,n){var t={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},i,h,c,P;return P={next:U(0),throw:U(1),return:U(2)},typeof Symbol=="function"&&(P[Symbol.iterator]=function(){return this}),P;function U(A){return function(X){return G([A,X])}}function G(A){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,h&&(c=A[0]&2?h.return:A[0]?h.throw||((c=h.return)&&c.call(h),0):h.next)&&!(c=c.call(h,A[1])).done)return c;switch(h=0,c&&(A=[A[0]&2,c.value]),A[0]){case 0:case 1:c=A;break;case 4:return t.label++,{value:A[1],done:!1};case 5:t.label++,h=A[1],A=[0];continue;case 7:A=t.ops.pop(),t.trys.pop();continue;default:if(c=t.trys,!(c=c.length>0&&c[c.length-1])&&(A[0]===6||A[0]===2)){t=0;continue}if(A[0]===3&&(!c||A[1]>c[0]&&A[1]<c[3])){t.label=A[1];break}if(A[0]===6&&t.label<c[1]){t.label=c[1],c=A;break}if(c&&t.label<c[2]){t.label=c[2],t.ops.push(A);break}c[2]&&t.ops.pop(),t.trys.pop();continue}A=n.call(a,t)}catch(X){A=[6,X],h=0}finally{i=c=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}}var qe=function(a){rt(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.resource="",t.tileScale={x:1,y:1},t.tilePosition={x:0,y:0},t}return n.prototype.init=function(t){t&&(this.resource=t.resource,this.tileScale=t.tileScale,this.tilePosition=t.tilePosition)},n.componentName="TilingSprite",Ue([wt.IDEProp],n.prototype,"resource",void 0),Ue([wt.IDEProp],n.prototype,"tileScale",void 0),Ue([wt.IDEProp],n.prototype,"tilePosition",void 0),n}(ht),Re=null,Pe=function(a){rt(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.name="TilingSprite",t.imgs={},t}return n.prototype.init=function(){this.renderSystem=this.game.getSystem(Wt),this.renderSystem.rendererManager.register(this)},n.prototype.rendererUpdate=function(t){var i=t.transform.size,h=i.width,c=i.height,P=this.imgs[t.id];P&&(P.tilingSprite.width=h,P.tilingSprite.height=c)},n.prototype.componentChanged=function(t){return Qe(this,void 0,void 0,function(){var i,h,c,P;return nt(this,function(U){switch(U.label){case 0:return t.componentName!=="TilingSprite"?[3,6]:(i=t.component,t.type!==st.ADD?[3,1]:(h=new qt(null),Nt.getResource(i.resource).then(function(G){var A=G.data;if(!A)throw new Error("GameObject:"+t.gameObject.name+"'s TilingSprite resource load error");h.image=A.image}),this.imgs[t.gameObject.id]=h,this.containerManager.getContainer(t.gameObject.id).addChildAt(h.tilingSprite,0),this.setProp(t.gameObject.id,i),[3,6]));case 1:return t.type!==st.CHANGE?[3,5]:t.prop.prop[0]!=="resource"?[3,3]:[4,Nt.getResource(i.resource)];case 2:if(c=U.sent().data,!c)throw new Error("GameObject:"+t.gameObject.name+"'s TilingSprite resource load error");return this.imgs[t.gameObject.id].image=c.image,[3,4];case 3:this.setProp(t.gameObject.id,i),U.label=4;case 4:return[3,6];case 5:t.type===st.REMOVE&&(P=this.imgs[t.gameObject.id],this.containerManager.getContainer(t.gameObject.id).removeChild(P.tilingSprite),P.tilingSprite.destory(!0),delete this.imgs[t.gameObject.id]),U.label=6;case 6:return[2]}})})},n.prototype.setProp=function(t,i){this.imgs[t].tilingSprite.tilePosition=i.tilePosition,this.imgs[t].tilingSprite.tileScale=i.tileScale},n=Ue([wt.componentObserver({TilingSprite:[{prop:["resource"],deep:!1},{prop:["tileScale"],deep:!0},{prop:["tilePosition"],deep:!0}]})],n),n}(zr),Oe=Pe;let Le,Ne;function it(a){return Nt.addResource(Dl),Nt.preload(),Ie(a),Le=new Dn({systems:[new Wt({canvas:a,width:y,height:l,antialias:!0,enableScroll:!1,resolution:window.devicePixelRatio/2}),new El,new Ee,new qf,new zs,new Rl,new ia,new pn,new Kf({resolution:window.devicePixelRatio/2,world:{gravity:{y:0}}}),new Oe]}),window.game=Le,Le.scene.transform.size.width=y,Le.scene.transform.size.height=l,Le.scene.addComponent(new ai({resource:"background"})),Ne=Le.scene.addComponent(new vn),{game:Le,appEvt:Ne}}function Ke(){return{game:Le,appEvt:Ne}}var ot=Object.defineProperty,ut=Object.defineProperties,at=Object.getOwnPropertyDescriptors,Zr=Object.getOwnPropertySymbols,ic=Object.prototype.hasOwnProperty,Rc=Object.prototype.propertyIsEnumerable,mc=(a,n,t)=>n in a?ot(a,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[n]=t,gc=(a,n)=>{for(var t in n||(n={}))ic.call(n,t)&&mc(a,t,n[t]);if(Zr)for(var t of Zr(n))Rc.call(n,t)&&mc(a,t,n[t]);return a},Cc=(a,n)=>ut(a,at(n));let gn,yc;function oc(a){g.emit("gameStart"),new Ac(a)}class Ac{constructor(n){this.eventer=new Il,this.bow=new Dt("bow",{size:{width:200,height:44},position:{x:812,y:470},origin:{x:.5,y:12/44}}),this.box=new Dt("box",{position:{x:this.bow.transform.position.x,y:this.bow.transform.position.y+26},size:{width:200,height:44},origin:{x:.5,y:.5}});const{game:t,appEvt:i}=Ke();gn=t,yc=i,m.socket.registerPlayer(this.eventer);const{bow:h,box:c}=this;this.initBow(),this.initBox(),this.initProgress(),this.initHp(),this.attackController=h.addComponent(new er({box:c,evt:yc,progress:this.progress,myHPText:this.myHPText,string:this.string})),this.attackController.on("onframe",()=>{var P,U;m.socket.send({type:"turn",data:{type:"move",x:this.bow.transform.position.x,y:this.bow.transform.position.y,rotation:this.bow.transform.rotation,force:this.string.percent,ax:(P=this.attackController.go)==null?void 0:P.transform.position.x,ay:(U=this.attackController.go)==null?void 0:U.transform.position.y}})}),this.initLeftJs(),this.initRightJs(),this.initNetReactive(),this.reloadHome(n),this.ready()}initBow(){const n=this.bow;n.addComponent(new ai({resource:"bow"})),this.player=n.addComponent(new oo),gn.scene.addChild(n);const t=new Dt("bowString",{anchor:{x:.5,y:0}});(this.string=t.addComponent(new li)).setPercent(0),n.addChild(t)}initBox(){const n=this.box;n.addComponent(new io({type:Vr.RECTANGLE,bodyOptions:{restitution:0,frictionAir:0,friction:0,frictionStatic:0,stopRotation:!1,collisionFilter:{group:-1},isStatic:!0}})),gn.scene.addChild(n)}initProgress(){const n=new Dt("",{position:{x:70,y:600}});this.progress=n.addComponent(new kn({})),gn.scene.addChild(n)}initHp(){const{hp:n,hpText:t}=ci({position:{y:670,x:50}});this.myHPText=t,gn.scene.addChild(n);const{hp:i,hpText:h}=ci({position:{y:100,x:50}});this.enemyHPText=h,gn.scene.addChild(i)}initLeftJs(){const n=this.leftJsGo=new Dt("Joystrick",{position:{x:300,y:670}}),t=this.leftJs=n.addComponent(new Al({boxImageResource:"box",btnImageResource:"btn",btnRadius:65,followPointer:{open:!0,area:{x:0,y:0,width:y/2,height:l}}}));gn.scene.addChild(n),t.on(wr.Begin,i=>{}),t.on(wr.Drag,i=>{const h=i.updateParams.deltaTime;this.bow.transform.position.x+=i.x*h*p,this.bow.transform.position.y+=i.y*h*p}),t.on(wr.End,i=>{})}initRightJs(){const n=new Dt("Joystrick",{position:{x:1300,y:670}});this.rightJs=n.addComponent(new Al({boxImageResource:"box",btnImageResource:"btn",btnRadius:65,followPointer:{open:!0,area:{x:y/2,y:0,width:y/2,height:l}}})),this.rightJs.on(wr.Begin,()=>{this.attackController.onBegin()}),this.rightJs.on(wr.Drag,t=>{this.attackController.onDrag(t)}),this.rightJs.on(wr.End,()=>{this.attackController.onEnd()}),this.bow.scene.addChild(n)}reloadHome(n){this.player.emit("onAttack")}initNetReactive(){this.eventer.on("home",n=>{this.reloadHome(n)}),this.eventer.once("out",n=>{this.enemyHPText.setHP("\u654C\u4EBA\u9003\u4E86\uFF0C\u4F60\u8D62\u4E86!"),this.close()}),this.eventer.on("turn",n=>{if(n.from===m.id)return;const t=n.data;switch(t.type){case"attack":{this.enemyHPText.setHP("\u654C\u65B9HP: "+t.hp),t.hp<=0&&(this.enemyHPText.setHP("\u4F60\u8D62\u4E86"),this.close());break}case"emit":{let{position:{x:i,y:h},force:c,rotation:P}=t;i=y-i,h=-h,c.x=-c.x,c.y=-c.y;let U=bs({x:i,y:h});U.transform.rotation=P+Math.PI,U.addComponent(new io({type:Vr.RECTANGLE,bodyOptions:Cc(gc({},_),{force:c,collisionFilter:{category:1}}),stopRotation:!0})),gn.scene.addChild(U),setTimeout(()=>{try{U.parent&&U.destroy()}catch(G){console.error(G)}},3e3);break}case"move":break}}),this.attackController.on("emit",n=>{m.socket.send({type:"turn",data:gc({type:"emit"},n)})}),this.player.on("onAttack",()=>{m.socket.send({type:"turn",data:{type:"attack",hp:this.player.hp}})}),this.player.on("gameover",()=>{m.socket.send({type:"failure",data:0}),this.enemyHPText.setHP("\u4F60\u8F93\u4E86"),this.close()})}ready(){m.socket.send({type:"ready",data:void 0}),this.player.emit("onAttack")}close(){const n=this.leftJs,t=this.rightJs;for(const i of[n,t])i.evt.gameObject.destroy(),i.gameObject.destroy();delete this.leftJsGo,delete this.leftJs,delete this.rightJs,this.bow.removeComponent(this.attackController),setTimeout(()=>{g.emit("gameOver"),this.destroy()},2e3)}destroy(){this.bow.destroy(),this.box.destroy();const n=gn.scene.gameObjects.filter(t=>t!==gn.scene);for(const t of n)t.destroy();m.socket.releasePlayer()}}var Ic=pt(3379),$s=pt.n(Ic),_c=pt(4028),ac={};ac.insert="head",ac.singleton=!1;var Vc=$s()(_c.Z,ac);const Yc=_c.Z.locals||{};function xc({type:a}={type:"home"}){const n=t=>{g.emit("selectPage",t)};return React.createElement("div",{className:"head-container"},React.createElement("div",{className:"list"},React.createElement("div",{className:"item",onClick:()=>n("home")},"\u623F\u95F4"),React.createElement("div",{className:"item",onClick:()=>n("rank")},"\u6392\u884C\u699C")),React.createElement("div",{className:`hr ${a==="home"?"select-left":"select-right"}`}))}var sc=(a,n,t)=>new Promise((i,h)=>{var c=G=>{try{U(t.next(G))}catch(A){h(A)}},P=G=>{try{U(t.throw(G))}catch(A){h(A)}},U=G=>G.done?i(G.value):Promise.resolve(G.value).then(c,P);U((t=t.apply(a,n)).next())});function Dc(){const a=()=>200+~~(Math.random()*50),[n,t]=(0,de.useState)([]),i=()=>sc(this,null,function*(){try{const A=yield m.wantJoinHome();oc(A)}catch(A){x.Z.show("\u53D1\u751F\u4E86\u4E00\u4E9B\u5C0F\u95EE\u9898")}}),h=()=>sc(this,null,function*(){try{const A=yield m.wantJoinHome(Math.random().toString());oc(A)}catch(A){x.Z.show("\u53D1\u751F\u4E86\u4E00\u4E9B\u5C0F\u95EE\u9898")}}),c=A=>sc(this,null,function*(){try{const X=yield m.wantJoinHome(A);oc(X)}catch(X){x.Z.show("\u53D1\u751F\u4E86\u4E00\u4E9B\u5C0F\u95EE\u9898")}}),P=()=>{m.wantHomeList().then(A=>{t(A.data)})};(0,de.useEffect)(()=>{let A=setInterval(()=>{P(),console.log(1212323)},3e3);return()=>{clearInterval(A)}},[]);const[U,G]=(0,de.useState)("\u83B7\u53D6\u4E2D...");return(0,de.useEffect)(()=>{m.wantRankList(0,0).then(A=>{G(A.data.index+"")})},[]),React.createElement("div",{className:"list-container"},React.createElement("div",{className:"list-header"},React.createElement(xc,{type:"home"}),React.createElement("div",{className:"head-pic"}),React.createElement("div",{className:"game-name"},"\u95EA\u7BAD\u4FA0"),React.createElement("div",{className:"user-info"},React.createElement("span",{className:"username"},m.name),React.createElement("span",{className:"rank"},"\u6392\u540D\uFF1A",U))),React.createElement("ul",{className:"room-list"},n.map(A=>React.createElement("li",{className:"room-item",style:{backgroundColor:`rgb(${a()},${a()},${a()})`},onClick:()=>c(A.token)},React.createElement("div",{className:"room-title"},A.users.length),React.createElement("div",{className:"people-count"},"\u4EBA\u6570\uFF1A123")))),React.createElement("div",{className:"actions"},React.createElement("div",{className:"create-room",onClick:h},"\u521B\u5EFA\u623F\u95F4"),React.createElement("div",{className:"quick-enter",onClick:i},"\u5FEB\u901F\u5F00\u59CB")))}var wc=pt(6188),uc={};uc.insert="head",uc.singleton=!1;var jc=$s()(wc.Z,uc);const Kc=wc.Z.locals||{};var Lc=(a,n,t)=>new Promise((i,h)=>{var c=G=>{try{U(t.next(G))}catch(A){h(A)}},P=G=>{try{U(t.throw(G))}catch(A){h(A)}},U=G=>G.done?i(G.value):Promise.resolve(G.value).then(c,P);U((t=t.apply(a,n)).next())});function Fc(){var a,n,t,i,h,c;const[P,U]=(0,de.useState)({data:{list:[]}});(0,de.useEffect)(()=>{G()},[]);function G(){return Lc(this,null,function*(){const A=yield m.wantRankList(0,50);U(A)})}return React.createElement("div",{className:"rank page"},React.createElement("div",{className:"top"},React.createElement(xc,{type:"rank"}),React.createElement("div",null,React.createElement("div",{className:"rank-card"},React.createElement("div",{className:"name"},(a=P.data.list[0])==null?void 0:a.name),React.createElement("div",{className:"score"},(n=P.data.list[0])==null?void 0:n.score,"\u573A")),React.createElement("div",{className:"rank-card"},React.createElement("div",{className:"name"},(t=P.data.list[1])==null?void 0:t.name),React.createElement("div",{className:"score"},(i=P.data.list[1])==null?void 0:i.score,"\u573A")),React.createElement("div",{className:"rank-card"},React.createElement("div",{className:"name"},(h=P.data.list[2])==null?void 0:h.name),React.createElement("div",{className:"score"},(c=P.data.list[2])==null?void 0:c.score,"\u573A")))),React.createElement("div",{className:"last"},React.createElement("div",{className:"rank-item"},React.createElement("div",{className:"index"},P.data.index),React.createElement("div",{className:"name"},m.name),React.createElement("div",{className:"score"},P.data.score,"\u573A")),React.createElement("div",{className:"hr gray"}),React.createElement("br",null),P.data.list.slice(3).map((A,X)=>React.createElement("div",{key:X},React.createElement("div",{className:"rank-item"},React.createElement("div",{className:"index"},X+4),React.createElement("div",{className:"name"},A.name),React.createElement("div",{className:"score"},A.score,"\u573A")),React.createElement("div",{className:"hr gray"})))))}function kc(){const[a,n]=(0,de.useState)("home");return(0,de.useEffect)(()=>{g.on("selectPage",t=>{n(t)})},[]),React.createElement(React.Fragment,null,a==="home"?React.createElement(Dc,null):React.createElement(Fc,null))}var Nc=(a,n,t)=>new Promise((i,h)=>{var c=G=>{try{U(t.next(G))}catch(A){h(A)}},P=G=>{try{U(t.throw(G))}catch(A){h(A)}},U=G=>G.done?i(G.value):Promise.resolve(G.value).then(c,P);U((t=t.apply(a,n)).next())});function Bc({dispose:a}){(0,de.useEffect)(()=>{const t=localStorage.QIANER_NAME,i=localStorage.QIANER_TIME;t&&i&&n(t,"0",i).then(h=>{h&&x.Z.show("\u81EA\u52A8\u767B\u5F55\u6210\u529F\uFF0C\u6B22\u8FCE: "+t)})},[]);function n(){return Nc(this,arguments,function*(t=document.querySelector("#nameInput").value,i=document.querySelector("#telInput").value,h=Date.now()){return(yield m.init(t,h,i))?(localStorage.QIANER_NAME=t,localStorage.QIANER_TIME=h,a(),!0):!1})}return React.createElement("div",{className:"login page"},React.createElement("input",{type:"text",id:"nameInput",placeholder:"\u8BF7\u8F93\u5165\u4F60\u7684\u6635\u79F0"}),React.createElement("input",{type:"tel",id:"telInput",placeholder:"\u8054\u7CFB\u65B9\u5F0F"}),React.createElement("div",{className:"tip"},"\u7528\u4E8E\u6392\u884C\u699C\u793C\u54C1\u5BC4\u9001"),React.createElement("div",{id:"enterBtn",onClick:()=>n()},"\u8FDB\u5165\u5927\u5385"))}var Tc=pt(3143),lc={};lc.insert="head",lc.singleton=!1;var $c=$s()(Tc.Z,lc);const Qc=Tc.Z.locals||{};var Sc=pt(2477),fc={};fc.insert="head",fc.singleton=!1;var Zc=$s()(Sc.Z,fc);const Jc=Sc.Z.locals||{};var Ec=pt(7450),cc={};cc.insert="head",cc.singleton=!1;var qc=$s()(Ec.Z,cc);const eh=Ec.Z.locals||{};function Uc(){(0,E.render)(React.createElement(Gc,null),document.querySelector("#react-app"))}function Gc(){const[a,n]=(0,de.useState)(!0),[t,i]=(0,de.useState)(!1);function h(){n(!1)}(0,de.useEffect)(()=>(it(document.querySelector("canvas")),g.on("gameStart",()=>{i(!0)}),g.on("gameOver",()=>{i(!1)}),()=>{g.off("gameStart"),g.off("gameOver")}),[]);const c={width:"100vh",height:"100vw",transform:"rotate(90deg)",transformOrigin:"50vw"};return React.createElement(React.Fragment,null,a?React.createElement(Bc,{dispose:h}):null,!a&&!t?React.createElement(kc,null):null,React.createElement("canvas",{style:c,id:"canvas",width:"0",height:"0",className:t?"":"hide"}))}window.React=de,Uc()})()})();
